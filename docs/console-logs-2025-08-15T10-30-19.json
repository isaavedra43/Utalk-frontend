{
  "exportDate": "2025-08-15T10:30:19.763Z",
  "totalLogs": 109,
  "logs": [
    {
      "timestamp": "2025-08-15T10:29:23.781Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de logs iniciada autom√°ticamente"
    },
    {
      "timestamp": "2025-08-15T10:29:23.781Z",
      "level": "info",
      "message": "[2025-08-15T10:29:23.781Z] [INFO] [SYSTEM] Iniciando aplicaci√≥n UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-15T10:29:23.781Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:23.781Z",
      "level": "info",
      "message": "[2025-08-15T10:29:23.781Z] [INFO] [CONFIG] Configuraci√≥n v√°lida al iniciar | Data: {\n  \"allSystemsReady\": true,\n  \"timestamp\": \"2025-08-15T10:29:23.781Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:23.791Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.791Z",
      "level": "log",
      "message": "üîó Room Config - No se puede validar (sin autenticaci√≥n v√°lida)"
    },
    {
      "timestamp": "2025-08-15T10:29:23.791Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.791Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.792Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "disconnected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.792Z",
      "level": "log",
      "message": "üîó Room Config - No se puede validar (sin autenticaci√≥n v√°lida)"
    },
    {
      "timestamp": "2025-08-15T10:29:23.792Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.792Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.804Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:23.804Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.047Z",
      "level": "info",
      "message": "[2025-08-15T10:29:33.047Z] [INFO] [AUTH] Iniciando login con backend | Data: {\n  \"email\": \"admin@company.com\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.061Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.062Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": false,
          "loading": true,
          "isAuthenticating": true,
          "hasUser": false,
          "hasBackendUser": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.062Z",
      "level": "info",
      "message": "[2025-08-15T10:29:33.062Z] [INFO] [API] Request sin token | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"isAuthEndpoint\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.062Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:33.062Z] [DEBUG] [API] Request: POST /api/auth/login | Data: {\n  \"email\": \"admin@company.com\",\n  \"password\": \"12345678\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.782Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:33.782Z] [DEBUG] [API] Response: POST /api/auth/login | Data: {\n  \"success\": true,\n  \"message\": \"Login exitoso\",\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjUzNzczLCJleHAiOjE3NTUyNTQ2NzMsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.yLXEv7_J3xPtz20XiiC3fR7KQy_rgOfwrjlNYckjwB0\",\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoicmVmcmVzaCIsInVzZXJFbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiZmFtaWx5SWQiOiJjZTczNTk1Ni05YzVhLTQxYmMtYWE1MS1lNTg2OWM0ZTU4ZjIiLCJkZXZpY2VJZCI6IjdmMzJkN2RkLWNhNmMtNDM1MC05YjYyLWM0OTFjZmViZTdjMiIsImlhdCI6MTc1NTI1Mzc3MywiZXhwIjoxNzU1ODU4NTczLCJhdWQiOiJ1dGFsay1hcGkiLCJpc3MiOiJ1dGFsay1iYWNrZW5kIn0.IwvTUY9U2s8S0m0Gr6be9ZhDmFsKwGwID6Uo115Sj_c\",\n  \"expiresIn\": \"15m\",\n  \"refreshExpiresIn\": \"7d\",\n  \"user\": {\n    \"id\": \"admin@company.com\",\n    \"email\": \"admin@company.com\",\n    \"name\": \"Administrador del Sistema\",\n    \"phone\": null,\n    \"role\": \"admin\",\n    \"permissions\": [\n      \"users.read\",\n      \"users.write\",\n      \"users.delete\",\n      \"conversations.read\",\n      \"conversations.write\",\n      \"conversations.delete\",\n      \"messages.read\",\n      \"messages.write\",\n      \"campaigns.read\",\n      \"campaigns.write\",\n      \"campaigns.delete\",\n      \"dashboard.read\",\n      \"settings.read\",\n      \"settings.write\",\n      \"crm.read\",\n      \"crm.write\"\n    ],\n    \"department\": \"admin\",\n    \"isActive\": true,\n    \"settings\": {\n      \"notifications\": true,\n      \"language\": \"es\",\n      \"timezone\": \"America/Mexico_City\"\n    },\n    \"lastLoginAt\": {\n      \"_seconds\": 1752719278,\n      \"_nanoseconds\": 484000000\n    },\n    \"createdAt\": {\n      \"_seconds\": 1755253773,\n      \"_nanoseconds\": 374000000\n    },\n    \"updatedAt\": {\n      \"_seconds\": 1753925658,\n      \"_nanoseconds\": 131000000\n    },\n    \"performance\": null\n  },\n  \"deviceInfo\": {\n    \"deviceId\": \"7f32d7dd-ca6c-4350-9b62-c491cfebe7c2\",\n    \"deviceType\": \"web\",\n    \"loginAt\": \"2025-08-15T10:29:33.600Z\"\n  }\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.782Z",
      "level": "info",
      "message": "[2025-08-15T10:29:33.782Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"POST\",\n  \"url\": \"/api/auth/login\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.782Z",
      "level": "log",
      "message": "‚úÖ Login exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T10:29:33.785Z",
      "level": "log",
      "message": "üîê AuthProvider - Estado actual:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.785Z",
      "level": "log",
      "message": "üîê AuthContext - Estado que se pasa al contexto:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false,
          "isAuthenticating": false,
          "hasUser": true,
          "hasBackendUser": true
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.786Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.786Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.792Z",
      "level": "info",
      "message": "[2025-08-15T10:29:33.792Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.792Z",
      "level": "info",
      "message": "[2025-08-15T10:29:33.792Z] [INFO] [SYSTEM] Obteniendo datos del dashboard | Data: {\n  \"useMockData\": true\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:33.884Z",
      "level": "log",
      "message": "üîå WebSocketContext - Login exitoso, conectando WebSocket inmediatamente..."
    },
    {
      "timestamp": "2025-08-15T10:29:33.884Z",
      "level": "log",
      "message": "üîå Iniciando conexi√≥n de socket..."
    },
    {
      "timestamp": "2025-08-15T10:29:33.884Z",
      "level": "log",
      "message": "üîå Configurando socket con URL:",
      "data": [
        "wss://utalk-backend-production.up.railway.app"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.884Z",
      "level": "log",
      "message": "üîå Token disponible:",
      "data": [
        "S√≠"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.885Z",
      "level": "log",
      "message": "üîå Configuraci√≥n de entorno:",
      "data": [
        {
          "WS_URL": "wss://utalk-backend-production.up.railway.app",
          "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
          "DEV_MODE": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.885Z",
      "level": "log",
      "message": "üîå Conectando socket con timeout de",
      "data": [
        45000,
        "ms..."
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:33.887Z",
      "level": "log",
      "message": "üîå WebSocketContext - Configurando listeners globales"
    },
    {
      "timestamp": "2025-08-15T10:29:34.275Z",
      "level": "log",
      "message": "‚úÖ WebSocket: Conectado exitosamente",
      "data": [
        {
          "socketId": "D5I3_0n8Sj-52tQLAAAE",
          "url": "wss://utalk-backend-production.up.railway.app",
          "timestamp": "2025-08-15T10:29:34.275Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:34.276Z",
      "level": "log",
      "message": "‚úÖ Socket conectado:",
      "data": [
        "D5I3_0n8Sj-52tQLAAAE"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:34.277Z",
      "level": "log",
      "message": "üîå WebSocketContext - Estado actualizado en DOM:",
      "data": [
        "connected"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:34.855Z",
      "level": "log",
      "message": "‚úÖ WebSocketContext - Estado sincronizado:",
      "data": [
        {
          "conversations": [
            {
              "id": "conv_++5214773790184_++5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755253044750_0qct3cbn6",
                "content": "Prueba 2 chat",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755253044,
                  "_nanoseconds": 750000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 750000000
              },
              "unreadCount": 1,
              "messageCount": 1,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com"
              ],
              "createdAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 907000000
              },
              "updatedAt": {
                "_seconds": 1755253044,
                "_nanoseconds": 907000000
              }
            },
            {
              "id": "conv_+5214773790184_+5214793176502",
              "status": "open",
              "customerPhone": "+5214773790184",
              "assignedTo": null,
              "lastMessage": {
                "sender": "+5214773790184",
                "messageId": "MSG_1755083537705_r20ypc265",
                "content": "Holaaa",
                "direction": "inbound",
                "timestamp": {
                  "_seconds": 1755083537,
                  "_nanoseconds": 705000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 705000000
              },
              "unreadCount": 6,
              "messageCount": 23,
              "participants": [
                "+5214773790184",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214773790184"
              ],
              "createdAt": {
                "_seconds": 1754699629,
                "_nanoseconds": 900000000
              },
              "updatedAt": {
                "_seconds": 1755083537,
                "_nanoseconds": 919000000
              }
            },
            {
              "id": "conv_+5214775211021_+5214793176502",
              "status": "open",
              "customerPhone": "+5214775211021",
              "assignedTo": null,
              "lastMessage": {
                "sender": "agent:admin@company.com",
                "direction": "outbound",
                "messageId": "fae9a2c6-78c1-4842-ab2b-79de81845499",
                "content": "HOLA HERMOSO YA FUNCIONO",
                "timestamp": {
                  "_seconds": 1754952144,
                  "_nanoseconds": 737000000
                }
              },
              "lastMessageAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 737000000
              },
              "unreadCount": 1,
              "messageCount": 4,
              "participants": [
                "+5214775211021",
                "system@utalk.local",
                "admin@company.com",
                "agent:admin@company.com",
                "whatsapp:+5214775211021"
              ],
              "createdAt": {
                "_seconds": 1754755652,
                "_nanoseconds": 223000000
              },
              "updatedAt": {
                "_seconds": 1754952144,
                "_nanoseconds": 953000000
              }
            }
          ],
          "unreadCounts": {
            "conv_++5214773790184_++5214793176502": 1,
            "conv_+5214773790184_+5214793176502": 6,
            "conv_+5214775211021_+5214793176502": 1
          },
          "onlineUsers": {
            "conv_++5214773790184_++5214793176502": [
              "admin@company.com"
            ]
          },
          "serverTime": "2025-08-15T10:29:34.876Z",
          "syncId": "initial_1755253774876"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:34.855Z",
      "level": "log",
      "message": "üöÄ WebSocketContext - Emitiendo evento websocket:state-synced..."
    },
    {
      "timestamp": "2025-08-15T10:29:34.855Z",
      "level": "log",
      "message": "‚úÖ WebSocketContext - Evento websocket:state-synced emitido exitosamente"
    },
    {
      "timestamp": "2025-08-15T10:29:37.817Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:37.817Z",
      "level": "log",
      "message": "üîê ProtectedRoute - Estado:",
      "data": [
        {
          "isAuthenticated": true,
          "loading": false
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:37.853Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:29:37.854Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:29:37.855Z",
      "level": "log",
      "message": "üîÑ useConversations - Sincronizaci√≥n inicial..."
    },
    {
      "timestamp": "2025-08-15T10:29:37.866Z",
      "level": "info",
      "message": "[2025-08-15T10:29:37.866Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:37.866Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:37.866Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T10:29:37.866Z",
      "level": "info",
      "message": "[2025-08-15T10:29:37.866Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:37.866Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:37.866Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-15T10:29:38.237Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:38.237Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_++5214773790184_++5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755253044750_0qct3cbn6\",\n        \"content\": \"Prueba 2 chat\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755253044,\n          \"_nanoseconds\": 750000000\n        },\n        \"timestampMs\": 1755253044750,\n        \"timestampISO\": \"2025-08-15T10:17:24.750Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 750000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"messageCount\": 1,\n      \"lastMessageAtMs\": 1755253044750,\n      \"lastMessageAtISO\": \"2025-08-15T10:17:24.750Z\"\n    },\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"3 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T10:29:38.214Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:38.237Z",
      "level": "info",
      "message": "[2025-08-15T10:29:38.237Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:38.647Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:38.646Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_++5214773790184_++5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755253044750_0qct3cbn6\",\n        \"content\": \"Prueba 2 chat\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755253044,\n          \"_nanoseconds\": 750000000\n        },\n        \"timestampMs\": 1755253044750,\n        \"timestampISO\": \"2025-08-15T10:17:24.750Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 750000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755253044,\n        \"_nanoseconds\": 907000000\n      },\n      \"messageCount\": 1,\n      \"lastMessageAtMs\": 1755253044750,\n      \"lastMessageAtISO\": \"2025-08-15T10:17:24.750Z\"\n    },\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755083537705_r20ypc265\",\n        \"content\": \"Holaaa\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755083537,\n          \"_nanoseconds\": 705000000\n        },\n        \"timestampMs\": 1755083537705,\n        \"timestampISO\": \"2025-08-13T11:12:17.705Z\"\n      },\n      \"unreadCount\": 6,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 705000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755083537,\n        \"_nanoseconds\": 919000000\n      },\n      \"messageCount\": 23,\n      \"lastMessageAtMs\": 1755083537705,\n      \"lastMessageAtISO\": \"2025-08-13T11:12:17.705Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"timestamp\": {\n          \"_seconds\": 1754952144,\n          \"_nanoseconds\": 737000000\n        },\n        \"timestampMs\": 1754952144737,\n        \"timestampISO\": \"2025-08-11T22:42:24.737Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 953000000\n      },\n      \"messageCount\": 4,\n      \"lastMessageAtMs\": 1754952144737,\n      \"lastMessageAtISO\": \"2025-08-11T22:42:24.737Z\"\n    }\n  ],\n  \"message\": \"3 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-15T10:29:38.579Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:38.647Z",
      "level": "info",
      "message": "[2025-08-15T10:29:38.647Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.232Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n selectConversation:",
      "data": [
        {
          "id": "conv_+5214775211021_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.233Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.252Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.252Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.253Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.277Z",
      "level": "log",
      "message": "üîó useChat - Uni√©ndose a conversaci√≥n:",
      "data": [
        "conv_+5214775211021_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n joinConversation:",
      "data": [
        {
          "id": "conv_+5214775211021_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîó WebSocket: Uni√©ndose a conversaci√≥n",
      "data": [
        {
          "conversationId": "conv_+5214775211021_+5214793176502",
          "timestamp": "2025-08-15T10:29:53.278Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîó ID de conversaci√≥n codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîê JWT - Informaci√≥n extra√≠da del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com",
          "email": "admin@company.com",
          "role": "admin"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîê JWT - Payload completo del token:",
      "data": [
        {
          "email": "admin@company.com",
          "role": "admin",
          "name": "Administrador del Sistema",
          "type": "access",
          "userId": "admin@company.com",
          "workspaceId": "default",
          "tenantId": "na",
          "iat": 1755253773,
          "exp": 1755254673,
          "aud": "utalk-api",
          "iss": "utalk-backend"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.278Z",
      "level": "log",
      "message": "üîê JWT - Informaci√≥n extra√≠da del token:",
      "data": [
        {
          "workspaceId": "default",
          "tenantId": "na",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.279Z",
      "level": "log",
      "message": "üîó Room ID generado (formato simplificado):",
      "data": [
        {
          "conversationId": "conv_%2B5214775211021_%2B5214793176502",
          "roomId": "conversation:conv_%2B5214775211021_%2B5214793176502",
          "userId": "admin@company.com"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.279Z",
      "level": "log",
      "message": "‚úÖ WebSocket: Unido a conversaci√≥n",
      "data": [
        {
          "conversationId": "conv_+5214775211021_+5214793176502",
          "roomId": "conversation:conv_%2B5214775211021_%2B5214793176502",
          "timestamp": "2025-08-15T10:29:53.279Z"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.279Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.279Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n loadMessages:",
      "data": [
        {
          "id": "conv_+5214775211021_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.280Z",
      "level": "log",
      "message": "üéß useChat - Configurando listeners para conversaci√≥n:",
      "data": [
        "conv_+5214775211021_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.280Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.280Z",
      "level": "info",
      "message": "[2025-08-15T10:29:53.280Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.280Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:53.280Z] [DEBUG] [API] Request: GET /api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50"
    },
    {
      "timestamp": "2025-08-15T10:29:53.290Z",
      "level": "log",
      "message": "üîå useChat - Saliendo de conversaci√≥n:",
      "data": [
        "conv_+5214775211021_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.290Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n leaveConversation:",
      "data": [
        {
          "id": "conv_+5214775211021_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.290Z",
      "level": "log",
      "message": "üîå WebSocket: No est√° en la conversaci√≥n:",
      "data": [
        "conv_+5214775211021_+5214793176502"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.757Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:53.757Z] [DEBUG] [API] Response: GET /api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50 | Data: {\n  \"success\": true,\n  \"data\": {\n    \"messages\": [\n      {\n        \"id\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n        \"conversationId\": \"conv_+5214775211021_+5214793176502\",\n        \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214775211021\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214775211021\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"queued\",\n        \"timestamp\": \"2025-08-11T22:42:24.737Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T22:42:24.090Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.129.228.62\",\n          \"requestId\": \"unknown\",\n          \"twilioSid\": \"SM5753e1e5186798fcab6435b7142f8263\",\n          \"twilioStatus\": \"queued\",\n          \"sentAt\": \"2025-08-11T22:42:25.209Z\"\n        },\n        \"createdAt\": \"2025-08-11T22:42:24.952Z\",\n        \"updatedAt\": \"2025-08-11T22:42:24.952Z\"\n      },\n      {\n        \"id\": \"f1e00952-a235-4bf2-8d4b-eefa1cc57918\",\n        \"conversationId\": \"conv_+5214775211021_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214775211021\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214775211021\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:44:07.506Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:44:07.013Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:44:07.724Z\",\n        \"updatedAt\": \"2025-08-11T17:44:07.724Z\"\n      },\n      {\n        \"id\": \"f713ab4b-806f-483a-9966-fd76355d49d2\",\n        \"conversationId\": \"conv_+5214775211021_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"agent:admin@company.com\",\n        \"recipientIdentifier\": \"whatsapp:+5214775211021\",\n        \"sender\": {\n          \"identifier\": \"agent:admin@company.com\",\n          \"type\": \"agent\"\n        },\n        \"recipient\": {\n          \"identifier\": \"whatsapp:+5214775211021\",\n          \"type\": \"agent\"\n        },\n        \"direction\": \"outbound\",\n        \"type\": \"text\",\n        \"status\": \"sent\",\n        \"timestamp\": \"2025-08-11T17:43:52.900Z\",\n        \"metadata\": {\n          \"source\": \"web\",\n          \"agentId\": \"admin@company.com\",\n          \"timestamp\": \"2025-08-11T17:43:52.212Z\",\n          \"sentBy\": \"admin@company.com\",\n          \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36\",\n          \"ip\": \"189.162.163.251\",\n          \"requestId\": \"unknown\"\n        },\n        \"createdAt\": \"2025-08-11T17:43:53.120Z\",\n        \"updatedAt\": \"2025-08-11T17:43:53.120Z\"\n      },\n      {\n        \"id\": \"MSG_1754755652003_n7jipbubo\",\n        \"conversationId\": \"conv_+5214775211021_+5214793176502\",\n        \"content\": \"hola\",\n        \"mediaUrl\": null,\n        \"senderIdentifier\": \"+5214775211021\",\n        \"recipientIdentifier\": \"+5214793176502\",\n        \"sender\": {\n          \"identifier\": \"+5214775211021\",\n          \"type\": \"customer\"\n        },\n        \"recipient\": {\n          \"identifier\": \"+5214793176502\",\n          \"type\": \"customer\"\n        },\n        \"direction\": \"inbound\",\n        \"type\": \"text\",\n        \"status\": \"received\",\n        \"timestamp\": \"2025-08-09T16:07:32.003Z\",\n        \"metadata\": {\n          \"twilioSid\": \"SMa49b7c9b9407e478cccd1dd7b5c4a532\",\n          \"generatedId\": true,\n          \"timestamp\": \"2025-08-09T16:07:32.003Z\",\n          \"uniqueTimestamp\": 1754755652003,\n          \"routingResolved\": {\n            \"wsPresent\": true,\n            \"tenPresent\": true,\n            \"agentEmailPresent\": true\n          }\n        },\n        \"createdAt\": \"2025-08-09T16:07:32.223Z\",\n        \"updatedAt\": \"2025-08-09T16:07:32.223Z\"\n      }\n    ],\n    \"pagination\": {\n      \"hasMore\": false,\n      \"nextCursor\": null,\n      \"totalResults\": 4,\n      \"limit\": 50,\n      \"orderBy\": \"timestamp\",\n      \"order\": \"desc\"\n    },\n    \"metadata\": {\n      \"conversationId\": \"conv_+5214775211021_+5214793176502\",\n      \"totalResults\": 4,\n      \"queryTime\": \"96ms\"\n    }\n  },\n  \"message\": \"4 mensajes encontrados\",\n  \"timestamp\": \"2025-08-15T10:29:53.793Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.757Z",
      "level": "info",
      "message": "[2025-08-15T10:29:53.757Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.757Z",
      "level": "log",
      "message": "ÔøΩÔøΩ ID de conversaci√≥n codificado correctamente en URL | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "decodedId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForUrl"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.757Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n loadConversation:",
      "data": [
        {
          "id": "conv_+5214775211021_+5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 34
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.758Z",
      "level": "info",
      "message": "[2025-08-15T10:29:53.758Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_%2B5214775211021_%2B5214793176502\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.758Z",
      "level": "log",
      "message": "üîç ID de Conversaci√≥n API Interceptor - Backend format:",
      "data": [
        {
          "id": "conv_%2B5214775211021_%2B5214793176502",
          "isValid": true,
          "phones": {
            "phone1": "+5214775211021",
            "phone2": "+5214793176502"
          },
          "length": 38
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.758Z",
      "level": "info",
      "message": "[2025-08-15T10:29:53.758Z] [INFO] [API] ID de conversaci√≥n formateado para backend | Data: {\n  \"originalId\": \"conv_%2B5214775211021_%2B5214793176502\",\n  \"decodedId\": \"conv_%2B5214775211021_%2B5214793176502\",\n  \"sanitizedId\": \"conv_%2B5214775211021_%2B5214793176502\",\n  \"backendFormat\": \"conv_+5214775211021_+5214793176502\",\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_+5214775211021_+5214793176502\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:53.758Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:53.758Z] [DEBUG] [API] Request: GET /api/conversations/conv_+5214775211021_+5214793176502"
    },
    {
      "timestamp": "2025-08-15T10:29:53.759Z",
      "level": "log",
      "message": "‚úÖ useChat - Mensajes cargados exitosamente, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-15T10:29:53.759Z",
      "level": "log",
      "message": "üëÅÔ∏è Marcando mensajes como le√≠dos:",
      "data": [
        [
          "MSG_1754755652003_n7jipbubo"
        ]
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.759Z",
      "level": "log",
      "message": "üëÅÔ∏è Marcando mensajes como le√≠dos:",
      "data": [
        {
          "conversationId": "conv_+5214775211021_+5214793176502",
          "messageIds": [
            "MSG_1754755652003_n7jipbubo"
          ]
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.759Z",
      "level": "log",
      "message": "üîó ID de conversaci√≥n codificado para WebSocket | Data:",
      "data": [
        {
          "originalId": "conv_+5214775211021_+5214793176502",
          "sanitizedId": "conv_+5214775211021_+5214793176502",
          "encodedId": "conv_%2B5214775211021_%2B5214793176502",
          "method": "encodeConversationIdForWebSocket"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.759Z",
      "level": "log",
      "message": "üé® ChatComponent - Estado de renderizado:",
      "data": [
        {
          "isConnected": true,
          "isJoined": false,
          "loading": false,
          "error": null,
          "messagesCount": 4,
          "conversationId": "conv_+5214775211021_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.760Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.760Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.760Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.760Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:53.765Z",
      "level": "log",
      "message": "üé® ChatComponent - Estado de renderizado:",
      "data": [
        {
          "isConnected": true,
          "isJoined": true,
          "loading": false,
          "error": null,
          "messagesCount": 4,
          "conversationId": "conv_+5214775211021_+5214793176502"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:54.111Z",
      "level": "debug",
      "message": "[2025-08-15T10:29:54.111Z] [DEBUG] [API] Response: GET /api/conversations/conv_+5214775211021_+5214793176502 | Data: {\n  \"success\": true,\n  \"data\": {\n    \"id\": \"conv_+5214775211021_+5214793176502\",\n    \"unreadCount\": 1,\n    \"customerName\": \"AV\",\n    \"createdAt\": {\n      \"_seconds\": 1754755652,\n      \"_nanoseconds\": 223000000\n    },\n    \"customerPhone\": \"+5214775211021\",\n    \"tenantId\": \"default_tenant\",\n    \"status\": \"open\",\n    \"workspaceId\": \"default_workspace\",\n    \"participants\": [\n      \"+5214775211021\",\n      \"system@utalk.local\",\n      \"admin@company.com\",\n      \"agent:admin@company.com\",\n      \"whatsapp:+5214775211021\"\n    ],\n    \"lastMessageAt\": {\n      \"_seconds\": 1754952144,\n      \"_nanoseconds\": 737000000\n    },\n    \"messageCount\": 4,\n    \"lastMessage\": {\n      \"sender\": \"agent:admin@company.com\",\n      \"direction\": \"outbound\",\n      \"messageId\": \"fae9a2c6-78c1-4842-ab2b-79de81845499\",\n      \"content\": \"HOLA HERMOSO YA FUNCIONO\",\n      \"timestamp\": {\n        \"_seconds\": 1754952144,\n        \"_nanoseconds\": 737000000\n      }\n    },\n    \"updatedAt\": {\n      \"_seconds\": 1754952144,\n      \"_nanoseconds\": 953000000\n    }\n  },\n  \"message\": \"Conversaci√≥n obtenida exitosamente\",\n  \"timestamp\": \"2025-08-15T10:29:54.148Z\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:54.111Z",
      "level": "info",
      "message": "[2025-08-15T10:29:54.111Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations/conv_+5214775211021_+5214793176502\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-15T10:29:54.112Z",
      "level": "log",
      "message": "‚úÖ useChat - Mensajes cargados, estableciendo isJoined como true"
    },
    {
      "timestamp": "2025-08-15T10:29:54.113Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:54.113Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:54.114Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:29:54.114Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:30:03.888Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - WebSocket timeout, continuando sin tiempo real"
    },
    {
      "timestamp": "2025-08-15T10:30:03.888Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - Login HTTP exitoso, navegando al dashboard..."
    },
    {
      "timestamp": "2025-08-15T10:30:03.888Z",
      "level": "warn",
      "message": "‚ö†Ô∏è WebSocketContext - Activando modo fallback:",
      "data": [
        {
          "reason": "timeout",
          "timestamp": "2025-08-15T10:30:03.888Z",
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQGNvbXBhbnkuY29tIiwicm9sZSI6ImFkbWluIiwibmFtZSI6IkFkbWluaXN0cmFkb3IgZGVsIFNpc3RlbWEiLCJ0eXBlIjoiYWNjZXNzIiwidXNlcklkIjoiYWRtaW5AY29tcGFueS5jb20iLCJ3b3Jrc3BhY2VJZCI6ImRlZmF1bHQiLCJ0ZW5hbnRJZCI6Im5hIiwiaWF0IjoxNzU1MjUzNzczLCJleHAiOjE3NTUyNTQ2NzMsImF1ZCI6InV0YWxrLWFwaSIsImlzcyI6InV0YWxrLWJhY2tlbmQifQ.yLXEv7_J3xPtz20XiiC3fR7KQy_rgOfwrjlNYckjwB0"
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:30:03.888Z",
      "level": "warn",
      "message": "‚ö†Ô∏è Modo offline activado - Funcionalidad de tiempo real limitada"
    },
    {
      "timestamp": "2025-08-15T10:30:03.899Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:30:03.899Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    },
    {
      "timestamp": "2025-08-15T10:30:03.900Z",
      "level": "log",
      "message": "üîÑ convertMessages - Iniciando conversi√≥n de",
      "data": [
        4,
        "mensajes"
      ]
    },
    {
      "timestamp": "2025-08-15T10:30:03.900Z",
      "level": "log",
      "message": "‚úÖ convertMessages - Conversi√≥n completada:",
      "data": [
        {
          "mensajesOriginales": 4,
          "mensajesConvertidos": 4,
          "mensajesFiltrados": 4
        }
      ]
    }
  ]
}