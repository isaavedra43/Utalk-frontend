[
  {
    "id": 1755410184245.2144,
    "timestamp": "2025-08-17T05:56:24.245Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "de5909b8-e2f2-4ff9-9525-84d641fd16be",
      "timestamp": "2025-08-17T05:56:24.245Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/export?format=json&level=all&category=all&timeRange=1h",
      "path": "/logs/export",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177689.7542,
    "timestamp": "2025-08-17T05:56:17.689Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6102aee9-f2c6-40e1-8d07-5659930a0239",
      "timestamp": "2025-08-17T05:56:17.689Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "4ms",
      "responseSize": "71769 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "6102aee9-f2c6-40e1-8d07-5659930a0239"
      },
      "performance": {
        "duration": 4,
        "responseSize": 71769,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177685.766,
    "timestamp": "2025-08-17T05:56:17.685Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6102aee9-f2c6-40e1-8d07-5659930a0239",
      "timestamp": "2025-08-17T05:56:17.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177684.8667,
    "timestamp": "2025-08-17T05:56:17.684Z",
    "level": "error",
    "category": "HTTP_SERVER_ERROR",
    "message": "‚ùå Petici√≥n HTTP con error",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "07433406-65ed-4c6b-a639-566b9320f802",
      "timestamp": "2025-08-17T05:56:17.684Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SERVER_ERROR",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 500,
      "statusMessage": "Internal Server Error",
      "duration": "4ms",
      "responseSize": "141 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "141",
        "x-request-id": "07433406-65ed-4c6b-a639-566b9320f802"
      },
      "performance": {
        "duration": 4,
        "responseSize": 141,
        "isSlow": false,
        "isLarge": false
      },
      "level": "error",
      "message": "‚ùå Petici√≥n HTTP con error"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177683.3525,
    "timestamp": "2025-08-17T05:56:17.683Z",
    "level": "error",
    "category": "LOG_DASHBOARD_ERROR",
    "message": "Error obteniendo dashboard de logs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:17.682Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOG_DASHBOARD_ERROR",
      "error": "log.message.includes is not a function",
      "stack": "TypeError: log.message.includes is not a function\n    at /app/src/services/LogMonitorService.js:252:19\n    at Array.filter (<anonymous>)\n    at LogMonitorService.getRateLimitMetrics (/app/src/services/LogMonitorService.js:250:37)\n    at getDashboard (/app/src/controllers/LogDashboardController.js:152:43)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)",
      "level": "error",
      "message": "Error obteniendo dashboard de logs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177680.8909,
    "timestamp": "2025-08-17T05:56:17.680Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "07433406-65ed-4c6b-a639-566b9320f802",
      "timestamp": "2025-08-17T05:56:17.680Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177595.6028,
    "timestamp": "2025-08-17T05:56:17.595Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "77754998-9a75-418f-9eeb-0533a85368e9",
      "timestamp": "2025-08-17T05:56:17.595Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REDIRECT",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 304,
      "statusMessage": "Not Modified",
      "duration": "1ms",
      "responseSize": "14080 bytes",
      "userEmail": "undefined...",
      "headers": {
        "x-request-id": "77754998-9a75-418f-9eeb-0533a85368e9"
      },
      "performance": {
        "duration": 1,
        "responseSize": 14080,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177594.2961,
    "timestamp": "2025-08-17T05:56:17.594Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "77754998-9a75-418f-9eeb-0533a85368e9",
      "timestamp": "2025-08-17T05:56:17.594Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410177436.6782,
    "timestamp": "2025-08-17T05:56:17.436Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755410172399.0925,
    "timestamp": "2025-08-17T05:56:12.399Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.399Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172399.2659,
    "timestamp": "2025-08-17T05:56:12.399Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.398Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172397.599,
    "timestamp": "2025-08-17T05:56:12.397Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.397Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172397.006,
    "timestamp": "2025-08-17T05:56:12.397Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.397Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172394.5713,
    "timestamp": "2025-08-17T05:56:12.394Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.394Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172392.0784,
    "timestamp": "2025-08-17T05:56:12.392Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.392Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172317.671,
    "timestamp": "2025-08-17T05:56:12.317Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.317Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172317.4817,
    "timestamp": "2025-08-17T05:56:12.317Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.317Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172316.1584,
    "timestamp": "2025-08-17T05:56:12.316Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.316Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172315.2024,
    "timestamp": "2025-08-17T05:56:12.315Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172313.4097,
    "timestamp": "2025-08-17T05:56:12.313Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.313Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172312.457,
    "timestamp": "2025-08-17T05:56:12.312Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.312Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172226.174,
    "timestamp": "2025-08-17T05:56:12.226Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.226Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172225.9583,
    "timestamp": "2025-08-17T05:56:12.225Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172225.4226,
    "timestamp": "2025-08-17T05:56:12.225Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.225Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172224.4006,
    "timestamp": "2025-08-17T05:56:12.224Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.224Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172223.5076,
    "timestamp": "2025-08-17T05:56:12.223Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.223Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172220.186,
    "timestamp": "2025-08-17T05:56:12.220Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.220Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410172046.3306,
    "timestamp": "2025-08-17T05:56:12.046Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:LEAVE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:56:12.046Z",
      "service": "utalk-backend",
      "environment": "production",
      "room": "ws:default_workspace:ten:defau...",
      "conversationId": "conv_+5214775211021_...",
      "userEmail": "admin@company.com...",
      "socketId": "2odPoPr2...",
      "level": "info",
      "message": "RT:LEAVE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410157500.804,
    "timestamp": "2025-08-17T05:55:57.500Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:57.500Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "87.58%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410147498.2375,
    "timestamp": "2025-08-17T05:55:47.498Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:47.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 2,
        "typingUsers": 0,
        "rateLimitEntries": 4
      },
      "period": "60000ms",
      "memoryUsage": {
        "rss": 129232896,
        "heapTotal": 58994688,
        "heapUsed": 51624024,
        "external": 3152683,
        "arrayBuffers": 230856
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410147495.1687,
    "timestamp": "2025-08-17T05:55:47.495Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
      "cleanedSockets": 0,
      "cleanedConversations": 0,
      "cleanedEventListeners": 0,
      "cleanedRateLimit": 0,
      "memoryPressure": "87.48%",
      "currentStats": {
        "connectedUsers": 1,
        "activeConversations": 2,
        "eventListeners": 1,
        "rateLimitEntries": 4,
        "typingUsers": 0
      },
      "memoryUsage": {
        "heapUsed": "49MB",
        "heapTotal": "56MB",
        "external": "3MB"
      },
      "level": "info",
      "message": "Socket.IO memory cleanup completed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410147495.3662,
    "timestamp": "2025-08-17T05:55:47.495Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:47.494Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145529.1235,
    "timestamp": "2025-08-17T05:55:45.529Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.529Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "202ms",
      "responseSize": "835 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "835",
        "x-request-id": "66750db1-826d-45a8-944d-c51fe80e77cf"
      },
      "performance": {
        "duration": 202,
        "responseSize": 835,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145528.2122,
    "timestamp": "2025-08-17T05:55:45.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145528.905,
    "timestamp": "2025-08-17T05:55:45.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "unreadCount",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt"
      ],
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145410.4783,
    "timestamp": "2025-08-17T05:55:45.410Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145410.2073,
    "timestamp": "2025-08-17T05:55:45.410Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:45.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145410.0044,
    "timestamp": "2025-08-17T05:55:45.410Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:45.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145410.572,
    "timestamp": "2025-08-17T05:55:45.410Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:45.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145410.4468,
    "timestamp": "2025-08-17T05:55:45.410Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "82ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145409.7188,
    "timestamp": "2025-08-17T05:55:45.409Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145409.2441,
    "timestamp": "2025-08-17T05:55:45.409Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145329.4795,
    "timestamp": "2025-08-17T05:55:45.329Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145329.644,
    "timestamp": "2025-08-17T05:55:45.329Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145329.377,
    "timestamp": "2025-08-17T05:55:45.329Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.329Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145328.9646,
    "timestamp": "2025-08-17T05:55:45.328Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145327.1257,
    "timestamp": "2025-08-17T05:55:45.327Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "66750db1-826d-45a8-944d-c51fe80e77cf",
      "timestamp": "2025-08-17T05:55:45.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145327.6843,
    "timestamp": "2025-08-17T05:55:45.327Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145245.3547,
    "timestamp": "2025-08-17T05:55:45.245Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:45.244Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "450ms",
      "responseSize": "7131 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "33ee5c45-53b8-4687-b103-569777320cae"
      },
      "performance": {
        "duration": 450,
        "responseSize": 7131,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145242.5952,
    "timestamp": "2025-08-17T05:55:45.242Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.242Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "count": 8,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "149ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145241.0251,
    "timestamp": "2025-08-17T05:55:45.241Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.240Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "totalResults": 8,
      "hasMore": false,
      "queryTime": "149ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145090.2742,
    "timestamp": "2025-08-17T05:55:45.090Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.090Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145011.843,
    "timestamp": "2025-08-17T05:55:45.011Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.011Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145011.854,
    "timestamp": "2025-08-17T05:55:45.011Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:45.011Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId en query normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145011.4678,
    "timestamp": "2025-08-17T05:55:45.011Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:45.011Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145010.3193,
    "timestamp": "2025-08-17T05:55:45.010Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:45.010Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "duration": "215ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145010.627,
    "timestamp": "2025-08-17T05:55:45.010Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:45.010Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410145010.0986,
    "timestamp": "2025-08-17T05:55:45.010Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:45.010Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144868.1257,
    "timestamp": "2025-08-17T05:55:44.868Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.868Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "onlineUsersCount": 1,
      "level": "info",
      "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144868.6458,
    "timestamp": "2025-08-17T05:55:44.868Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.868Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "syncData": {
        "conversationId": "conv_+5214775211021_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
        "success": true,
        "timestamp": "2025-08-17T05:55:44.868Z"
      },
      "level": "info",
      "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144867.8997,
    "timestamp": "2025-08-17T05:55:44.867Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.867Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "confirmationData": {
        "conversationId": "conv_+5214775211021_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
        "onlineUsers": [
          "admin@company.com"
        ],
        "success": true,
        "timestamp": "2025-08-17T05:55:44.867Z"
      },
      "level": "info",
      "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144866.318,
    "timestamp": "2025-08-17T05:55:44.866Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.866Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_...",
      "participantsCount": 5,
      "level": "info",
      "message": "Usuario es participante directo de la conversaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144796.6172,
    "timestamp": "2025-08-17T05:55:44.796Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.796Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144796.5208,
    "timestamp": "2025-08-17T05:55:44.796Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:44.796Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144796.973,
    "timestamp": "2025-08-17T05:55:44.796Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:44.796Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144795.574,
    "timestamp": "2025-08-17T05:55:44.795Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:44.795Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144795.3496,
    "timestamp": "2025-08-17T05:55:44.795Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "33ee5c45-53b8-4687-b103-569777320cae",
      "timestamp": "2025-08-17T05:55:44.795Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "path": "/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144794.6384,
    "timestamp": "2025-08-17T05:55:44.794Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.794Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144233.642,
    "timestamp": "2025-08-17T05:55:44.233Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.233Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "209ms",
      "responseSize": "835 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "835",
        "x-request-id": "e3170bf5-8445-4a3d-98c5-90394cab48c7"
      },
      "performance": {
        "duration": 209,
        "responseSize": 835,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144232.6038,
    "timestamp": "2025-08-17T05:55:44.232Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.232Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144232.755,
    "timestamp": "2025-08-17T05:55:44.232Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.232Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "unreadCount",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "lastMessageAt",
        "messageCount",
        "lastMessage",
        "updatedAt"
      ],
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.9258,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.487,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.0852,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.06,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.773,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "81ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144106.2822,
    "timestamp": "2025-08-17T05:55:44.106Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144105.6272,
    "timestamp": "2025-08-17T05:55:44.105Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.105Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144028.8584,
    "timestamp": "2025-08-17T05:55:44.028Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.028Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144028.1123,
    "timestamp": "2025-08-17T05:55:44.028Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.028Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144028.088,
    "timestamp": "2025-08-17T05:55:44.028Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.027Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144025.8975,
    "timestamp": "2025-08-17T05:55:44.025Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.025Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144025.4324,
    "timestamp": "2025-08-17T05:55:44.025Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e3170bf5-8445-4a3d-98c5-90394cab48c7",
      "timestamp": "2025-08-17T05:55:44.025Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410144024.6748,
    "timestamp": "2025-08-17T05:55:44.024Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:55:44.024Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410087498.9639,
    "timestamp": "2025-08-17T05:54:47.498Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:54:47.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 4
      },
      "period": "60000ms",
      "memoryUsage": {
        "rss": 128389120,
        "heapTotal": 58470400,
        "heapUsed": 55807696,
        "external": 3359658,
        "arrayBuffers": 431797
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410037501.0242,
    "timestamp": "2025-08-17T05:53:57.501Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:57.501Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 25,
      "totalListeners": 50,
      "activeListeners": 25,
      "memoryPressure": "94.67%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410035116.1423,
    "timestamp": "2025-08-17T05:53:55.116Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST conversation-event",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:55.116Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversation-event",
      "conversationId": "conv_+5214773790184_...",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST conversation-event"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410035038.9895,
    "timestamp": "2025-08-17T05:53:55.038Z",
    "level": "info",
    "category": "MESSAGES_MARK_READ_BATCH",
    "message": "Mensajes marcados como le√≠dos (batch robusto)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:55.038Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MESSAGES_MARK_READ_BATCH",
      "conversationId": "conv_+5214773790184_+521479317...",
      "userEmail": "admin@company.com...",
      "requested": 1,
      "updated": 1,
      "skipped": 0,
      "level": "info",
      "message": "Mensajes marcados como le√≠dos (batch robusto)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034991.4734,
    "timestamp": "2025-08-17T05:53:54.991Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "‚ö†Ô∏è Petici√≥n HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "1a20575e-5dba-4fe0-bf1f-c46a51a9f458",
      "timestamp": "2025-08-17T05:53:54.991Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "GET",
      "url": "/api/media/proxy?messageSid=MM63b8816aa9a935e878532335ca282010&mediaSid=ME267f5e65eb6b2dacbdf0e669cf75d0b7",
      "path": "/proxy",
      "statusCode": 401,
      "statusMessage": "Unauthorized",
      "duration": "3ms",
      "responseSize": "181 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "181",
        "x-request-id": "1a20575e-5dba-4fe0-bf1f-c46a51a9f458"
      },
      "performance": {
        "duration": 3,
        "responseSize": 181,
        "isSlow": false,
        "isLarge": false
      },
      "level": "warn",
      "message": "‚ö†Ô∏è Petici√≥n HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034990.8552,
    "timestamp": "2025-08-17T05:53:54.990Z",
    "level": "warn",
    "category": "AUTH_MISSING_HEADER",
    "message": "Token de autorizaci√≥n faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "1a20575e-5dba-4fe0-bf1f-c46a51a9f458",
      "timestamp": "2025-08-17T05:53:54.990Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_MISSING_HEADER",
      "url": "/api/media/proxy?messageSid=MM63b8816aa9a935e878532335ca282010&mediaSid=ME267f5e65eb6b2dacbdf0e669cf75d0b7",
      "level": "warn",
      "message": "Token de autorizaci√≥n faltante"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034990.0928,
    "timestamp": "2025-08-17T05:53:54.990Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "1a20575e-5dba-4fe0-bf1f-c46a51a9f458",
      "timestamp": "2025-08-17T05:53:54.990Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/media/proxy?messageSid=MM63b8816aa9a935e878532335ca282010&mediaSid=ME267f5e65eb6b2dacbdf0e669cf75d0b7",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034988.2249,
    "timestamp": "2025-08-17T05:53:54.988Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "1a20575e-5dba-4fe0-bf1f-c46a51a9f458",
      "timestamp": "2025-08-17T05:53:54.988Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/media/proxy?messageSid=MM63b8816aa9a935e878532335ca282010&mediaSid=ME267f5e65eb6b2dacbdf0e669cf75d0b7",
      "path": "/media/proxy",
      "referer": "http://localhost:5173/",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034697.4277,
    "timestamp": "2025-08-17T05:53:54.697Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "13.217.206.124",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "f347ef0e-84a4-42ea-aeb6-d3490b05eb74",
      "timestamp": "2025-08-17T05:53:54.697Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/messages/webhook",
      "path": "/webhook",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "713ms",
      "responseSize": "292 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "292",
        "x-request-id": "f347ef0e-84a4-42ea-aeb6-d3490b05eb74"
      },
      "performance": {
        "duration": 713,
        "responseSize": 292,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "13.217.206.124",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034696.235,
    "timestamp": "2025-08-17T05:53:54.696Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.696Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "processTime": 696,
      "step": "sending_success_response",
      "level": "info",
      "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034696.996,
    "timestamp": "2025-08-17T05:53:54.696Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.696Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactUpdated": true,
      "processTime": 696,
      "step": "twilio_service_completed",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034696.87,
    "timestamp": "2025-08-17T05:53:54.696Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.696Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "type": "image",
      "direction": "inbound",
      "hasMedia": true,
      "step": "process_complete",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034696.6567,
    "timestamp": "2025-08-17T05:53:54.696Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755410034695_bpis9qg79",
      "timestamp": "2025-08-17T05:53:54.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "step": "realtime_emit_complete",
      "level": "info",
      "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034695.4587,
    "timestamp": "2025-08-17T05:53:54.695Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST new-message",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "new-message",
      "conversationId": "conv_+5214773790184_...",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "correlationId": "realtime_1755410034695_bpis9qg79",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST new-message"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034695.029,
    "timestamp": "2025-08-17T05:53:54.695Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755410034695_bpis9qg79",
      "timestamp": "2025-08-17T05:53:54.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "direction": "inbound",
      "type": "image",
      "step": "realtime_emit_start",
      "level": "info",
      "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034695.8584,
    "timestamp": "2025-08-17T05:53:54.695Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.694Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "lastMessageId": "MM63b8816aa9a935e878532335ca282010",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034592.067,
    "timestamp": "2025-08-17T05:53:54.592Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.592Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "direction": "inbound",
      "type": "image",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034487.3398,
    "timestamp": "2025-08-17T05:53:54.487Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.487Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034319.22,
    "timestamp": "2025-08-17T05:53:54.319Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã Conversaci√≥n existente encontrada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.319Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "üìã Conversaci√≥n existente encontrada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034249.221,
    "timestamp": "2025-08-17T05:53:54.249Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìù MESSAGESERVICE - DATOS DEL MENSAJE PREPARADOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.249Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "MM63b8816aa9a935e878532335ca282010",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "sender": "+5214773790184",
      "recipient": "+5214793176502",
      "type": "image",
      "hasMedia": true,
      "hasContactInfo": true,
      "step": "message_data_prepared",
      "level": "info",
      "message": "üìù MESSAGESERVICE - DATOS DEL MENSAJE PREPARADOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034248.25,
    "timestamp": "2025-08-17T05:53:54.248Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE - MEDIOS PROCESADOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.248Z",
      "service": "utalk-backend",
      "environment": "production",
      "mediaCount": 1,
      "primaryType": "image",
      "hasUrls": true,
      "step": "media_processing_complete",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE - MEDIOS PROCESADOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034245.3145,
    "timestamp": "2025-08-17T05:53:54.245Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìé MESSAGESERVICE - PROCESANDO MEDIOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.245Z",
      "service": "utalk-backend",
      "environment": "production",
      "numMedia": 1,
      "hasMediaUrl": true,
      "mediaType": "image/jpeg",
      "step": "media_processing_start",
      "level": "info",
      "message": "üìé MESSAGESERVICE - PROCESANDO MEDIOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034245.1453,
    "timestamp": "2025-08-17T05:53:54.245Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Contacto actualizado en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.245Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "profileName": "Isra",
      "waId": "5214773790184",
      "hasProfilePhoto": false,
      "level": "info",
      "message": "‚úÖ Contacto actualizado en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.6685,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Intentando obtener foto de perfil",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "level": "info",
      "message": "üîç Intentando obtener foto de perfil"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.3584,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã MESSAGESERVICE - DATOS EXTRA√çDOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "twilioSid": "MM63b8816aa9a935e878532335ca282010",
      "rawFromPhone": "whatsapp:+5214773790184",
      "rawToPhone": "whatsapp:+5214793176502",
      "contentLength": 0,
      "hasMedia": true,
      "mediaType": "image/jpeg",
      "numMedia": 1,
      "profileName": "Isra",
      "waId": "5214773790184",
      "step": "data_extraction",
      "level": "info",
      "message": "üìã MESSAGESERVICE - DATOS EXTRA√çDOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.6636,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755410034001_l2l79uwkz",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "from": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "hasBody": false,
      "hasProfileName": true,
      "hasWaId": true,
      "step": "twilio_process_start",
      "level": "info",
      "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.3857,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.9146,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üö® MESSAGECONTROLLER - ANTES DE LLAMAR MESSAGESERVICE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": false,
      "hasMedia": true,
      "reqBodyKeys": [
        "MediaContentType0",
        "SmsMessageSid",
        "NumMedia",
        "ProfileName",
        "MessageType",
        "SmsSid",
        "WaId",
        "SmsStatus",
        "Body",
        "To",
        "MessagingServiceSid",
        "NumSegments",
        "ReferralNumMedia",
        "MessageSid",
        "AccountSid",
        "ChannelMetadata",
        "From",
        "MediaUrl0",
        "ApiVersion"
      ],
      "reqBodyValues": {
        "From": "whatsapp:+5214773790184",
        "To": "whatsapp:+5214793176502",
        "Body": "",
        "MessageSid": "MM63b8816aa9a935e878532335ca282010",
        "NumMedia": "1"
      },
      "step": "before_twilio_service_call",
      "level": "info",
      "message": "üö® MESSAGECONTROLLER - ANTES DE LLAMAR MESSAGESERVICE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.1404,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": false,
      "hasMedia": true,
      "step": "before_twilio_service",
      "level": "info",
      "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.2222,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì± TEL√âFONOS PROCESADOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalFrom": "whatsapp:+5214773790184",
      "normalizedFrom": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "level": "info",
      "message": "üì± TEL√âFONOS PROCESADOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.6711,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "fromPhone": "whatsapp:+5214773790184",
      "twilioPhone": "whatsapp:+5214793176502",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "hasContent": false,
      "level": "info",
      "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.4539,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì• PAYLOAD WEBHOOK RECIBIDO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.001Z",
      "service": "utalk-backend",
      "environment": "production",
      "fromPhone": "whatsapp:+5214773790184",
      "twilioPhone": "whatsapp:+5214793176502",
      "messageSid": "MM63b8816aa9a935e878532335ca282010",
      "hasContent": false,
      "contentLength": 0,
      "contentPreview": null,
      "mediaCount": 1,
      "fullBody": {
        "MediaContentType0": "image/jpeg",
        "SmsMessageSid": "MM63b8816aa9a935e878532335ca282010",
        "NumMedia": "1",
        "ProfileName": "Isra",
        "MessageType": "image",
        "SmsSid": "MM63b8816aa9a935e878532335ca282010",
        "WaId": "5214773790184",
        "SmsStatus": "received",
        "Body": "",
        "To": "whatsapp:+5214793176502",
        "MessagingServiceSid": "MG95080714e5c70b070fdaf35acd986b6d",
        "NumSegments": "1",
        "ReferralNumMedia": "0",
        "MessageSid": "MM63b8816aa9a935e878532335ca282010",
        "AccountSid": "AC1ed6685660488369e7f0c3ab257f250c",
        "ChannelMetadata": "{\"type\":\"whatsapp\",\"data\":{\"context\":{\"ProfileName\":\"Isra\",\"WaId\":\"5214773790184\"}}}",
        "From": "whatsapp:+5214773790184",
        "MediaUrl0": "https://api.twilio.com/2010-04-01/Accounts/AC1ed6685660488369e7f0c3ab257f250c/Messages/MM63b8816aa9a935e878532335ca282010/Media/ME267f5e65eb6b2dacbdf0e669cf75d0b7",
        "ApiVersion": "2010-04-01"
      },
      "level": "info",
      "message": "üì• PAYLOAD WEBHOOK RECIBIDO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410034001.222,
    "timestamp": "2025-08-17T05:53:54.001Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîó WEBHOOK INICIADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "13.217.206.124",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "webhook_1755410034000_oiw7ds0ng",
      "timestamp": "2025-08-17T05:53:54.000Z",
      "service": "utalk-backend",
      "environment": "production",
      "method": "POST",
      "path": "/webhook",
      "headers": {
        "content-type": "application/x-www-form-urlencoded",
        "x-forwarded-for": "13.217.206.124",
        "x-real-ip": "13.217.206.124"
      },
      "level": "info",
      "message": "üîó WEBHOOK INICIADO"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "13.217.206.124",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410033985.7234,
    "timestamp": "2025-08-17T05:53:53.985Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "13.217.206.124",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "f347ef0e-84a4-42ea-aeb6-d3490b05eb74",
      "timestamp": "2025-08-17T05:53:53.985Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/messages/webhook",
      "path": "/messages/webhook",
      "contentType": "application/x-www-form-urlencoded",
      "contentLength": "829",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "13.217.206.124",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410027498.1892,
    "timestamp": "2025-08-17T05:53:47.498Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:47.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 4
      },
      "period": "60003ms",
      "memoryUsage": {
        "rss": 128237568,
        "heapTotal": 57978880,
        "heapUsed": 54966808,
        "external": 3337960,
        "arrayBuffers": 411527
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410027498.682,
    "timestamp": "2025-08-17T05:53:47.498Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:47.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
      "cleanedSockets": 0,
      "cleanedConversations": 0,
      "cleanedEventListeners": 1,
      "cleanedRateLimit": 0,
      "memoryPressure": "94.76%",
      "currentStats": {
        "connectedUsers": 1,
        "activeConversations": 1,
        "eventListeners": 1,
        "rateLimitEntries": 4,
        "typingUsers": 0
      },
      "memoryUsage": {
        "heapUsed": "52MB",
        "heapTotal": "55MB",
        "external": "3MB"
      },
      "level": "info",
      "message": "Socket.IO memory cleanup completed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410027496.1514,
    "timestamp": "2025-08-17T05:53:47.496Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:47.496Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016303.5032,
    "timestamp": "2025-08-17T05:53:36.303Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:36.303Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "path": "/conv_+5214773790184_+5214793176502/messages",
      "statusCode": 201,
      "statusMessage": "Created",
      "duration": "839ms",
      "responseSize": "1105 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "7eb7cc39-22da-4c95-9439-26796f83c7f6"
      },
      "performance": {
        "duration": 839,
        "responseSize": 1105,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016301.214,
    "timestamp": "2025-08-17T05:53:36.301Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensaje enviado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:36.301Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "sender": "admin@company.com",
      "contentLength": 7,
      "type": "text",
      "senderIdentifier": "agent:admin@company.com",
      "recipientIdentifier": "whatsapp:+5214773790184",
      "level": "info",
      "message": "Mensaje enviado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016301.6484,
    "timestamp": "2025-08-17T05:53:36.301Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST conversation-event",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.301Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversation-event",
      "conversationId": "conv_+5214773790184_...",
      "correlationId": "unknown",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST conversation-event"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016300.1824,
    "timestamp": "2025-08-17T05:53:36.300Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.300Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "conversation.updated",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016300.8547,
    "timestamp": "2025-08-17T05:53:36.300Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "conversation-event",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.8137,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST new-message",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "new-message",
      "conversationId": "conv_+5214773790184_...",
      "messageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "correlationId": "unknown",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST new-message"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.779,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "message.created",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.3809,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "new-message",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.8757,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST conversation-event",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversation-event",
      "conversationId": "conv_+5214773790184_...",
      "correlationId": "append_outbound_1755410015657_m9g74w76o",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST conversation-event"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.9456,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "conversation.updated",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.4297,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "conversation-event",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.5012,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST new-message",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "new-message",
      "conversationId": "conv_+5214773790184_...",
      "messageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "correlationId": "append_outbound_1755410015657_m9g74w76o",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST new-message"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016299.2783,
    "timestamp": "2025-08-17T05:53:36.299Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "message.created",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016298.3594,
    "timestamp": "2025-08-17T05:53:36.298Z",
    "level": "warn",
    "category": "SOCKET_BROADCAST_AUTH_WARNING",
    "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.298Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_BROADCAST_AUTH_WARNING",
      "conversationId": "conv_+5214773790184_...",
      "event": "new-message",
      "level": "warn",
      "message": "broadcastToConversation: Sin workspaceId, omitiendo broadcast"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410016207.4797,
    "timestamp": "2025-08-17T05:53:36.207Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:RESPONSE_OK",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:36.207Z",
      "service": "utalk-backend",
      "environment": "production",
      "sid": "SMca743931db3c578b2f03da411c2bb0d8",
      "status": "queued",
      "level": "info",
      "message": "TWILIO:RESPONSE_OK"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015993.3752,
    "timestamp": "2025-08-17T05:53:35.993Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.993Z",
      "service": "utalk-backend",
      "environment": "production",
      "from": "whatsapp:+5214793176502",
      "to": "whatsapp:+5214773790184",
      "bodyLen": 7,
      "hasMedia": false,
      "level": "info",
      "message": "TWILIO:REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015993.8125,
    "timestamp": "2025-08-17T05:53:35.993Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:REQUEST",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.993Z",
      "service": "utalk-backend",
      "environment": "production",
      "correlationId": "append_outbound_1755410015657_m9g74w76o",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "from": "whatsapp:+5214793176502",
      "to": "whatsapp:+5214773790184",
      "type": "text",
      "hasMedia": false,
      "bodyLen": 7,
      "level": "info",
      "message": "TWILIO:REQUEST"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015656.0364,
    "timestamp": "2025-08-17T05:53:35.656Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.656Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt"
      ],
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015545.8098,
    "timestamp": "2025-08-17T05:53:35.545Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensaje validado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:35.545Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "type": "text",
      "contentLength": 7,
      "senderIdentifier": "agent:admin@company.com",
      "recipientIdentifier": "whatsapp:+5214773790184",
      "level": "info",
      "message": "Mensaje validado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015544.4688,
    "timestamp": "2025-08-17T05:53:35.544Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageId autogenerado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:35.544Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "generatedMessageId": "0c650c2e-5d83-4bd7-a972-84e82cfea9e0",
      "level": "info",
      "message": "MessageId autogenerado"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015544.1362,
    "timestamp": "2025-08-17T05:53:35.544Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:35.544Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015544.1953,
    "timestamp": "2025-08-17T05:53:35.544Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:35.544Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015544.495,
    "timestamp": "2025-08-17T05:53:35.544Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:53:35.544Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015543.5432,
    "timestamp": "2025-08-17T05:53:35.543Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.543Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "duration": "79ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015543.061,
    "timestamp": "2025-08-17T05:53:35.543Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.543Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015543.276,
    "timestamp": "2025-08-17T05:53:35.543Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.543Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015465.1802,
    "timestamp": "2025-08-17T05:53:35.465Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.465Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015465.203,
    "timestamp": "2025-08-17T05:53:35.465Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.465Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015465.8745,
    "timestamp": "2025-08-17T05:53:35.465Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.465Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015464.2903,
    "timestamp": "2025-08-17T05:53:35.464Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.464Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "method": "POST",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015463.7957,
    "timestamp": "2025-08-17T05:53:35.463Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7eb7cc39-22da-4c95-9439-26796f83c7f6",
      "timestamp": "2025-08-17T05:53:35.463Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502/messages",
      "path": "/conversations/conv_+5214773790184_+5214793176502/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "142",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015462.2651,
    "timestamp": "2025-08-17T05:53:35.462Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.462Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755410015381.066,
    "timestamp": "2025-08-17T05:53:35.381Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:35.381Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999516.6758,
    "timestamp": "2025-08-17T05:53:19.516Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST conversation-event",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:19.516Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversation-event",
      "conversationId": "conv_+5214773790184_...",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST conversation-event"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999437.3997,
    "timestamp": "2025-08-17T05:53:19.437Z",
    "level": "info",
    "category": "MESSAGES_MARK_READ_BATCH",
    "message": "Mensajes marcados como le√≠dos (batch robusto)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:19.437Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MESSAGES_MARK_READ_BATCH",
      "conversationId": "conv_+5214773790184_+521479317...",
      "userEmail": "admin@company.com...",
      "requested": 1,
      "updated": 1,
      "skipped": 0,
      "level": "info",
      "message": "Mensajes marcados como le√≠dos (batch robusto)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999092.622,
    "timestamp": "2025-08-17T05:53:19.092Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "3.80.239.35",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "dfba3156-c2e1-426f-a3fd-0d26f51544db",
      "timestamp": "2025-08-17T05:53:19.092Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/messages/webhook",
      "path": "/webhook",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "734ms",
      "responseSize": "292 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "292",
        "x-request-id": "dfba3156-c2e1-426f-a3fd-0d26f51544db"
      },
      "performance": {
        "duration": 734,
        "responseSize": 292,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "3.80.239.35",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999091.7158,
    "timestamp": "2025-08-17T05:53:19.091Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:19.091Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "processTime": 729,
      "step": "sending_success_response",
      "level": "info",
      "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999091.247,
    "timestamp": "2025-08-17T05:53:19.091Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:19.091Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "contactUpdated": true,
      "processTime": 729,
      "step": "twilio_service_completed",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999091.7153,
    "timestamp": "2025-08-17T05:53:19.091Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755409998364_lx7dhk7yb",
      "timestamp": "2025-08-17T05:53:19.091Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "type": "text",
      "direction": "inbound",
      "hasMedia": false,
      "step": "process_complete",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999091.646,
    "timestamp": "2025-08-17T05:53:19.091Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755409999089_9v6cdlyyp",
      "timestamp": "2025-08-17T05:53:19.091Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "step": "realtime_emit_complete",
      "level": "info",
      "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999091.0295,
    "timestamp": "2025-08-17T05:53:19.091Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST new-message",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:19.091Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "new-message",
      "conversationId": "conv_+5214773790184_...",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "correlationId": "realtime_1755409999089_9v6cdlyyp",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST new-message"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999089.2485,
    "timestamp": "2025-08-17T05:53:19.089Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755409999089_9v6cdlyyp",
      "timestamp": "2025-08-17T05:53:19.089Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "direction": "inbound",
      "type": "text",
      "step": "realtime_emit_start",
      "level": "info",
      "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409999089.681,
    "timestamp": "2025-08-17T05:53:19.089Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:19.089Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "lastMessageId": "SM05712969738eab1066c0d23dd0b81752",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998939.8777,
    "timestamp": "2025-08-17T05:53:18.939Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "direction": "inbound",
      "type": "text",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998844.5562,
    "timestamp": "2025-08-17T05:53:18.844Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.844Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998685.891,
    "timestamp": "2025-08-17T05:53:18.685Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã Conversaci√≥n existente encontrada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "üìã Conversaci√≥n existente encontrada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998606.981,
    "timestamp": "2025-08-17T05:53:18.606Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìù MESSAGESERVICE - DATOS DEL MENSAJE PREPARADOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755409998364_lx7dhk7yb",
      "timestamp": "2025-08-17T05:53:18.606Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SM05712969738eab1066c0d23dd0b81752",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "sender": "+5214773790184",
      "recipient": "+5214793176502",
      "type": "text",
      "hasMedia": false,
      "hasContactInfo": true,
      "step": "message_data_prepared",
      "level": "info",
      "message": "üìù MESSAGESERVICE - DATOS DEL MENSAJE PREPARADOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998605.982,
    "timestamp": "2025-08-17T05:53:18.605Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Contacto actualizado en base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.605Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "profileName": "Isra",
      "waId": "5214773790184",
      "hasProfilePhoto": false,
      "level": "info",
      "message": "‚úÖ Contacto actualizado en base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998365.6487,
    "timestamp": "2025-08-17T05:53:18.365Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Intentando obtener foto de perfil",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.365Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "level": "info",
      "message": "üîç Intentando obtener foto de perfil"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998364.3425,
    "timestamp": "2025-08-17T05:53:18.364Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã MESSAGESERVICE - DATOS EXTRA√çDOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755409998364_lx7dhk7yb",
      "timestamp": "2025-08-17T05:53:18.364Z",
      "service": "utalk-backend",
      "environment": "production",
      "twilioSid": "SM05712969738eab1066c0d23dd0b81752",
      "rawFromPhone": "whatsapp:+5214773790184",
      "rawToPhone": "whatsapp:+5214793176502",
      "contentLength": 7,
      "hasMedia": false,
      "numMedia": 0,
      "profileName": "Isra",
      "waId": "5214773790184",
      "step": "data_extraction",
      "level": "info",
      "message": "üìã MESSAGESERVICE - DATOS EXTRA√çDOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998364.967,
    "timestamp": "2025-08-17T05:53:18.364Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755409998364_lx7dhk7yb",
      "timestamp": "2025-08-17T05:53:18.364Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "from": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "hasBody": true,
      "hasProfileName": true,
      "hasWaId": true,
      "step": "twilio_process_start",
      "level": "info",
      "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998364.9316,
    "timestamp": "2025-08-17T05:53:18.364Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:53:18.364Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998364.0977,
    "timestamp": "2025-08-17T05:53:18.364Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üö® MESSAGECONTROLLER - ANTES DE LLAMAR MESSAGESERVICE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.364Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": true,
      "hasMedia": false,
      "reqBodyKeys": [
        "SmsMessageSid",
        "NumMedia",
        "ProfileName",
        "MessageType",
        "SmsSid",
        "WaId",
        "SmsStatus",
        "Body",
        "To",
        "MessagingServiceSid",
        "NumSegments",
        "ReferralNumMedia",
        "MessageSid",
        "AccountSid",
        "ChannelMetadata",
        "From",
        "ApiVersion"
      ],
      "reqBodyValues": {
        "From": "whatsapp:+5214773790184",
        "To": "whatsapp:+5214793176502",
        "Body": "Hola 10",
        "MessageSid": "SM05712969738eab1066c0d23dd0b81752",
        "NumMedia": "0"
      },
      "step": "before_twilio_service_call",
      "level": "info",
      "message": "üö® MESSAGECONTROLLER - ANTES DE LLAMAR MESSAGESERVICE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998363.5305,
    "timestamp": "2025-08-17T05:53:18.363Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.363Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": true,
      "hasMedia": false,
      "step": "before_twilio_service",
      "level": "info",
      "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998363.163,
    "timestamp": "2025-08-17T05:53:18.363Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì± TEL√âFONOS PROCESADOS",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.363Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalFrom": "whatsapp:+5214773790184",
      "normalizedFrom": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "level": "info",
      "message": "üì± TEL√âFONOS PROCESADOS"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998363.4226,
    "timestamp": "2025-08-17T05:53:18.363Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.363Z",
      "service": "utalk-backend",
      "environment": "production",
      "fromPhone": "whatsapp:+5214773790184",
      "twilioPhone": "whatsapp:+5214793176502",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "hasContent": true,
      "level": "info",
      "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998363.592,
    "timestamp": "2025-08-17T05:53:18.363Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì• PAYLOAD WEBHOOK RECIBIDO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.363Z",
      "service": "utalk-backend",
      "environment": "production",
      "fromPhone": "whatsapp:+5214773790184",
      "twilioPhone": "whatsapp:+5214793176502",
      "messageSid": "SM05712969738eab1066c0d23dd0b81752",
      "hasContent": true,
      "contentLength": 7,
      "contentPreview": "Hola 10",
      "mediaCount": 0,
      "fullBody": {
        "SmsMessageSid": "SM05712969738eab1066c0d23dd0b81752",
        "NumMedia": "0",
        "ProfileName": "Isra",
        "MessageType": "text",
        "SmsSid": "SM05712969738eab1066c0d23dd0b81752",
        "WaId": "5214773790184",
        "SmsStatus": "received",
        "Body": "Hola 10",
        "To": "whatsapp:+5214793176502",
        "MessagingServiceSid": "MG95080714e5c70b070fdaf35acd986b6d",
        "NumSegments": "1",
        "ReferralNumMedia": "0",
        "MessageSid": "SM05712969738eab1066c0d23dd0b81752",
        "AccountSid": "AC1ed6685660488369e7f0c3ab257f250c",
        "ChannelMetadata": "{\"type\":\"whatsapp\",\"data\":{\"context\":{\"ProfileName\":\"Isra\",\"WaId\":\"5214773790184\"}}}",
        "From": "whatsapp:+5214773790184",
        "ApiVersion": "2010-04-01"
      },
      "level": "info",
      "message": "üì• PAYLOAD WEBHOOK RECIBIDO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998363.0364,
    "timestamp": "2025-08-17T05:53:18.363Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîó WEBHOOK INICIADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "3.80.239.35",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "webhook_1755409998362_690lxt687",
      "timestamp": "2025-08-17T05:53:18.363Z",
      "service": "utalk-backend",
      "environment": "production",
      "method": "POST",
      "path": "/webhook",
      "headers": {
        "content-type": "application/x-www-form-urlencoded",
        "x-forwarded-for": "3.80.239.35",
        "x-real-ip": "3.80.239.35"
      },
      "level": "info",
      "message": "üîó WEBHOOK INICIADO"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "3.80.239.35",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409998359.6477,
    "timestamp": "2025-08-17T05:53:18.359Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "3.80.239.35",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "dfba3156-c2e1-426f-a3fd-0d26f51544db",
      "timestamp": "2025-08-17T05:53:18.359Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/messages/webhook",
      "path": "/messages/webhook",
      "contentType": "application/x-www-form-urlencoded",
      "contentLength": "611",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "TwilioProxy/1.1",
    "ip": "3.80.239.35",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409967496.6604,
    "timestamp": "2025-08-17T05:52:47.496Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 1,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 1
      },
      "period": "60005ms",
      "memoryUsage": {
        "rss": 125284352,
        "heapTotal": 54571008,
        "heapUsed": 51656096,
        "external": 3249719,
        "arrayBuffers": 325666
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952288.7896,
    "timestamp": "2025-08-17T05:52:32.288Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.288Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "221ms",
      "responseSize": "764 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "764",
        "x-request-id": "a4784261-4273-468e-843d-5a2fdcec46b4"
      },
      "performance": {
        "duration": 221,
        "responseSize": 764,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952287.2632,
    "timestamp": "2025-08-17T05:52:32.287Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.287Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952287.2734,
    "timestamp": "2025-08-17T05:52:32.287Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.287Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt"
      ],
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952145.3538,
    "timestamp": "2025-08-17T05:52:32.145Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952145.1267,
    "timestamp": "2025-08-17T05:52:32.145Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:32.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952145.7273,
    "timestamp": "2025-08-17T05:52:32.145Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:32.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952145.4592,
    "timestamp": "2025-08-17T05:52:32.145Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:32.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952145.3806,
    "timestamp": "2025-08-17T05:52:32.145Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.145Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "76ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952144.768,
    "timestamp": "2025-08-17T05:52:32.144Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.144Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952144.4702,
    "timestamp": "2025-08-17T05:52:32.144Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.144Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952070.0996,
    "timestamp": "2025-08-17T05:52:32.070Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.070Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952070.5264,
    "timestamp": "2025-08-17T05:52:32.070Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.070Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952070.3076,
    "timestamp": "2025-08-17T05:52:32.070Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.070Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952068.1396,
    "timestamp": "2025-08-17T05:52:32.068Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.068Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952067.6685,
    "timestamp": "2025-08-17T05:52:32.067Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a4784261-4273-468e-843d-5a2fdcec46b4",
      "timestamp": "2025-08-17T05:52:32.067Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409952062.3691,
    "timestamp": "2025-08-17T05:52:32.062Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:32.062Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951982.261,
    "timestamp": "2025-08-17T05:52:31.982Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.981Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "293ms",
      "responseSize": "2933 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "dd808b4a-1c30-48a5-9109-bb785184e394"
      },
      "performance": {
        "duration": 293,
        "responseSize": 2933,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951979.0237,
    "timestamp": "2025-08-17T05:52:31.979Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.978Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "count": 3,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "67ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951977.8608,
    "timestamp": "2025-08-17T05:52:31.977Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.977Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "totalResults": 3,
      "hasMore": false,
      "queryTime": "67ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951908.5112,
    "timestamp": "2025-08-17T05:52:31.908Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.908Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951905.7832,
    "timestamp": "2025-08-17T05:52:31.905Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "onlineUsersCount": 1,
      "level": "info",
      "message": "‚úÖ USUARIO UNIDO EXITOSAMENTE A CONVERSACI√ìN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951905.5562,
    "timestamp": "2025-08-17T05:52:31.905Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "syncData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "success": true,
        "timestamp": "2025-08-17T05:52:31.905Z"
      },
      "level": "info",
      "message": "üì§ ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951905.9695,
    "timestamp": "2025-08-17T05:52:31.905Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.905Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "confirmationData": {
        "conversationId": "conv_+5214773790184_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214773790184_+5214793176502",
        "onlineUsers": [
          "admin@company.com"
        ],
        "success": true,
        "timestamp": "2025-08-17T05:52:31.905Z"
      },
      "level": "info",
      "message": "üì§ ENVIANDO CONFIRMACI√ìN CONVERSATION_JOINED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951904.0947,
    "timestamp": "2025-08-17T05:52:31.904Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.904Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214773790184_...",
      "participantsCount": 2,
      "level": "info",
      "message": "Usuario es participante directo de la conversaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951765.6143,
    "timestamp": "2025-08-17T05:52:31.765Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.764Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951763.1008,
    "timestamp": "2025-08-17T05:52:31.763Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:31.763Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId en query normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951762.1665,
    "timestamp": "2025-08-17T05:52:31.762Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:31.762Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificaci√≥n"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951762.9001,
    "timestamp": "2025-08-17T05:52:31.762Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.762Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "duration": "74ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951762.3267,
    "timestamp": "2025-08-17T05:52:31.762Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951761.5454,
    "timestamp": "2025-08-17T05:52:31.761Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.761Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951689.9297,
    "timestamp": "2025-08-17T05:52:31.689Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.689Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951689.5627,
    "timestamp": "2025-08-17T05:52:31.689Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.689Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951689.458,
    "timestamp": "2025-08-17T05:52:31.689Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.689Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951688.1746,
    "timestamp": "2025-08-17T05:52:31.688Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.688Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951688.4365,
    "timestamp": "2025-08-17T05:52:31.688Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "dd808b4a-1c30-48a5-9109-bb785184e394",
      "timestamp": "2025-08-17T05:52:31.688Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214773790184_%2B5214793176502&limit=50",
      "path": "/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409951687.7812,
    "timestamp": "2025-08-17T05:52:31.687Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:31.687Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950887.599,
    "timestamp": "2025-08-17T05:52:30.887Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "220ms",
      "responseSize": "764 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "764",
        "x-request-id": "001e3da5-cdad-4978-89e9-d4092c04af22"
      },
      "performance": {
        "duration": 220,
        "responseSize": 764,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950886.349,
    "timestamp": "2025-08-17T05:52:30.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950885.0125,
    "timestamp": "2025-08-17T05:52:30.885Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversaci√≥n obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.885Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt"
      ],
      "level": "info",
      "message": "Conversaci√≥n obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950757.3066,
    "timestamp": "2025-08-17T05:52:30.757Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.757Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950756.3357,
    "timestamp": "2025-08-17T05:52:30.756Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:30.756Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950753.753,
    "timestamp": "2025-08-17T05:52:30.753Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificaci√≥n EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:30.753Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificaci√≥n EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950753.6653,
    "timestamp": "2025-08-17T05:52:30.753Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Par√°metros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-17T05:52:30.753Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Par√°metros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950752.057,
    "timestamp": "2025-08-17T05:52:30.752Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "84ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950752.373,
    "timestamp": "2025-08-17T05:52:30.752Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.752Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950751.5383,
    "timestamp": "2025-08-17T05:52:30.751Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.751Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950670.1472,
    "timestamp": "2025-08-17T05:52:30.670Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.670Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950670.7395,
    "timestamp": "2025-08-17T05:52:30.670Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.670Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950670.5293,
    "timestamp": "2025-08-17T05:52:30.670Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.670Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410845,
      "iat": 1755409945,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950668.3167,
    "timestamp": "2025-08-17T05:52:30.668Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.668Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950668.4004,
    "timestamp": "2025-08-17T05:52:30.668Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "001e3da5-cdad-4978-89e9-d4092c04af22",
      "timestamp": "2025-08-17T05:52:30.667Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409950667.691,
    "timestamp": "2025-08-17T05:52:30.667Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:30.667Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409947501.9854,
    "timestamp": "2025-08-17T05:52:27.501Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:27.501Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409947501.2092,
    "timestamp": "2025-08-17T05:52:27.501Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:27.501Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "2odPoPr2...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409947501.5537,
    "timestamp": "2025-08-17T05:52:27.501Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:27.501Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409947501.1274,
    "timestamp": "2025-08-17T05:52:27.501Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:27.501Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409947500.457,
    "timestamp": "2025-08-17T05:52:27.500Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:27.500Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946521.786,
    "timestamp": "2025-08-17T05:52:26.521Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.521Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946521.508,
    "timestamp": "2025-08-17T05:52:26.521Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.521Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "socketId": "2odPoPr2...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946520.011,
    "timestamp": "2025-08-17T05:52:26.520Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946520.9866,
    "timestamp": "2025-08-17T05:52:26.520Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946520.9958,
    "timestamp": "2025-08-17T05:52:26.520Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946520.7507,
    "timestamp": "2025-08-17T05:52:26.520Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 0,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946282.8867,
    "timestamp": "2025-08-17T05:52:26.282Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.282Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946282.208,
    "timestamp": "2025-08-17T05:52:26.282Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.282Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946282.627,
    "timestamp": "2025-08-17T05:52:26.282Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.281Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.4565,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.7935,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.8086,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.849,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "2odPoPr2...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.62,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.2288,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "2odPoPr2...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946210.0671,
    "timestamp": "2025-08-17T05:52:26.210Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.210Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946107.8909,
    "timestamp": "2025-08-17T05:52:26.107Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.107Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946107.1338,
    "timestamp": "2025-08-17T05:52:26.107Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.107Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "totalConnected": 1,
      "connectedAt": "2025-08-17T05:52:26.106Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946106.1116,
    "timestamp": "2025-08-17T05:52:26.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "2odPoPr2...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946106.361,
    "timestamp": "2025-08-17T05:52:26.106Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946105.1472,
    "timestamp": "2025-08-17T05:52:26.105Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.105Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946105.0684,
    "timestamp": "2025-08-17T05:52:26.105Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.105Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946103.7385,
    "timestamp": "2025-08-17T05:52:26.103Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.103Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "2odPoPr2w1ZaswNEAAAE",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946020.4648,
    "timestamp": "2025-08-17T05:52:26.020Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.020Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946020.359,
    "timestamp": "2025-08-17T05:52:26.020Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.020Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409946020.8591,
    "timestamp": "2025-08-17T05:52:26.020Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:26.020Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945696.2573,
    "timestamp": "2025-08-17T05:52:25.696Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.696Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/login",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "564ms",
      "responseSize": "1902 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4"
      },
      "performance": {
        "duration": 564,
        "responseSize": 1902,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945691.122,
    "timestamp": "2025-08-17T05:52:25.691Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.691Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_success",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "department": "admin",
      "deviceId": "c441d789-121c-4cf8-9754-a0a909e804d8",
      "level": "info",
      "message": "[AUTH] login_success"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945691.586,
    "timestamp": "2025-08-17T05:52:25.691Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.691Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "c441d789-121c-4cf8-9754-a0a909e804d8",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945691.159,
    "timestamp": "2025-08-17T05:52:25.691Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ Refresh token creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.691Z",
      "service": "utalk-backend",
      "environment": "production",
      "tokenId": "1e3708d3-1732-4d95-85f4-6a9c8809da0f",
      "userEmail": "admin@company.com",
      "familyId": "c40f7f41-b664-4c1f-8d05-c706dab5995a",
      "deviceId": "c441d789-121c-4cf8-9754-a0a909e804d8",
      "level": "info",
      "message": "üîÑ Refresh token creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945428.1252,
    "timestamp": "2025-08-17T05:52:25.428Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.428Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945428.916,
    "timestamp": "2025-08-17T05:52:25.428Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.427Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945345.2205,
    "timestamp": "2025-08-17T05:52:25.345Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945344.6992,
    "timestamp": "2025-08-17T05:52:25.344Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contrase√±a v√°lida (campo password)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contrase√±a v√°lida (campo password)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945344.0642,
    "timestamp": "2025-08-17T05:52:25.344Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.344Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945222.2434,
    "timestamp": "2025-08-17T05:52:25.222Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.222Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945222.295,
    "timestamp": "2025-08-17T05:52:25.222Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.222Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945221.504,
    "timestamp": "2025-08-17T05:52:25.221Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.221Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945135.5754,
    "timestamp": "2025-08-17T05:52:25.135Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.135Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945135.9136,
    "timestamp": "2025-08-17T05:52:25.135Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.135Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945135.8252,
    "timestamp": "2025-08-17T05:52:25.135Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.135Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945132.8557,
    "timestamp": "2025-08-17T05:52:25.132Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7f447022-4a7f-4f35-87c7-b2a86f4f37b4",
      "timestamp": "2025-08-17T05:52:25.132Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/auth/login",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "51",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409945119.4944,
    "timestamp": "2025-08-17T05:52:25.119Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:25.119Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938929.4631,
    "timestamp": "2025-08-17T05:52:18.929Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7d121823-9647-4a70-a25b-0afda56f04d0",
      "timestamp": "2025-08-17T05:52:18.929Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "17ms",
      "responseSize": "62104 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "7d121823-9647-4a70-a25b-0afda56f04d0"
      },
      "performance": {
        "duration": 17,
        "responseSize": 62104,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938926.4573,
    "timestamp": "2025-08-17T05:52:18.926Z",
    "level": "error",
    "category": "HTTP_SERVER_ERROR",
    "message": "‚ùå Petici√≥n HTTP con error",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2303a719-6bb3-46f2-a5ed-65e262ddca44",
      "timestamp": "2025-08-17T05:52:18.925Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SERVER_ERROR",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 500,
      "statusMessage": "Internal Server Error",
      "duration": "5ms",
      "responseSize": "141 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "141",
        "x-request-id": "2303a719-6bb3-46f2-a5ed-65e262ddca44"
      },
      "performance": {
        "duration": 5,
        "responseSize": 141,
        "isSlow": false,
        "isLarge": false
      },
      "level": "error",
      "message": "‚ùå Petici√≥n HTTP con error"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938924.694,
    "timestamp": "2025-08-17T05:52:18.924Z",
    "level": "error",
    "category": "LOG_DASHBOARD_ERROR",
    "message": "Error obteniendo dashboard de logs",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:18.922Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOG_DASHBOARD_ERROR",
      "error": "log.message.includes is not a function",
      "stack": "TypeError: log.message.includes is not a function\n    at /app/src/services/LogMonitorService.js:252:19\n    at Array.filter (<anonymous>)\n    at LogMonitorService.getRateLimitMetrics (/app/src/services/LogMonitorService.js:250:37)\n    at getDashboard (/app/src/controllers/LogDashboardController.js:152:43)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)",
      "level": "error",
      "message": "Error obteniendo dashboard de logs"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938919.2163,
    "timestamp": "2025-08-17T05:52:18.919Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2303a719-6bb3-46f2-a5ed-65e262ddca44",
      "timestamp": "2025-08-17T05:52:18.919Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938913.3132,
    "timestamp": "2025-08-17T05:52:18.913Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7d121823-9647-4a70-a25b-0afda56f04d0",
      "timestamp": "2025-08-17T05:52:18.913Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938824.1108,
    "timestamp": "2025-08-17T05:52:18.824Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d0216a12-0a4a-45b8-82b0-9fc488c9dc07",
      "timestamp": "2025-08-17T05:52:18.824Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REDIRECT",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 304,
      "statusMessage": "Not Modified",
      "duration": "5ms",
      "responseSize": "14080 bytes",
      "userEmail": "undefined...",
      "headers": {
        "x-request-id": "d0216a12-0a4a-45b8-82b0-9fc488c9dc07"
      },
      "performance": {
        "duration": 5,
        "responseSize": 14080,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938820.2942,
    "timestamp": "2025-08-17T05:52:18.820Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d0216a12-0a4a-45b8-82b0-9fc488c9dc07",
      "timestamp": "2025-08-17T05:52:18.820Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409938661.963,
    "timestamp": "2025-08-17T05:52:18.661Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755409932416.8542,
    "timestamp": "2025-08-17T05:52:12.416Z",
    "level": "info",
    "category": "SOCKET_CLEANUP_SUCCESS",
    "message": "User session cleaned up successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:12.415Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CLEANUP_SUCCESS",
      "email": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "remainingConnections": 0,
      "memoryMaps": {
        "connectedUsers": 0,
        "userConversations": 0,
        "conversationUsers": 0,
        "eventListeners": 1,
        "rateLimitTracker": 0
      },
      "level": "info",
      "message": "User session cleaned up successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932414.092,
    "timestamp": "2025-08-17T05:52:12.414Z",
    "level": "info",
    "category": "SOCKET_SESSION_EVICTED",
    "message": "User session evicted from memory",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:12.414Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SESSION_EVICTED",
      "email": "admin@company.com...",
      "reason": "manual",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "lastActivity": "2025-08-17T05:52:12.413Z",
      "level": "info",
      "message": "User session evicted from memory"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932413.5793,
    "timestamp": "2025-08-17T05:52:12.413Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:DISCONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:12.413Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "Dj1_Nl7a...",
      "email": "admin@company.com...",
      "reason": "client namespace disconnect",
      "level": "info",
      "message": "RT:DISCONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932305.036,
    "timestamp": "2025-08-17T05:52:12.305Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e76e8822-7275-4763-bc9c-6ab6dbc1a314",
      "timestamp": "2025-08-17T05:52:12.304Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/logout",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "5ms",
      "responseSize": "65 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "65",
        "x-request-id": "e76e8822-7275-4763-bc9c-6ab6dbc1a314"
      },
      "performance": {
        "duration": 5,
        "responseSize": 65,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932303.9043,
    "timestamp": "2025-08-17T05:52:12.303Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] logout_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "e76e8822-7275-4763-bc9c-6ab6dbc1a314",
      "timestamp": "2025-08-17T05:52:12.303Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "logout_success",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] logout_success"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932300.2031,
    "timestamp": "2025-08-17T05:52:12.300Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "e76e8822-7275-4763-bc9c-6ab6dbc1a314",
      "timestamp": "2025-08-17T05:52:12.300Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/logout",
      "path": "/auth/logout",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentLength": "0",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409932298.0786,
    "timestamp": "2025-08-17T05:52:12.298Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:12.298Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409927499.15,
    "timestamp": "2025-08-17T05:52:07.499Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:07.499Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409927499.2742,
    "timestamp": "2025-08-17T05:52:07.499Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:07.499Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "Dj1_Nl7a...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409927499.5278,
    "timestamp": "2025-08-17T05:52:07.499Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:07.499Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409927499.7092,
    "timestamp": "2025-08-17T05:52:07.499Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:07.499Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409927499.566,
    "timestamp": "2025-08-17T05:52:07.499Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:07.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920449.6274,
    "timestamp": "2025-08-17T05:52:00.449Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.449Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920448.6523,
    "timestamp": "2025-08-17T05:52:00.448Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "socketId": "Dj1_Nl7a...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920447.9282,
    "timestamp": "2025-08-17T05:52:00.447Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920447.936,
    "timestamp": "2025-08-17T05:52:00.447Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920447.185,
    "timestamp": "2025-08-17T05:52:00.447Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920447.3608,
    "timestamp": "2025-08-17T05:52:00.447Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.447Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 0,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920214.5645,
    "timestamp": "2025-08-17T05:52:00.214Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.214Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920214.778,
    "timestamp": "2025-08-17T05:52:00.214Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.214Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 2,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920214.5754,
    "timestamp": "2025-08-17T05:52:00.214Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.214Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920128.5024,
    "timestamp": "2025-08-17T05:52:00.128Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.128Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920128.6191,
    "timestamp": "2025-08-17T05:52:00.128Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.128Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920128.3616,
    "timestamp": "2025-08-17T05:52:00.128Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.128Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920128.7292,
    "timestamp": "2025-08-17T05:52:00.128Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.127Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "Dj1_Nl7a...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920127.0867,
    "timestamp": "2025-08-17T05:52:00.127Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.127Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920127.7458,
    "timestamp": "2025-08-17T05:52:00.127Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.127Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "Dj1_Nl7a...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920127.1113,
    "timestamp": "2025-08-17T05:52:00.127Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.127Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920124.7065,
    "timestamp": "2025-08-17T05:52:00.124Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.124Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920089.5798,
    "timestamp": "2025-08-17T05:52:00.089Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:52:00.089Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "332ms",
      "responseSize": "1759 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "76dc3cc5-e649-45b1-b40a-6a6962fe3463"
      },
      "performance": {
        "duration": 332,
        "responseSize": 1759,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "‚úÖ Petici√≥n HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920082.4443,
    "timestamp": "2025-08-17T05:52:00.082Z",
    "level": "info",
    "category": "CACHE",
    "message": "Cache miss: /",
    "data": {
      "userId": "admin@company.com",
      "ip": "189.129.228.62",
      "endpoint": "/",
      "ttlSeconds": 120,
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.129.228.62",
    "userId": "admin@company.com",
    "endpoint": "/"
  },
  {
    "id": 1755409920082.0667,
    "timestamp": "2025-08-17T05:52:00.082Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_done",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "http": {
        "method": "GET",
        "path": "/",
        "status": 200,
        "durationMs": 197
      },
      "user": null,
      "result": {
        "count": 2,
        "totalCount": 2,
        "source": "hardened"
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "timestamp": "2025-08-17T05:52:00.081Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "userCtx": null,
      "message": {
        "event": "conversations_list_done",
        "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
        "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
        "http": {
          "method": "GET",
          "path": "/",
          "status": 200,
          "durationMs": 197
        },
        "user": null,
        "result": {
          "count": 2,
          "totalCount": 2,
          "source": "hardened"
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920081.3975,
    "timestamp": "2025-08-17T05:52:00.081Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.081Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920081.2234,
    "timestamp": "2025-08-17T05:52:00.081Z",
    "level": "info",
    "category": "DB",
    "message": "Database call: conversations",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "/api/conversations",
      "page": 1,
      "limit": 20,
      "search": "no"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "/api/conversations"
  },
  {
    "id": 1755409920023.3567,
    "timestamp": "2025-08-17T05:52:00.023Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.023Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920023.6147,
    "timestamp": "2025-08-17T05:52:00.023Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.023Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-17T05:52:00.022Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920022.1785,
    "timestamp": "2025-08-17T05:52:00.022Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.022Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "Dj1_Nl7a...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920017.8533,
    "timestamp": "2025-08-17T05:52:00.017Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.017Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920016.4597,
    "timestamp": "2025-08-17T05:52:00.016Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.016Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920016.492,
    "timestamp": "2025-08-17T05:52:00.016Z",
    "level": "info",
    "category": "SOCKET_AUTH_USER_SUCCESS",
    "message": "Socket.IO: User retrieved successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.015Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_USER_SUCCESS",
      "email": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "userRole": "admin",
      "level": "info",
      "message": "Socket.IO: User retrieved successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409920015.5608,
    "timestamp": "2025-08-17T05:52:00.015Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:52:00.015Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919885.2644,
    "timestamp": "2025-08-17T05:51:59.885Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_start",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "loggerShape": {
        "hasInfo": true,
        "hasAuth": true,
        "hasDatabase": true,
        "hasChild": true
      },
      "http": {
        "method": "GET",
        "path": "/"
      },
      "user": null,
      "filters": {
        "limit": 20,
        "page": 1
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "timestamp": "2025-08-17T05:51:59.884Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
      "userCtx": null,
      "message": {
        "event": "conversations_list_start",
        "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
        "traceId": "3ce0d1dd-bcbf-4c94-bc74-ab2feb074ec7",
        "loggerShape": {
          "hasInfo": true,
          "hasAuth": true,
          "hasDatabase": true,
          "hasChild": true
        },
        "http": {
          "method": "GET",
          "path": "/"
        },
        "user": null,
        "filters": {
          "limit": 20,
          "page": 1
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919884.8123,
    "timestamp": "2025-08-17T05:51:59.884Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.884Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919879.4568,
    "timestamp": "2025-08-17T05:51:59.879Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "unknown",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.879Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "121ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919879.0295,
    "timestamp": "2025-08-17T05:51:59.879Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.879Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919879.0845,
    "timestamp": "2025-08-17T05:51:59.879Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.879Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919841.9033,
    "timestamp": "2025-08-17T05:51:59.841Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919841.57,
    "timestamp": "2025-08-17T05:51:59.841Z",
    "level": "info",
    "category": "SOCKET_AUTH_DB_ATTEMPT",
    "message": "Socket.IO: Attempting to get user from database",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ATTEMPT",
      "email": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "userModelAvailable": true,
      "level": "info",
      "message": "Socket.IO: Attempting to get user from database"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919841.5637,
    "timestamp": "2025-08-17T05:51:59.841Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIRESTORE_TEST",
    "message": "Socket.IO: Firestore connectivity test passed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.841Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIRESTORE_TEST",
      "email": "admin@company.com...",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "firestoreAvailable": true,
      "level": "info",
      "message": "Socket.IO: Firestore connectivity test passed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919840.992,
    "timestamp": "2025-08-17T05:51:59.840Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.840Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919837.4573,
    "timestamp": "2025-08-17T05:51:59.837Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.837Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "Dj1_Nl7ahCoj1MxIAAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919763.839,
    "timestamp": "2025-08-17T05:51:59.763Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.763Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919763.0376,
    "timestamp": "2025-08-17T05:51:59.763Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.763Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919763.945,
    "timestamp": "2025-08-17T05:51:59.763Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.763Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755410617,
      "iat": 1755409717,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919759.1494,
    "timestamp": "2025-08-17T05:51:59.759Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.759Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919757.7683,
    "timestamp": "2025-08-17T05:51:59.757Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.129.228.62",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "76dc3cc5-e649-45b1-b40a-6a6962fe3463",
      "timestamp": "2025-08-17T05:51:59.757Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/conversations",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.129.228.62",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919755.9514,
    "timestamp": "2025-08-17T05:51:59.755Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.755Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919746.484,
    "timestamp": "2025-08-17T05:51:59.746Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.746Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919745.1128,
    "timestamp": "2025-08-17T05:51:59.745Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.745Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409919745.4058,
    "timestamp": "2025-08-17T05:51:59.745Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "‚úÖ CORS permitido (est√°tico)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:59.745Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "‚úÖ CORS permitido (est√°tico)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409917498.376,
    "timestamp": "2025-08-17T05:51:57.498Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO_START",
    "message": "Auto cleanup iniciado (optimizado)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:57.498Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO_START",
      "interval": "120s",
      "maxAge": "1800s",
      "maxCalls": 500,
      "memoryPressureThreshold": "80%",
      "level": "info",
      "message": "Auto cleanup iniciado (optimizado)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907739.6042,
    "timestamp": "2025-08-17T05:51:47.739Z",
    "level": "info",
    "category": "FIREBASE_CONNECTIVITY",
    "message": "FIREBASE - Test de conectividad Firestore exitoso",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.739Z",
      "service": "firestore",
      "environment": "production",
      "category": "FIREBASE_CONNECTIVITY",
      "testSuccessful": true,
      "level": "info",
      "message": "FIREBASE - Test de conectividad Firestore exitoso"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907568.4434,
    "timestamp": "2025-08-17T05:51:47.568Z",
    "level": "info",
    "category": "SERVER_SUCCESS",
    "message": "‚úÖ Servidor consolidado enterprise inicializado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.568Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_SUCCESS",
      "port": 3001,
      "features": {
        "memoryManagement": true,
        "rateLimiting": false,
        "healthChecks": true,
        "errorHandling": true,
        "logging": true,
        "socketIO": true,
        "gracefulShutdown": true,
        "degradedMode": false
      },
      "startupDuration": "323ms",
      "memoryUsage": {
        "rss": 146812928,
        "heapTotal": 80785408,
        "heapUsed": 61387776,
        "external": 3831347,
        "arrayBuffers": 1038291
      },
      "level": "info",
      "message": "‚úÖ Servidor consolidado enterprise inicializado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907568.3018,
    "timestamp": "2025-08-17T05:51:47.568Z",
    "level": "info",
    "category": "HEALTH_MONITORING_SUCCESS",
    "message": "‚úÖ Monitoreo de salud enterprise iniciado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.568Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_SUCCESS",
      "level": "info",
      "message": "‚úÖ Monitoreo de salud enterprise iniciado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907568.5122,
    "timestamp": "2025-08-17T05:51:47.568Z",
    "level": "info",
    "category": "HEALTH_MONITORING_START",
    "message": "üè• Iniciando monitoreo de salud enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.568Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_START",
      "level": "info",
      "message": "üè• Iniciando monitoreo de salud enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907567.4475,
    "timestamp": "2025-08-17T05:51:47.567Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "üéâ Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.567Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTED",
      "port": 3001,
      "host": "0.0.0.0",
      "startupTime": "322ms",
      "memoryUsage": {
        "rss": 146812928,
        "heapTotal": 80785408,
        "heapUsed": 61355912,
        "external": 3831307,
        "arrayBuffers": 1038291
      },
      "pid": 1,
      "address": {
        "address": "0.0.0.0",
        "family": "IPv4",
        "port": 3001
      },
      "railwayReady": true,
      "level": "info",
      "message": "üéâ Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907496.724,
    "timestamp": "2025-08-17T05:51:47.496Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "SOCKETS:READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.496Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasServer": true,
      "hasManager": true,
      "category": "SOCKET_SUCCESS",
      "memoryManaged": true,
      "maxConnections": 50000,
      "level": "info",
      "message": "SOCKETS:READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.6807,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "‚úÖ Enterprise Socket.IO Manager initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SUCCESS",
      "features": {
        "authenticationMiddleware": true,
        "memoryManagement": true,
        "rateLimiting": true,
        "presenceTracking": true,
        "stateSync": true,
        "errorHandling": true,
        "monitoring": true,
        "gracefulShutdown": true
      },
      "level": "info",
      "message": "‚úÖ Enterprise Socket.IO Manager initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.5098,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_SHUTDOWN_SETUP",
    "message": "‚úÖ Socket.IO graceful shutdown configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SHUTDOWN_SETUP",
      "level": "info",
      "message": "‚úÖ Socket.IO graceful shutdown configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.168,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_MONITORING_SUCCESS",
    "message": "‚úÖ Socket.IO monitoring configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MONITORING_SUCCESS",
      "intervals": {
        "metrics": "60s",
        "memoryCleanup": "2min",
        "memoryLeakDetection": "5min",
        "rateLimitCleanup": "30s",
        "listenerVerification": "10s"
      },
      "level": "info",
      "message": "‚úÖ Socket.IO monitoring configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.7708,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SUCCESS",
    "message": "‚úÖ Event handlers configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SUCCESS",
      "level": "info",
      "message": "‚úÖ Event handlers configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.4573,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SETUP",
    "message": "üì° Setting up event handlers...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SETUP",
      "level": "info",
      "message": "üì° Setting up event handlers..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.9666,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "‚úÖ Authentication middleware configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "level": "info",
      "message": "‚úÖ Authentication middleware configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907495.6794,
    "timestamp": "2025-08-17T05:51:47.495Z",
    "level": "info",
    "category": "SOCKET_AUTH_SETUP",
    "message": "üîê Setting up authentication middleware...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SETUP",
      "level": "info",
      "message": "üîê Setting up authentication middleware..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907494.0757,
    "timestamp": "2025-08-17T05:51:47.494Z",
    "level": "info",
    "category": "SOCKET_CONFIG_SUCCESS",
    "message": "‚úÖ Socket.IO server configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.494Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG_SUCCESS",
      "corsConfig": "unified",
      "level": "info",
      "message": "‚úÖ Socket.IO server configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907492.6392,
    "timestamp": "2025-08-17T05:51:47.492Z",
    "level": "info",
    "category": "SOCKET_CONFIG",
    "message": "üîß Configuring Socket.IO server...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG",
      "level": "info",
      "message": "üîß Configuring Socket.IO server..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907492.3826,
    "timestamp": "2025-08-17T05:51:47.492Z",
    "level": "info",
    "category": "SOCKET_MEMORY_SUCCESS",
    "message": "‚úÖ Managed memory maps initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_SUCCESS",
      "mapsCount": 9,
      "totalMaxEntries": 1460000,
      "level": "info",
      "message": "‚úÖ Managed memory maps initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907492.2888,
    "timestamp": "2025-08-17T05:51:47.492Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_eventListeners' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 28800000,
      "totalMaps": 7,
      "level": "info",
      "message": "ManagedMap 'socket_eventListeners' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907492.8228,
    "timestamp": "2025-08-17T05:51:47.492Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_typingUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.492Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 10000,
      "defaultTTL": 30000,
      "totalMaps": 6,
      "level": "info",
      "message": "ManagedMap 'socket_typingUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.2463,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_rateLimits' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 1000000,
      "defaultTTL": 1800000,
      "totalMaps": 5,
      "level": "info",
      "message": "ManagedMap 'socket_rateLimits' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.1091,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_userRoles' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 200000,
      "defaultTTL": 21600000,
      "totalMaps": 4,
      "level": "info",
      "message": "ManagedMap 'socket_userRoles' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.8762,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_conversationUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 50000,
      "defaultTTL": 7200000,
      "totalMaps": 3,
      "level": "info",
      "message": "ManagedMap 'socket_conversationUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.6711,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_userConversations' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 7200000,
      "totalMaps": 2,
      "level": "info",
      "message": "ManagedMap 'socket_userConversations' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.922,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_connectedUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 14400000,
      "totalMaps": 1,
      "level": "info",
      "message": "ManagedMap 'socket_connectedUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907491.9792,
    "timestamp": "2025-08-17T05:51:47.491Z",
    "level": "info",
    "category": "SOCKET_MEMORY_INIT",
    "message": "üß† Initializing managed memory maps...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.491Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_INIT",
      "level": "info",
      "message": "üß† Initializing managed memory maps..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907490.164,
    "timestamp": "2025-08-17T05:51:47.490Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "üöÄ Initializing Enterprise Socket.IO Manager...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "nodeEnv": "production",
      "level": "info",
      "message": "üöÄ Initializing Enterprise Socket.IO Manager..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907490.8452,
    "timestamp": "2025-08-17T05:51:47.490Z",
    "level": "info",
    "category": "SOCKET_DEPS_INJECTION",
    "message": "Socket.IO: Dependencies injected",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.490Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_DEPS_INJECTION",
      "userModelAvailable": true,
      "conversationModelAvailable": true,
      "messageModelAvailable": true,
      "userModelType": "Function",
      "level": "info",
      "message": "Socket.IO: Dependencies injected"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907435.6477,
    "timestamp": "2025-08-17T05:51:47.435Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "üîå Inicializando Socket.IO enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.435Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "level": "info",
      "message": "üîå Inicializando Socket.IO enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907435.2173,
    "timestamp": "2025-08-17T05:51:47.435Z",
    "level": "info",
    "category": "ERROR_HANDLING_SETUP_SUCCESS",
    "message": "‚úÖ Manejo de errores mejorado configurado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.435Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ERROR_HANDLING_SETUP_SUCCESS",
      "level": "info",
      "message": "‚úÖ Manejo de errores mejorado configurado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907434.3975,
    "timestamp": "2025-08-17T05:51:47.434Z",
    "level": "info",
    "category": "ROUTES_SUCCESS",
    "message": "‚úÖ Rutas configuradas exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.434Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SUCCESS",
      "totalRoutes": 51,
      "level": "info",
      "message": "‚úÖ Rutas configuradas exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907432.961,
    "timestamp": "2025-08-17T05:51:47.432Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "pipelines.ok",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.432Z",
      "service": "utalk-backend",
      "environment": "production",
      "routes": {
        "list_conversations": [
          "correlationMiddleware",
          "loggingMiddleware(/api)",
          "authMiddleware",
          "requireReadAccess",
          "conversationValidators.validateList",
          "ConversationController.listConversations"
        ],
        "webhook_inbound": [
          "correlationMiddleware",
          "loggingMiddleware(/api)",
          "messageValidators.validateWebhook",
          "MessageController.handleWebhookSafe"
        ]
      },
      "level": "info",
      "message": "pipelines.ok"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907430.5015,
    "timestamp": "2025-08-17T05:51:47.430Z",
    "level": "info",
    "category": "ROUTES_SETUP",
    "message": "üõ£Ô∏è Configurando rutas de la aplicaci√≥n...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.430Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SETUP",
      "level": "info",
      "message": "üõ£Ô∏è Configurando rutas de la aplicaci√≥n..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907428.2495,
    "timestamp": "2025-08-17T05:51:47.428Z",
    "level": "info",
    "category": "MIDDLEWARE_SUCCESS",
    "message": "‚úÖ Middlewares b√°sicos configurados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.428Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SUCCESS",
      "trustProxy": true,
      "level": "info",
      "message": "‚úÖ Middlewares b√°sicos configurados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907427.726,
    "timestamp": "2025-08-17T05:51:47.427Z",
    "level": "info",
    "category": "CORS_SETUP_SUCCESS",
    "message": "‚úÖ CORS configurado con Express CORS robusto",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.427Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_SETUP_SUCCESS",
      "level": "info",
      "message": "‚úÖ CORS configurado con Express CORS robusto"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907424.8735,
    "timestamp": "2025-08-17T05:51:47.424Z",
    "level": "info",
    "category": "MIDDLEWARE_SETUP",
    "message": "üõ°Ô∏è Configurando middlewares b√°sicos...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.424Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SETUP",
      "level": "info",
      "message": "üõ°Ô∏è Configurando middlewares b√°sicos..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907423.795,
    "timestamp": "2025-08-17T05:51:47.423Z",
    "level": "info",
    "category": "HEALTH_SUCCESS",
    "message": "‚úÖ Health Check Service marcado como saludable (desactivado).",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.422Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_SUCCESS",
      "level": "info",
      "message": "‚úÖ Health Check Service marcado como saludable (desactivado)."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907422.9417,
    "timestamp": "2025-08-17T05:51:47.422Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "üè• Health Check Service DESACTIVADO temporalmente para permitir despliegue...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.422Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "üè• Health Check Service DESACTIVADO temporalmente para permitir despliegue..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907422.2122,
    "timestamp": "2025-08-17T05:51:47.422Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "üè• Inicializando health checks con Circuit Breaker...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.422Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "üè• Inicializando health checks con Circuit Breaker..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907247.368,
    "timestamp": "2025-08-17T05:51:47.247Z",
    "level": "info",
    "category": "MEMORY_SUCCESS",
    "message": "‚úÖ Gesti√≥n de memoria inicializada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.247Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEMORY_SUCCESS",
      "level": "info",
      "message": "‚úÖ Gesti√≥n de memoria inicializada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907247.0579,
    "timestamp": "2025-08-17T05:51:47.247Z",
    "level": "info",
    "category": "MEMORY_INIT",
    "message": "üß† Inicializando gesti√≥n de memoria...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.247Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEMORY_INIT",
      "level": "info",
      "message": "üß† Inicializando gesti√≥n de memoria..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907246.621,
    "timestamp": "2025-08-17T05:51:47.246Z",
    "level": "info",
    "category": "SERVER_STARTUP",
    "message": "üöÄ Iniciando servidor consolidado enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.246Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTUP",
      "nodeVersion": "v18.20.8",
      "platform": "linux",
      "arch": "x64",
      "pid": 1,
      "memoryLimit": "--max-old-space-size=2048 --max-old-space-size=2048 --max-semi-space-size=64 --gc-interval=100",
      "startupTime": "2025-08-17T05:51:47.246Z",
      "requestLogger": {
        "mode": "wrapper-enabled"
      },
      "level": "info",
      "message": "üöÄ Iniciando servidor consolidado enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907208.4045,
    "timestamp": "2025-08-17T05:51:47.208Z",
    "level": "info",
    "category": "SHARDING_INIT_SUCCESS",
    "message": "‚úÖ Enterprise Sharding Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.208Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT_SUCCESS",
      "level": "info",
      "message": "‚úÖ Enterprise Sharding Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907208.8052,
    "timestamp": "2025-08-17T05:51:47.208Z",
    "level": "info",
    "category": "SHARDING_INIT",
    "message": "üöÄ Initializing Enterprise Sharding Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.207Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT",
      "collections": [
        "messages",
        "conversations",
        "logs",
        "analytics"
      ],
      "level": "info",
      "message": "üöÄ Initializing Enterprise Sharding Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907206.708,
    "timestamp": "2025-08-17T05:51:47.206Z",
    "level": "info",
    "category": "BATCH_INIT_SUCCESS",
    "message": "‚úÖ Enterprise Batch Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.206Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT_SUCCESS",
      "level": "info",
      "message": "‚úÖ Enterprise Batch Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907206.7292,
    "timestamp": "2025-08-17T05:51:47.206Z",
    "level": "info",
    "category": "BATCH_INIT",
    "message": "üöÄ Initializing Enterprise Batch Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.206Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT",
      "batchSize": 500,
      "maxConcurrentBatches": 10,
      "retryAttempts": 3,
      "level": "info",
      "message": "üöÄ Initializing Enterprise Batch Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409907043.915,
    "timestamp": "2025-08-17T05:51:47.043Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:47.043Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409906601.9329,
    "timestamp": "2025-08-17T05:51:46.601Z",
    "level": "info",
    "category": "CACHE_INIT",
    "message": "‚úÖ CacheService inicializado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:46.601Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_INIT",
      "level": "info",
      "message": "‚úÖ CacheService inicializado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409906514.7083,
    "timestamp": "2025-08-17T05:51:46.514Z",
    "level": "info",
    "category": "FIREBASE_SUCCESS",
    "message": "üî• FIREBASE - Admin SDK inicializado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:46.514Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_SUCCESS",
      "projectId": "utalk-a893a",
      "firestoreAvailable": true,
      "storageAvailable": true,
      "appName": "[DEFAULT]",
      "level": "info",
      "message": "üî• FIREBASE - Admin SDK inicializado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409906219.811,
    "timestamp": "2025-08-17T05:51:46.219Z",
    "level": "info",
    "category": "FIREBASE_INIT",
    "message": "üî• FIREBASE - Iniciando configuraci√≥n...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:46.218Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_INIT",
      "serviceAccountConfigured": true,
      "level": "info",
      "message": "üî• FIREBASE - Iniciando configuraci√≥n..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409906183.8992,
    "timestamp": "2025-08-17T05:51:46.183Z",
    "level": "warn",
    "category": "RATE_LIMIT_FALLBACK",
    "message": "‚ö†Ô∏è Rate Limiting usando memoria local (Redis no disponible)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:46.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_FALLBACK",
      "store": "memory",
      "reason": "Redis no configurado o deshabilitado",
      "level": "warn",
      "message": "‚ö†Ô∏è Rate Limiting usando memoria local (Redis no disponible)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755409906116.316,
    "timestamp": "2025-08-17T05:51:46.116Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üß† AdvancedMemoryManager inicializado con l√≠mites adaptativos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-17T05:51:46.114Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxMapsPerInstance": 7868,
      "maxEntriesPerMap": 77800,
      "defaultTTL": 1800000,
      "cleanupInterval": 300000,
      "hardware": {
        "totalMemory": "384.22 GB",
        "availableMemory": "75.98 GB",
        "memoryWarningThreshold": "268.95 GB",
        "memoryCriticalThreshold": "345.80 GB"
      },
      "adaptiveLimits": {
        "maxMapsPerInstance": 7868,
        "maxEntriesPerMap": 77800,
        "memoryWarningThreshold": "268.95 GB",
        "memoryCriticalThreshold": "345.80 GB"
      },
      "level": "info",
      "message": "üß† AdvancedMemoryManager inicializado con l√≠mites adaptativos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  }
]