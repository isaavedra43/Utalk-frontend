{
  "exportDate": "2025-08-16T04:58:14.196Z",
  "totalLogs": 58,
  "logs": [
    {
      "timestamp": "2025-08-16T04:58:00.264Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de logs iniciada automáticamente"
    },
    {
      "timestamp": "2025-08-16T04:58:00.264Z",
      "level": "log",
      "message": "🌐 ConsoleExporter: Iniciando captura de peticiones de red..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.264Z",
      "level": "info",
      "message": "ConsoleExporter: Captura de peticiones de red iniciada"
    },
    {
      "timestamp": "2025-08-16T04:58:00.264Z",
      "level": "info",
      "message": "[2025-08-16T04:58:00.264Z] [INFO] [SYSTEM] Iniciando aplicación UTALK | Data: {\n  \"version\": \"1.0.0\",\n  \"environment\": \"development\",\n  \"debug\": true,\n  \"timestamp\": \"2025-08-16T04:58:00.264Z\"\n}"
    },
    {
      "timestamp": "2025-08-16T04:58:00.272Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.272Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Ruta /chat: conectando WebSocket..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 Iniciando conexión de socket..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 Configurando socket con URL:",
      "data": [
        [
          "wss://utalk-backend-production.up.railway.app"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 Token disponible:",
      "data": [
        [
          "Sí"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 Configuración de entorno:",
      "data": [
        [
          {
            "WS_URL": "wss://utalk-backend-production.up.railway.app",
            "BACKEND_URL": "https://utalk-backend-production.up.railway.app",
            "DEV_MODE": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.289Z",
      "level": "log",
      "message": "🔌 Conectando socket con timeout de",
      "data": [
        [
          45000,
          "ms..."
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        [
          "disconnected"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com",
            "email": "admin@company.com",
            "role": "admin"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        [
          {
            "email": "admin@company.com",
            "role": "admin",
            "name": "Administrador del Sistema",
            "type": "access",
            "userId": "admin@company.com",
            "workspaceId": "default",
            "tenantId": "na",
            "iat": 1755320215,
            "exp": 1755321115,
            "aud": "utalk-api",
            "iss": "utalk-backend"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "✅ Configuración de rooms válida:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.290Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true,
            "isAuthenticating": false,
            "hasUser": false,
            "hasBackendUser": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true,
            "isAuthenticating": false,
            "hasUser": false,
            "hasBackendUser": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔌 Limpiando socket al desmontar componente..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Ruta /chat: conectando WebSocket..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔌 Ya hay una conexión en progreso, saltando..."
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔌 WebSocketContext - Estado actualizado en DOM:",
      "data": [
        [
          "disconnected"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com",
            "email": "admin@company.com",
            "role": "admin"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔐 JWT - Payload completo del token:",
      "data": [
        [
          {
            "email": "admin@company.com",
            "role": "admin",
            "name": "Administrador del Sistema",
            "type": "access",
            "userId": "admin@company.com",
            "workspaceId": "default",
            "tenantId": "na",
            "iat": 1755320215,
            "exp": 1755321115,
            "aud": "utalk-api",
            "iss": "utalk-backend"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.291Z",
      "level": "log",
      "message": "🔐 JWT - Información extraída del token:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.292Z",
      "level": "log",
      "message": "✅ Configuración de rooms válida:",
      "data": [
        [
          {
            "workspaceId": "default",
            "tenantId": "na",
            "userId": "admin@company.com"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.292Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true,
            "isAuthenticating": false,
            "hasUser": false,
            "hasBackendUser": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.292Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        [
          {
            "isAuthenticated": false,
            "loading": true,
            "isAuthenticating": false,
            "hasUser": false,
            "hasBackendUser": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.295Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        [
          {
            "isAuthenticated": true,
            "loading": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.295Z",
      "level": "log",
      "message": "🔐 ProtectedRoute - Estado:",
      "data": [
        [
          {
            "isAuthenticated": true,
            "loading": false
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.307Z",
      "level": "debug",
      "message": "🔄 convertMessages - Iniciando conversión de",
      "data": [
        [
          0,
          "mensajes"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.307Z",
      "level": "debug",
      "message": "✅ convertMessages - Conversión completada:",
      "data": [
        [
          {
            "mensajesOriginales": 0,
            "mensajesConvertidos": 0,
            "mensajesFiltrados": 0
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.307Z",
      "level": "debug",
      "message": "🔄 convertMessages - Iniciando conversión de",
      "data": [
        [
          0,
          "mensajes"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.307Z",
      "level": "debug",
      "message": "✅ convertMessages - Conversión completada:",
      "data": [
        [
          {
            "mensajesOriginales": 0,
            "mensajesConvertidos": 0,
            "mensajesFiltrados": 0
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.317Z",
      "level": "log",
      "message": "🧹 useConversations - Limpiando URL sin conversación activa"
    },
    {
      "timestamp": "2025-08-16T04:58:00.318Z",
      "level": "log",
      "message": "🧹 useConversations - Limpiando URL sin conversación activa"
    },
    {
      "timestamp": "2025-08-16T04:58:00.318Z",
      "level": "log",
      "message": "🔄 useChat - Cambio de conversación detectado:",
      "data": [
        [
          {
            "anterior": null,
            "nueva": "conv_+5214773790184_+5214793176502"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.318Z",
      "level": "log",
      "message": "�� ID de conversación codificado correctamente en URL | Data:",
      "data": [
        [
          {
            "originalId": "conv_+5214773790184_+5214793176502",
            "decodedId": "conv_+5214773790184_+5214793176502",
            "sanitizedId": "conv_+5214773790184_+5214793176502",
            "encodedId": "conv_%2B5214773790184_%2B5214793176502",
            "method": "encodeConversationIdForUrl"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.319Z",
      "level": "log",
      "message": "🔐 AuthProvider - Estado actual:",
      "data": [
        [
          {
            "isAuthenticated": true,
            "loading": false,
            "isAuthenticating": false,
            "hasUser": true,
            "hasBackendUser": true
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.319Z",
      "level": "log",
      "message": "🔐 AuthContext - Estado que se pasa al contexto:",
      "data": [
        [
          {
            "isAuthenticated": true,
            "loading": false,
            "isAuthenticating": false,
            "hasUser": true,
            "hasBackendUser": true
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.319Z",
      "level": "log",
      "message": "🧹 useConversations - Limpiando URL sin conversación activa"
    },
    {
      "timestamp": "2025-08-16T04:58:00.320Z",
      "level": "log",
      "message": "🧹 useConversations - Limpiando URL sin conversación activa"
    },
    {
      "timestamp": "2025-08-16T04:58:00.320Z",
      "level": "log",
      "message": "�� ID de conversación codificado correctamente en URL | Data:",
      "data": [
        [
          {
            "originalId": "conv_+5214773790184_+5214793176502",
            "decodedId": "conv_+5214773790184_+5214793176502",
            "sanitizedId": "conv_+5214773790184_+5214793176502",
            "encodedId": "conv_%2B5214773790184_%2B5214793176502",
            "method": "encodeConversationIdForUrl"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.320Z",
      "level": "info",
      "message": "[2025-08-16T04:58:00.320Z] [INFO] [API] Token agregado a request | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"hasToken\": true,\n  \"tokenPreview\": \"eyJhbGciOiJIUzI1NiIs...\"\n}"
    },
    {
      "timestamp": "2025-08-16T04:58:00.320Z",
      "level": "debug",
      "message": "[2025-08-16T04:58:00.320Z] [DEBUG] [API] Request: GET /api/conversations?page=1&limit=20&status=all"
    },
    {
      "timestamp": "2025-08-16T04:58:00.321Z",
      "level": "http",
      "message": "🌐 XHR REQUEST [xhr_1]",
      "data": [
        {
          "method": "GET",
          "url": "https://utalk-backend-production.up.railway.app/api/conversations?page=1&limit=20&status=all",
          "requestId": "xhr_1",
          "timestamp": "2025-08-16T04:58:00.321Z"
        }
      ],
      "requestId": "xhr_1",
      "url": "https://utalk-backend-production.up.railway.app/api/conversations?page=1&limit=20&status=all",
      "method": "GET"
    },
    {
      "timestamp": "2025-08-16T04:58:00.323Z",
      "level": "debug",
      "message": "🔄 convertMessages - Iniciando conversión de",
      "data": [
        [
          0,
          "mensajes"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.323Z",
      "level": "debug",
      "message": "✅ convertMessages - Conversión completada:",
      "data": [
        [
          {
            "mensajesOriginales": 0,
            "mensajesConvertidos": 0,
            "mensajesFiltrados": 0
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.323Z",
      "level": "debug",
      "message": "🔄 convertMessages - Iniciando conversión de",
      "data": [
        [
          0,
          "mensajes"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.323Z",
      "level": "debug",
      "message": "✅ convertMessages - Conversión completada:",
      "data": [
        [
          {
            "mensajesOriginales": 0,
            "mensajesConvertidos": 0,
            "mensajesFiltrados": 0
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:00.844Z",
      "level": "http",
      "message": "✅ XHR RESPONSE [xhr_1]",
      "data": [
        {
          "method": "GET",
          "url": "https://utalk-backend-production.up.railway.app/api/conversations?page=1&limit=20&status=all",
          "status": 200,
          "statusText": "",
          "responseTime": 524,
          "requestId": "xhr_1",
          "timestamp": "2025-08-16T04:58:00.844Z"
        }
      ],
      "requestId": "xhr_1",
      "url": "https://utalk-backend-production.up.railway.app/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "status": 200,
      "responseTime": 524
    },
    {
      "timestamp": "2025-08-16T04:58:00.846Z",
      "level": "debug",
      "message": "[2025-08-16T04:58:00.846Z] [DEBUG] [API] Response: GET /api/conversations?page=1&limit=20&status=all | Data: {\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"conv_+5214773790184_+5214793176502\",\n      \"customerPhone\": \"+5214773790184\",\n      \"lastMessage\": {\n        \"sender\": \"+5214773790184\",\n        \"messageId\": \"MSG_1755320271550_dh6kxcehx\",\n        \"content\": \"Hola 7\",\n        \"direction\": \"inbound\",\n        \"timestamp\": {\n          \"_seconds\": 1755320271,\n          \"_nanoseconds\": 550000000\n        },\n        \"timestampMs\": 1755320271550,\n        \"timestampISO\": \"2025-08-16T04:57:51.550Z\"\n      },\n      \"unreadCount\": 8,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214773790184\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214773790184\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755320271,\n        \"_nanoseconds\": 550000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214773790184\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754699629,\n        \"_nanoseconds\": 900000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755320271,\n        \"_nanoseconds\": 696000000\n      },\n      \"messageCount\": 33,\n      \"lastMessageAtMs\": 1755320271550,\n      \"lastMessageAtISO\": \"2025-08-16T04:57:51.550Z\"\n    },\n    {\n      \"id\": \"conv_+5214775211021_+5214793176502\",\n      \"customerPhone\": \"+5214775211021\",\n      \"lastMessage\": {\n        \"sender\": \"agent:admin@company.com\",\n        \"direction\": \"outbound\",\n        \"content\": \"SIIIII YA SIRVE\",\n        \"messageId\": \"cbc605e4-b6f9-430b-b58d-758d663d08a4\",\n        \"timestamp\": {\n          \"_seconds\": 1755319447,\n          \"_nanoseconds\": 53000000\n        },\n        \"timestampMs\": 1755319447053,\n        \"timestampISO\": \"2025-08-16T04:44:07.053Z\"\n      },\n      \"unreadCount\": 1,\n      \"status\": \"open\",\n      \"workspaceId\": \"default_workspace\",\n      \"tenantId\": \"default_tenant\",\n      \"participants\": [\n        \"+5214775211021\",\n        \"system@utalk.local\",\n        \"admin@company.com\",\n        \"agent:admin@company.com\",\n        \"whatsapp:+5214775211021\"\n      ],\n      \"lastMessageAt\": {\n        \"_seconds\": 1755319447,\n        \"_nanoseconds\": 53000000\n      },\n      \"contact\": {\n        \"phone\": \"+5214775211021\"\n      },\n      \"createdAt\": {\n        \"_seconds\": 1754755652,\n        \"_nanoseconds\": 223000000\n      },\n      \"updatedAt\": {\n        \"_seconds\": 1755319448,\n        \"_nanoseconds\": 547000000\n      },\n      \"messageCount\": 6,\n      \"lastMessageAtMs\": 1755319447053,\n      \"lastMessageAtISO\": \"2025-08-16T04:44:07.053Z\"\n    }\n  ],\n  \"message\": \"2 conversaciones encontradas\",\n  \"timestamp\": \"2025-08-16T04:58:00.888Z\"\n}"
    },
    {
      "timestamp": "2025-08-16T04:58:00.846Z",
      "level": "info",
      "message": "[2025-08-16T04:58:00.846Z] [INFO] [API] Response exitosa | Data: {\n  \"method\": \"GET\",\n  \"url\": \"/api/conversations?page=1&limit=20&status=all\",\n  \"status\": 200,\n  \"statusText\": \"\"\n}"
    },
    {
      "timestamp": "2025-08-16T04:58:05.263Z",
      "level": "log",
      "message": "🔍 ID de Conversación selectConversation:",
      "data": [
        [
          {
            "id": "conv_+5214773790184_+5214793176502",
            "isValid": true,
            "phones": {
              "phone1": "+5214773790184",
              "phone2": "+5214793176502"
            },
            "length": 34
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:05.263Z",
      "level": "log",
      "message": "✅ useConversations - Seleccionando conversación:",
      "data": [
        [
          "+5214773790184"
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:05.264Z",
      "level": "log",
      "message": "�� ID de conversación codificado correctamente en URL | Data:",
      "data": [
        [
          {
            "originalId": "conv_+5214773790184_+5214793176502",
            "decodedId": "conv_+5214773790184_+5214793176502",
            "sanitizedId": "conv_+5214773790184_+5214793176502",
            "encodedId": "conv_%2B5214773790184_%2B5214793176502",
            "method": "encodeConversationIdForUrl"
          }
        ]
      ]
    },
    {
      "timestamp": "2025-08-16T04:58:05.765Z",
      "level": "log",
      "message": "🔄 useConversations - Flag de selección desactivado"
    }
  ]
}