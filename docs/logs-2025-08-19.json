[
  {
    "id": 1755567041446.6523,
    "timestamp": "2025-08-19T01:30:41.446Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "23ae4349-759e-4288-9455-eb6dfbbc2e15",
      "timestamp": "2025-08-19T01:30:41.445Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/export?format=json&level=all&category=all&timeRange=1h",
      "path": "/logs/export",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567026558.7695,
    "timestamp": "2025-08-19T01:30:26.558Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "8c825d38-7f23-41b5-b7c0-4cdc9f7c4764",
      "timestamp": "2025-08-19T01:30:26.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/export?format=json&level=all&category=all&timeRange=1h",
      "path": "/export",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "11ms",
      "responseSize": "236031 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "8c825d38-7f23-41b5-b7c0-4cdc9f7c4764"
      },
      "performance": {
        "duration": 11,
        "responseSize": 236031,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567026547.5632,
    "timestamp": "2025-08-19T01:30:26.547Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "8c825d38-7f23-41b5-b7c0-4cdc9f7c4764",
      "timestamp": "2025-08-19T01:30:26.547Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/export?format=json&level=all&category=all&timeRange=1h",
      "path": "/logs/export",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567024389.051,
    "timestamp": "2025-08-19T01:30:24.389Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:30:24.389Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "86.28%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567024023.7666,
    "timestamp": "2025-08-19T01:30:24.023Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "acf05245-212b-4173-807c-4d7294859965",
      "timestamp": "2025-08-19T01:30:24.023Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "17ms",
      "responseSize": "72512 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "acf05245-212b-4173-807c-4d7294859965"
      },
      "performance": {
        "duration": 17,
        "responseSize": 72512,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567024020.9524,
    "timestamp": "2025-08-19T01:30:24.020Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "28a972d7-d6b1-437e-a596-9082c20900a7",
      "timestamp": "2025-08-19T01:30:24.019Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "25ms",
      "responseSize": "3381 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "28a972d7-d6b1-437e-a596-9082c20900a7"
      },
      "performance": {
        "duration": 25,
        "responseSize": 3381,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567024007.6074,
    "timestamp": "2025-08-19T01:30:24.007Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "acf05245-212b-4173-807c-4d7294859965",
      "timestamp": "2025-08-19T01:30:24.006Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567023994.11,
    "timestamp": "2025-08-19T01:30:23.994Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "28a972d7-d6b1-437e-a596-9082c20900a7",
      "timestamp": "2025-08-19T01:30:23.994Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567023911.3901,
    "timestamp": "2025-08-19T01:30:23.911Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "93775e68-92ca-49fc-b4df-a7099cb9d69c",
      "timestamp": "2025-08-19T01:30:23.910Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REDIRECT",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 304,
      "statusMessage": "Not Modified",
      "duration": "2ms",
      "responseSize": "14080 bytes",
      "userEmail": "undefined...",
      "headers": {
        "x-request-id": "93775e68-92ca-49fc-b4df-a7099cb9d69c"
      },
      "performance": {
        "duration": 2,
        "responseSize": 14080,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567023908.75,
    "timestamp": "2025-08-19T01:30:23.908Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "93775e68-92ca-49fc-b4df-a7099cb9d69c",
      "timestamp": "2025-08-19T01:30:23.908Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567023802.609,
    "timestamp": "2025-08-19T01:30:23.802Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755567021023.2734,
    "timestamp": "2025-08-19T01:30:21.023Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a78c9d0d-581e-4dce-ad49-be38c8330868",
      "timestamp": "2025-08-19T01:30:21.023Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "12ms",
      "responseSize": "71017 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "a78c9d0d-581e-4dce-ad49-be38c8330868"
      },
      "performance": {
        "duration": 12,
        "responseSize": 71017,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567021021.857,
    "timestamp": "2025-08-19T01:30:21.021Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2abb6175-54a4-4475-8b85-016a1aa9d830",
      "timestamp": "2025-08-19T01:30:21.021Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/dashboard",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "25ms",
      "responseSize": "3381 bytes",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "2abb6175-54a4-4475-8b85-016a1aa9d830"
      },
      "performance": {
        "duration": 25,
        "responseSize": 3381,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567021012.7498,
    "timestamp": "2025-08-19T01:30:21.012Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a78c9d0d-581e-4dce-ad49-be38c8330868",
      "timestamp": "2025-08-19T01:30:21.012Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs?level=all&category=all&timeRange=1h&search=&limit=100",
      "path": "/logs",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567020996.7156,
    "timestamp": "2025-08-19T01:30:20.996Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "2abb6175-54a4-4475-8b85-016a1aa9d830",
      "timestamp": "2025-08-19T01:30:20.996Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard",
      "path": "/logs/dashboard",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567020771.1262,
    "timestamp": "2025-08-19T01:30:20.771Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "f83732af-b2ba-4f62-88e4-fd9601082e13",
      "timestamp": "2025-08-19T01:30:20.770Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REDIRECT",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/dashboard.js",
      "statusCode": 304,
      "statusMessage": "Not Modified",
      "duration": "5ms",
      "responseSize": "14080 bytes",
      "userEmail": "undefined...",
      "headers": {
        "x-request-id": "f83732af-b2ba-4f62-88e4-fd9601082e13"
      },
      "performance": {
        "duration": 5,
        "responseSize": 14080,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567020766.0886,
    "timestamp": "2025-08-19T01:30:20.766Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "f83732af-b2ba-4f62-88e4-fd9601082e13",
      "timestamp": "2025-08-19T01:30:20.765Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/logs/dashboard.js",
      "path": "/logs/dashboard.js",
      "referer": "https://utalk-backend-production.up.railway.app/logs",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567020636.408,
    "timestamp": "2025-08-19T01:30:20.636Z",
    "level": "info",
    "category": "DASHBOARD",
    "message": "Dashboard HTML requested",
    "data": {
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "endpoint": "/logs"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "anonymous",
    "endpoint": "/logs"
  },
  {
    "id": 1755567014392.7358,
    "timestamp": "2025-08-19T01:30:14.392Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:30:14.392Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 1,
        "typingUsers": 0,
        "rateLimitEntries": 2
      },
      "period": "60005ms",
      "memoryUsage": {
        "rss": 126832640,
        "heapTotal": 58531840,
        "heapUsed": 51737800,
        "external": 7010840,
        "arrayBuffers": 2185261
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567014391.4387,
    "timestamp": "2025-08-19T01:30:14.391Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:30:14.391Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
      "cleanedSockets": 0,
      "cleanedConversations": 0,
      "cleanedEventListeners": 1,
      "cleanedRateLimit": 0,
      "memoryPressure": "88.36%",
      "currentStats": {
        "connectedUsers": 1,
        "activeConversations": 1,
        "eventListeners": 1,
        "rateLimitEntries": 2,
        "typingUsers": 0
      },
      "memoryUsage": {
        "heapUsed": "49MB",
        "heapTotal": "56MB",
        "external": "7MB"
      },
      "level": "info",
      "message": "Socket.IO memory cleanup completed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755567014388.8745,
    "timestamp": "2025-08-19T01:30:14.388Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:30:14.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566998774.655,
    "timestamp": "2025-08-19T01:29:58.774Z",
    "level": "error",
    "category": "SYSTEM",
    "message": "❌ PROXY TWILIO MEDIA - Error en stream",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968571_p1w7mzped",
      "timestamp": "2025-08-19T01:29:58.772Z",
      "service": "utalk-backend",
      "environment": "production",
      "error": "aborted",
      "userEmail": "anonymous",
      "latencyMs": 30201,
      "level": "error",
      "message": "❌ PROXY TWILIO MEDIA - Error en stream"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994520.0715,
    "timestamp": "2025-08-19T01:29:54.520Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "⚠️ Petición HTTP con advertencia",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_CLIENT_ERROR",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/upload",
      "statusCode": 400,
      "statusMessage": "Bad Request",
      "duration": "90ms",
      "responseSize": "348 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "348",
        "x-request-id": "db8ae8b7-2990-48db-9744-23e4fe66df30"
      },
      "performance": {
        "duration": 90,
        "responseSize": 348,
        "isSlow": false,
        "isLarge": false
      },
      "level": "warn",
      "message": "⚠️ Petición HTTP con advertencia"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994520.352,
    "timestamp": "2025-08-19T01:29:54.520Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "Error API controlado No se recibió ningún archivo",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:54.520Z",
      "service": "utalk-backend",
      "environment": "production",
      "error": "NO_FILE",
      "message": "Error API controlado No se recibió ningún archivo",
      "statusCode": 400,
      "details": {},
      "level": "warn"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994518.8782,
    "timestamp": "2025-08-19T01:29:54.518Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.518Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/media/upload",
      "duration": "87ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994518.1343,
    "timestamp": "2025-08-19T01:29:54.518Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.517Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994517.8076,
    "timestamp": "2025-08-19T01:29:54.517Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:54.517Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994436.918,
    "timestamp": "2025-08-19T01:29:54.436Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:54.436Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994436.0825,
    "timestamp": "2025-08-19T01:29:54.436Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.436Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994436.6243,
    "timestamp": "2025-08-19T01:29:54.436Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.436Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994432.538,
    "timestamp": "2025-08-19T01:29:54.432Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.431Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/media/upload",
      "method": "POST",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994431.154,
    "timestamp": "2025-08-19T01:29:54.431Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "db8ae8b7-2990-48db-9744-23e4fe66df30",
      "timestamp": "2025-08-19T01:29:54.431Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/media/upload",
      "path": "/media/upload",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "multipart/form-data; boundary=----WebKitFormBoundaryq5d3kXr1ktq5TbA1",
      "contentLength": "277056",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994430.458,
    "timestamp": "2025-08-19T01:29:54.430Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:54.429Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566994351.282,
    "timestamp": "2025-08-19T01:29:54.351Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:54.350Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566969267.21,
    "timestamp": "2025-08-19T01:29:29.267Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Transferencia completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968771_q9wdf30jf",
      "timestamp": "2025-08-19T01:29:29.267Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "anonymous",
      "totalLatencyMs": 496,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Transferencia completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566969149.356,
    "timestamp": "2025-08-19T01:29:29.149Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Transferencia completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968765_j19runsqh",
      "timestamp": "2025-08-19T01:29:29.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "anonymous",
      "totalLatencyMs": 383,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Transferencia completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968857.6658,
    "timestamp": "2025-08-19T01:29:28.857Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968765_j19runsqh",
      "timestamp": "2025-08-19T01:29:28.857Z",
      "service": "utalk-backend",
      "environment": "production",
      "statusCode": 200,
      "contentType": "video/mp4",
      "contentLength": "1779131",
      "userEmail": "anonymous",
      "latencyMs": 92,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968852.6033,
    "timestamp": "2025-08-19T01:29:28.852Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968771_q9wdf30jf",
      "timestamp": "2025-08-19T01:29:28.852Z",
      "service": "utalk-backend",
      "environment": "production",
      "statusCode": 200,
      "contentType": "video/mp4",
      "contentLength": "1779131",
      "userEmail": "anonymous",
      "latencyMs": 81,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968776.3435,
    "timestamp": "2025-08-19T01:29:28.776Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Transferencia completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968629_h0cwdwlep",
      "timestamp": "2025-08-19T01:29:28.776Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "anonymous",
      "totalLatencyMs": 147,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Transferencia completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968775.0183,
    "timestamp": "2025-08-19T01:29:28.775Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968629_h0cwdwlep",
      "timestamp": "2025-08-19T01:29:28.775Z",
      "service": "utalk-backend",
      "environment": "production",
      "statusCode": 200,
      "contentType": "audio/ogg",
      "contentLength": "7140",
      "userEmail": "anonymous",
      "latencyMs": 146,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968771.1873,
    "timestamp": "2025-08-19T01:29:28.771Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 PROXY TWILIO MEDIA - Iniciando",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "proxy_1755566968771_q9wdf30jf",
      "timestamp": "2025-08-19T01:29:28.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "userEmail": "anonymous",
      "level": "info",
      "message": "🔄 PROXY TWILIO MEDIA - Iniciando"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968771.5828,
    "timestamp": "2025-08-19T01:29:28.771Z",
    "level": "info",
    "category": "MEDIA_PROXY_PUBLIC",
    "message": "Proxy público de media solicitado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEDIA_PROXY_PUBLIC",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "url": "/media/proxy-public?messageSid=MMbb5e22d99d455f458de912eee196771b&mediaSid=MEa8805d092ee45cc3b82f11464c95a7f2",
      "method": "GET",
      "level": "info",
      "message": "Proxy público de media solicitado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968771.9563,
    "timestamp": "2025-08-19T01:29:28.771Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.771Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968766.8643,
    "timestamp": "2025-08-19T01:29:28.766Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 PROXY TWILIO MEDIA - Iniciando",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "proxy_1755566968765_j19runsqh",
      "timestamp": "2025-08-19T01:29:28.766Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "userEmail": "anonymous",
      "level": "info",
      "message": "🔄 PROXY TWILIO MEDIA - Iniciando"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968765.9563,
    "timestamp": "2025-08-19T01:29:28.765Z",
    "level": "info",
    "category": "MEDIA_PROXY_PUBLIC",
    "message": "Proxy público de media solicitado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.765Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEDIA_PROXY_PUBLIC",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "url": "/media/proxy-public?messageSid=MMbb5e22d99d455f458de912eee196771b&mediaSid=MEa8805d092ee45cc3b82f11464c95a7f2",
      "method": "GET",
      "level": "info",
      "message": "Proxy público de media solicitado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968765.6614,
    "timestamp": "2025-08-19T01:29:28.765Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.765Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968664.184,
    "timestamp": "2025-08-19T01:29:28.664Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968571_p1w7mzped",
      "timestamp": "2025-08-19T01:29:28.664Z",
      "service": "utalk-backend",
      "environment": "production",
      "statusCode": 200,
      "contentType": "video/mp4",
      "contentLength": "1779131",
      "userEmail": "anonymous",
      "latencyMs": 93,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968630.4565,
    "timestamp": "2025-08-19T01:29:28.630Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 PROXY TWILIO MEDIA - Iniciando",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "proxy_1755566968629_h0cwdwlep",
      "timestamp": "2025-08-19T01:29:28.630Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MM008f701f29cde38442d163de674b7ecf",
      "mediaSid": "MEa5feb06c6173f0061f5c961819a0103d",
      "userEmail": "anonymous",
      "level": "info",
      "message": "🔄 PROXY TWILIO MEDIA - Iniciando"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968629.5032,
    "timestamp": "2025-08-19T01:29:28.629Z",
    "level": "info",
    "category": "MEDIA_PROXY_PUBLIC",
    "message": "Proxy público de media solicitado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.629Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEDIA_PROXY_PUBLIC",
      "messageSid": "MM008f701f29cde38442d163de674b7ecf",
      "mediaSid": "MEa5feb06c6173f0061f5c961819a0103d",
      "url": "/media/proxy-public?messageSid=MM008f701f29cde38442d163de674b7ecf&mediaSid=MEa5feb06c6173f0061f5c961819a0103d",
      "method": "GET",
      "level": "info",
      "message": "Proxy público de media solicitado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968571.5793,
    "timestamp": "2025-08-19T01:29:28.571Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 PROXY TWILIO MEDIA - Iniciando",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "proxy_1755566968571_p1w7mzped",
      "timestamp": "2025-08-19T01:29:28.571Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "userEmail": "anonymous",
      "level": "info",
      "message": "🔄 PROXY TWILIO MEDIA - Iniciando"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968571.4104,
    "timestamp": "2025-08-19T01:29:28.571Z",
    "level": "info",
    "category": "MEDIA_PROXY_PUBLIC",
    "message": "Proxy público de media solicitado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.571Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEDIA_PROXY_PUBLIC",
      "messageSid": "MMbb5e22d99d455f458de912eee196771b",
      "mediaSid": "MEa8805d092ee45cc3b82f11464c95a7f2",
      "url": "/media/proxy-public?messageSid=MMbb5e22d99d455f458de912eee196771b&mediaSid=MEa8805d092ee45cc3b82f11464c95a7f2",
      "method": "GET",
      "level": "info",
      "message": "Proxy público de media solicitado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968530.2896,
    "timestamp": "2025-08-19T01:29:28.530Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Transferencia completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968327_22qrgzwch",
      "timestamp": "2025-08-19T01:29:28.529Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "anonymous",
      "totalLatencyMs": 202,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Transferencia completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968528.4412,
    "timestamp": "2025-08-19T01:29:28.528Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "proxy_1755566968327_22qrgzwch",
      "timestamp": "2025-08-19T01:29:28.528Z",
      "service": "utalk-backend",
      "environment": "production",
      "statusCode": 200,
      "contentType": "audio/ogg",
      "contentLength": "7140",
      "userEmail": "anonymous",
      "latencyMs": 201,
      "level": "info",
      "message": "✅ PROXY TWILIO MEDIA - Respuesta exitosa de Twilio"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968410.4683,
    "timestamp": "2025-08-19T01:29:28.410Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.410Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "142ms",
      "responseSize": "986 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "986",
        "x-request-id": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4"
      },
      "performance": {
        "duration": 142,
        "responseSize": 986,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968409.7275,
    "timestamp": "2025-08-19T01:29:28.409Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968409.9905,
    "timestamp": "2025-08-19T01:29:28.409Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.409Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.1575,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.1978,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.8154,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.9155,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.3198,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "77ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.4497,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968345.0225,
    "timestamp": "2025-08-19T01:29:28.345Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.345Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968327.2686,
    "timestamp": "2025-08-19T01:29:28.327Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 PROXY TWILIO MEDIA - Iniciando",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "proxy_1755566968327_22qrgzwch",
      "timestamp": "2025-08-19T01:29:28.327Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "MM008f701f29cde38442d163de674b7ecf",
      "mediaSid": "MEa5feb06c6173f0061f5c961819a0103d",
      "userEmail": "anonymous",
      "level": "info",
      "message": "🔄 PROXY TWILIO MEDIA - Iniciando"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968326.3328,
    "timestamp": "2025-08-19T01:29:28.326Z",
    "level": "info",
    "category": "MEDIA_PROXY_PUBLIC",
    "message": "Proxy público de media solicitado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.326Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MEDIA_PROXY_PUBLIC",
      "messageSid": "MM008f701f29cde38442d163de674b7ecf",
      "mediaSid": "MEa5feb06c6173f0061f5c961819a0103d",
      "url": "/media/proxy-public?messageSid=MM008f701f29cde38442d163de674b7ecf&mediaSid=MEa5feb06c6173f0061f5c961819a0103d",
      "method": "GET",
      "level": "info",
      "message": "Proxy público de media solicitado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968325.303,
    "timestamp": "2025-08-19T01:29:28.325Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.325Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968271.0464,
    "timestamp": "2025-08-19T01:29:28.271Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.271Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968271.0564,
    "timestamp": "2025-08-19T01:29:28.271Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.271Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968271.9502,
    "timestamp": "2025-08-19T01:29:28.271Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.270Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968268.056,
    "timestamp": "2025-08-19T01:29:28.268Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.268Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968268.8625,
    "timestamp": "2025-08-19T01:29:28.268Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "ca7861e2-a1ef-4031-a1cb-9eb0c515fac4",
      "timestamp": "2025-08-19T01:29:28.268Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968267.8984,
    "timestamp": "2025-08-19T01:29:28.267Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.267Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968182.8499,
    "timestamp": "2025-08-19T01:29:28.182Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:28.182Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "293ms",
      "responseSize": "35210 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4"
      },
      "performance": {
        "duration": 293,
        "responseSize": 35210,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968176.6318,
    "timestamp": "2025-08-19T01:29:28.176Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Mensajes obtenidos exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "count": 22,
      "userEmail": "admin@company.com",
      "hasMore": false,
      "queryTime": "97ms",
      "level": "info",
      "message": "Mensajes obtenidos exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968164.1257,
    "timestamp": "2025-08-19T01:29:28.164Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consulta de mensajes completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.164Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "totalResults": 22,
      "hasMore": false,
      "queryTime": "97ms",
      "appliedFilters": [
        "ninguno"
      ],
      "nextCursor": "ausente",
      "level": "info",
      "message": "Consulta de mensajes completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566968060.9043,
    "timestamp": "2025-08-19T01:29:28.060Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Consultando mensajes por conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:28.060Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "limit": 50,
      "cursor": "ausente",
      "filters": {
        "direction": null,
        "status": null,
        "type": null,
        "startDate": "ausente",
        "endDate": "ausente"
      },
      "orderBy": "timestamp",
      "order": "desc",
      "level": "info",
      "message": "Consultando mensajes por conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967986.723,
    "timestamp": "2025-08-19T01:29:27.986Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "MessageController.getMessages - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.986Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "MessageController.getMessages - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967985.1548,
    "timestamp": "2025-08-19T01:29:27.985Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId en query normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:27.985Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId en query normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967985.674,
    "timestamp": "2025-08-19T01:29:27.985Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId query decodificación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:27.984Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "level": "info",
      "message": "ConversationId query decodificación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967983.928,
    "timestamp": "2025-08-19T01:29:27.983Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "duration": "94ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967983.04,
    "timestamp": "2025-08-19T01:29:27.983Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967983.016,
    "timestamp": "2025-08-19T01:29:27.983Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967964.7844,
    "timestamp": "2025-08-19T01:29:27.964Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
    "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.964Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "onlineUsersCount": 1,
      "level": "info",
      "message": "✅ USUARIO UNIDO EXITOSAMENTE A CONVERSACIÓN"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967963.6882,
    "timestamp": "2025-08-19T01:29:27.963Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
    "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.963Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_SYNC_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "syncData": {
        "conversationId": "conv_+5214775211021_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
        "success": true,
        "timestamp": "2025-08-19T01:29:27.963Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO EVENTO WEBSOCKET:STATE-SYNCED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967963.757,
    "timestamp": "2025-08-19T01:29:27.963Z",
    "level": "info",
    "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
    "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.962Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_JOIN_CONVERSATION_CONFIRMATION_SENT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "confirmationData": {
        "conversationId": "conv_+5214775211021_+5214793176502",
        "roomId": "ws:default_workspace:ten:default_tenant:conv:conv_+5214775211021_+5214793176502",
        "onlineUsers": [
          "admin@company.com"
        ],
        "success": true,
        "timestamp": "2025-08-19T01:29:27.962Z"
      },
      "level": "info",
      "message": "📤 ENVIANDO CONFIRMACIÓN CONVERSATION_JOINED"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967962.868,
    "timestamp": "2025-08-19T01:29:27.962Z",
    "level": "info",
    "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
    "message": "Usuario es participante directo de la conversación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.961Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_PERMISSION_DIRECT_PARTICIPANT",
      "userEmail": "admin@company.com...",
      "conversationId": "conv_+5214775211021_...",
      "participantsCount": 2,
      "level": "info",
      "message": "Usuario es participante directo de la conversación"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967893.3052,
    "timestamp": "2025-08-19T01:29:27.893Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.893Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967893.7324,
    "timestamp": "2025-08-19T01:29:27.893Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.893Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967893.93,
    "timestamp": "2025-08-19T01:29:27.893Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.892Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967889.8623,
    "timestamp": "2025-08-19T01:29:27.889Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.889Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967889.8503,
    "timestamp": "2025-08-19T01:29:27.889Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6cfca1f3-d32d-4c0d-802c-fcd9398642b4",
      "timestamp": "2025-08-19T01:29:27.889Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/messages?conversationId=conv_%2B5214775211021_%2B5214793176502&limit=50",
      "path": "/messages",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566967888.0369,
    "timestamp": "2025-08-19T01:29:27.888Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:27.888Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954405.1008,
    "timestamp": "2025-08-19T01:29:14.405Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificación de listeners completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.405Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificación de listeners completada"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954405.5864,
    "timestamp": "2025-08-19T01:29:14.405Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.405Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "jbElljZ3...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954405.0632,
    "timestamp": "2025-08-19T01:29:14.405Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.404Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954404.0352,
    "timestamp": "2025-08-19T01:29:14.404Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.403Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-deleted",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954403.7124,
    "timestamp": "2025-08-19T01:29:14.403Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.403Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566954387.8997,
    "timestamp": "2025-08-19T01:29:14.387Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:14.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_METRICS",
      "metrics": {
        "connectionsPerSecond": 0,
        "messagesPerSecond": 0,
        "disconnectionsPerSecond": 0,
        "errorsPerSecond": 0,
        "currentConnections": 1,
        "activeConversations": 0,
        "typingUsers": 0,
        "rateLimitEntries": 1
      },
      "period": "60005ms",
      "memoryUsage": {
        "rss": 122163200,
        "heapTotal": 56958976,
        "heapUsed": 53786960,
        "external": 3263516,
        "arrayBuffers": 326840
      },
      "level": "info",
      "message": "Socket.IO Performance Metrics"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947556.6836,
    "timestamp": "2025-08-19T01:29:07.556Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "level": "info",
      "message": "✅ SYNC INICIAL INMEDIATO COMPLETADO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947555.6145,
    "timestamp": "2025-08-19T01:29:07.555Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "jbElljZ3...",
      "level": "info",
      "message": "🎉 SYNC INICIAL COMPLETADO EXITOSAMENTE"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947553.5432,
    "timestamp": "2025-08-19T01:29:07.553Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "📤 Enviando estado inicial al frontend",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "📤 Enviando estado inicial al frontend"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947553.2637,
    "timestamp": "2025-08-19T01:29:07.553Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "✅ Usuarios en línea obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "✅ Usuarios en línea obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947553.8335,
    "timestamp": "2025-08-19T01:29:07.553Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "👥 Obteniendo usuarios en línea",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "👥 Obteniendo usuarios en línea"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947553.2117,
    "timestamp": "2025-08-19T01:29:07.553Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "✅ Conteos de mensajes no leídos obtenidos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "✅ Conteos de mensajes no leídos obtenidos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947288.0203,
    "timestamp": "2025-08-19T01:29:07.288Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:07.288Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conv_+5214773790184_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "397ms",
      "responseSize": "993 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "993",
        "x-request-id": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d"
      },
      "performance": {
        "duration": 397,
        "responseSize": 993,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947287.831,
    "timestamp": "2025-08-19T01:29:07.287Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.287Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947287.825,
    "timestamp": "2025-08-19T01:29:07.287Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.287Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214773790184_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947237.9001,
    "timestamp": "2025-08-19T01:29:07.237Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.237Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947230.1267,
    "timestamp": "2025-08-19T01:29:07.230Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "📊 Obteniendo conteos de mensajes no leídos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.230Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "📊 Obteniendo conteos de mensajes no leídos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947229.4275,
    "timestamp": "2025-08-19T01:29:07.229Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "✅ Conversaciones obtenidas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.229Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 3,
      "level": "info",
      "message": "✅ Conversaciones obtenidas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947229.0332,
    "timestamp": "2025-08-19T01:29:07.229Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "📋 Conversation.list completado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.229Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "📋 Conversation.list completado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947206.3364,
    "timestamp": "2025-08-19T01:29:07.206Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:07.206Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conv_+5214777270766_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "309ms",
      "responseSize": "1075 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9"
      },
      "performance": {
        "duration": 309,
        "responseSize": 1075,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947203.4827,
    "timestamp": "2025-08-19T01:29:07.203Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.203Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947203.6064,
    "timestamp": "2025-08-19T01:29:07.203Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.203Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214777270766_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "status",
        "workspaceId",
        "participants",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947117.529,
    "timestamp": "2025-08-19T01:29:07.117Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:07.117Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conv_+5214775211021_+5214793176502",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "243ms",
      "responseSize": "986 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "content-length": "986",
        "x-request-id": "44823823-a13d-4b10-8d49-b7bc4de02b51"
      },
      "performance": {
        "duration": 243,
        "responseSize": 986,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947116.312,
    "timestamp": "2025-08-19T01:29:07.116Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.116Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947116.4998,
    "timestamp": "2025-08-19T01:29:07.116Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Conversación obtenida exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.116Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214775211021_+5214793176502",
      "hasData": true,
      "dataKeys": [
        "id",
        "customerName",
        "createdAt",
        "customerPhone",
        "tenantId",
        "participants",
        "status",
        "workspaceId",
        "messageCount",
        "unreadCount",
        "lastMessageAt",
        "lastMessage",
        "lastMessageId",
        "updatedAt",
        "contact"
      ],
      "level": "info",
      "message": "Conversación obtenida exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947106.5059,
    "timestamp": "2025-08-19T01:29:07.106Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947106.4543,
    "timestamp": "2025-08-19T01:29:07.106Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.106Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947105.8916,
    "timestamp": "2025-08-19T01:29:07.105Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.104Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "level": "info",
      "message": "User requesting state sync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947101.7734,
    "timestamp": "2025-08-19T01:29:07.101Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🚀 Ejecutando consulta específica (no combinada)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.101Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "🚀 Ejecutando consulta específica (no combinada)",
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947101.8633,
    "timestamp": "2025-08-19T01:29:07.101Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "🔍 Llamando Conversation.list",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.101Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "🔍 Llamando Conversation.list"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947101.6726,
    "timestamp": "2025-08-19T01:29:07.101Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "📋 Obteniendo conversaciones del usuario",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.101Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "📋 Obteniendo conversaciones del usuario"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947101.8545,
    "timestamp": "2025-08-19T01:29:07.101Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "🚀 INICIANDO sendInitialStateSync",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.101Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "jbElljZ3...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "🚀 INICIANDO sendInitialStateSync"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947100.6462,
    "timestamp": "2025-08-19T01:29:07.100Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.100Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "socketConnected": true,
      "level": "info",
      "message": "🚀 ENVIANDO SYNC INICIAL INMEDIATO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947100.6768,
    "timestamp": "2025-08-19T01:29:07.100Z",
    "level": "info",
    "category": "SOCKET_HEARTBEAT_SETUP",
    "message": "Heartbeat configurado para socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.100Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HEARTBEAT_SETUP",
      "socketId": "jbElljZ3...",
      "userEmail": "admin@company.com...",
      "interval": "20s",
      "level": "info",
      "message": "Heartbeat configurado para socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947100.5237,
    "timestamp": "2025-08-19T01:29:07.100Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup automático",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.100Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup automático"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947098.3123,
    "timestamp": "2025-08-19T01:29:07.098Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.098Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.481,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214777270766_+5214793176502",
      "finalId": "conv_+5214777270766_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.8528,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214777270766_+5214793176502",
      "conversationIdNormalized": "conv_+5214777270766_+5214793176502",
      "participants": {
        "from": "+5214777270766",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.1316,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "decodedConversationId": "conv_+5214777270766_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.3726,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214777270766_+5214793176502",
      "rawConversationId": "conv_+5214777270766_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.3604,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "duration": "111ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.6948,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947007.0159,
    "timestamp": "2025-08-19T01:29:07.007Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.007Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566947000.3303,
    "timestamp": "2025-08-19T01:29:07.000Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:07.000Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214773790184_+5214793176502",
      "finalId": "conv_+5214773790184_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.2544,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214773790184_+5214793176502",
      "conversationIdNormalized": "conv_+5214773790184_+5214793176502",
      "participants": {
        "from": "+5214773790184",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.9543,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "decodedConversationId": "conv_+5214773790184_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.474,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214773790184_+5214793176502",
      "rawConversationId": "conv_+5214773790184_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.5176,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "duration": "106ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.1758,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946999.3516,
    "timestamp": "2025-08-19T01:29:06.999Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.999Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946997.0317,
    "timestamp": "2025-08-19T01:29:06.997Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "🔗 Usuario unido al workspace room",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.997Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "🔗 Usuario unido al workspace room"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946997.2114,
    "timestamp": "2025-08-19T01:29:06.997Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.997Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "totalConnected": 1,
      "connectedAt": "2025-08-19T01:29:06.996Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946997.382,
    "timestamp": "2025-08-19T01:29:06.997Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.996Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "jbElljZ3...",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "RT:CONNECT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946995.3533,
    "timestamp": "2025-08-19T01:29:06.995Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.995Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946995.4595,
    "timestamp": "2025-08-19T01:29:06.995Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.995Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "admin",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946991.672,
    "timestamp": "2025-08-19T01:29:06.991Z",
    "level": "info",
    "category": "SOCKET_AUTH_USER_SUCCESS",
    "message": "Socket.IO: User retrieved successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.991Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_USER_SUCCESS",
      "email": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "userRole": "admin",
      "level": "info",
      "message": "Socket.IO: User retrieved successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946991.3237,
    "timestamp": "2025-08-19T01:29:06.991Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.991Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946985.489,
    "timestamp": "2025-08-19T01:29:06.985Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationController.getConversation - Procesando request",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.984Z",
      "service": "utalk-backend",
      "environment": "production",
      "normalizedId": "conv_+5214775211021_+5214793176502",
      "finalId": "conv_+5214775211021_+5214793176502",
      "userEmail": "admin@company.com",
      "userRole": "admin",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationController.getConversation - Procesando request"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946984.233,
    "timestamp": "2025-08-19T01:29:06.984Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId normalizado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.984Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationIdRaw": "conv_+5214775211021_+5214793176502",
      "conversationIdNormalized": "conv_+5214775211021_+5214793176502",
      "participants": {
        "from": "+5214775211021",
        "to": "+5214793176502"
      },
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId normalizado exitosamente"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946983.5134,
    "timestamp": "2025-08-19T01:29:06.983Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId decodificación EXITOSA",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "decodedConversationId": "conv_+5214775211021_+5214793176502",
      "decodeAttempts": 0,
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId decodificación EXITOSA"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946983.5994,
    "timestamp": "2025-08-19T01:29:06.983Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ConversationId middleware - Parámetros disponibles",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "unknown",
      "timestamp": "2025-08-19T01:29:06.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "paramsId": "conv_+5214775211021_+5214793176502",
      "rawConversationId": "conv_+5214775211021_+5214793176502",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "level": "info",
      "message": "ConversationId middleware - Parámetros disponibles"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946983.145,
    "timestamp": "2025-08-19T01:29:06.983Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "duration": "108ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946983.1755,
    "timestamp": "2025-08-19T01:29:06.983Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.983Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946983.1553,
    "timestamp": "2025-08-19T01:29:06.983Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.982Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946898.668,
    "timestamp": "2025-08-19T01:29:06.898Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.898Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946898.6167,
    "timestamp": "2025-08-19T01:29:06.898Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:06.898Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946898.1782,
    "timestamp": "2025-08-19T01:29:06.898Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:06.898Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946896.669,
    "timestamp": "2025-08-19T01:29:06.896Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:06.896Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946896.193,
    "timestamp": "2025-08-19T01:29:06.896Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "b6fb8f44-af03-4a10-b6f4-27bc5a5f0ba9",
      "timestamp": "2025-08-19T01:29:06.896Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214777270766_+5214793176502",
      "path": "/conversations/conv_+5214777270766_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946896.5188,
    "timestamp": "2025-08-19T01:29:06.896Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.896Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946894.3054,
    "timestamp": "2025-08-19T01:29:06.894Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.894Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946894.0488,
    "timestamp": "2025-08-19T01:29:06.894Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.894Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946894.4185,
    "timestamp": "2025-08-19T01:29:06.894Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.894Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946893.2842,
    "timestamp": "2025-08-19T01:29:06.893Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.893Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946892.911,
    "timestamp": "2025-08-19T01:29:06.892Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6c28ba0b-bea6-440d-baa4-f49bf506ec8d",
      "timestamp": "2025-08-19T01:29:06.891Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214773790184_+5214793176502",
      "path": "/conversations/conv_+5214773790184_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946891.986,
    "timestamp": "2025-08-19T01:29:06.891Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.891Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946887.7976,
    "timestamp": "2025-08-19T01:29:06.887Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946887.0876,
    "timestamp": "2025-08-19T01:29:06.887Z",
    "level": "info",
    "category": "SOCKET_AUTH_DB_ATTEMPT",
    "message": "Socket.IO: Attempting to get user from database",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ATTEMPT",
      "email": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "userModelAvailable": true,
      "level": "info",
      "message": "Socket.IO: Attempting to get user from database"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946887.6255,
    "timestamp": "2025-08-19T01:29:06.887Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIRESTORE_TEST",
    "message": "Socket.IO: Firestore connectivity test passed",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIRESTORE_TEST",
      "email": "admin@company.com...",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "firestoreAvailable": true,
      "level": "info",
      "message": "Socket.IO: Firestore connectivity test passed"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946886.0544,
    "timestamp": "2025-08-19T01:29:06.886Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.885Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946884.3289,
    "timestamp": "2025-08-19T01:29:06.884Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.884Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "jbElljZ3Qw6-aMheAAAB",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946877.005,
    "timestamp": "2025-08-19T01:29:06.877Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.877Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946877.6763,
    "timestamp": "2025-08-19T01:29:06.877Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.877Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946877.079,
    "timestamp": "2025-08-19T01:29:06.877Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.877Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946875.9573,
    "timestamp": "2025-08-19T01:29:06.875Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.875Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946875.617,
    "timestamp": "2025-08-19T01:29:06.875Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "44823823-a13d-4b10-8d49-b7bc4de02b51",
      "timestamp": "2025-08-19T01:29:06.874Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations/conv_+5214775211021_+5214793176502",
      "path": "/conversations/conv_+5214775211021_+5214793176502",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946874.3987,
    "timestamp": "2025-08-19T01:29:06.874Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.874Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946795.7522,
    "timestamp": "2025-08-19T01:29:06.795Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.795Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946794.1323,
    "timestamp": "2025-08-19T01:29:06.794Z",
    "level": "info",
    "category": "SOCKET_CORS_ALLOWED",
    "message": "Socket CORS: Origin permitido",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.794Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "validated",
      "level": "info",
      "message": "Socket CORS: Origin permitido"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946794.093,
    "timestamp": "2025-08-19T01:29:06.794Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.794Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946755.4512,
    "timestamp": "2025-08-19T01:29:06.755Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.754Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "206ms",
      "responseSize": "2859 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "admin@company.com...",
      "userRole": "admin",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e"
      },
      "performance": {
        "duration": 206,
        "responseSize": 2859,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946752.7922,
    "timestamp": "2025-08-19T01:29:06.752Z",
    "level": "info",
    "category": "CACHE",
    "message": "Cache miss: /",
    "data": {
      "userId": "admin@company.com",
      "ip": "189.253.97.13",
      "endpoint": "/",
      "ttlSeconds": 120,
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36",
    "ip": "189.253.97.13",
    "userId": "admin@company.com",
    "endpoint": "/"
  },
  {
    "id": 1755566946751.052,
    "timestamp": "2025-08-19T01:29:06.751Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_done",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "http": {
        "method": "GET",
        "path": "/",
        "status": 200,
        "durationMs": 102
      },
      "user": null,
      "result": {
        "count": 3,
        "totalCount": 3,
        "source": "hardened"
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "timestamp": "2025-08-19T01:29:06.751Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "userCtx": null,
      "message": {
        "event": "conversations_list_done",
        "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
        "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
        "http": {
          "method": "GET",
          "path": "/",
          "status": 200,
          "durationMs": 102
        },
        "user": null,
        "result": {
          "count": 3,
          "totalCount": 3,
          "source": "hardened"
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946751.9058,
    "timestamp": "2025-08-19T01:29:06.751Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.750Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946750.0264,
    "timestamp": "2025-08-19T01:29:06.750Z",
    "level": "info",
    "category": "DB",
    "message": "Database call: conversations",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "/api/conversations",
      "page": 1,
      "limit": 20,
      "search": "no"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "admin@company.com",
    "endpoint": "/api/conversations"
  },
  {
    "id": 1755566946649.8516,
    "timestamp": "2025-08-19T01:29:06.649Z",
    "level": "info",
    "category": "SYSTEM",
    "message": {
      "event": "conversations_list_start",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "loggerShape": {
        "hasInfo": true,
        "hasAuth": true,
        "hasDatabase": true,
        "hasChild": true
      },
      "http": {
        "method": "GET",
        "path": "/"
      },
      "user": null,
      "filters": {
        "limit": 20,
        "page": 1
      }
    },
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "timestamp": "2025-08-19T01:29:06.649Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
      "userCtx": null,
      "message": {
        "event": "conversations_list_start",
        "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
        "traceId": "c1abe54f-d56a-486c-8bf8-1ee48ac274ad",
        "loggerShape": {
          "hasInfo": true,
          "hasAuth": true,
          "hasDatabase": true,
          "hasChild": true
        },
        "http": {
          "method": "GET",
          "path": "/"
        },
        "user": null,
        "filters": {
          "limit": 20,
          "page": 1
        }
      },
      "level": "info"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946649.945,
    "timestamp": "2025-08-19T01:29:06.649Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.649Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946645.376,
    "timestamp": "2025-08-19T01:29:06.645Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "✅ Usuario autenticado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "94ms",
      "level": "info",
      "message": "✅ Usuario autenticado correctamente"
    },
    "userAgent": "unknown",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946645.4443,
    "timestamp": "2025-08-19T01:29:06.645Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "✅ Usuario encontrado en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.645Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "✅ Usuario encontrado en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946644.1191,
    "timestamp": "2025-08-19T01:29:06.644Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.644Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946553.4512,
    "timestamp": "2025-08-19T01:29:06.553Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946553.0664,
    "timestamp": "2025-08-19T01:29:06.553Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "🔍 Buscando usuario en Firestore",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "🔍 Buscando usuario en Firestore"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946553.7874,
    "timestamp": "2025-08-19T01:29:06.553Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "✅ Token JWT verificado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755567846,
      "iat": 1755566946,
      "level": "info",
      "message": "✅ Token JWT verificado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946551.1328,
    "timestamp": "2025-08-19T01:29:06.551Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "🔐 Iniciando autenticación",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "🔐 Iniciando autenticación"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946549.3403,
    "timestamp": "2025-08-19T01:29:06.549Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "3443ff51-01fa-4fc4-a3fd-5fd393e7757e",
      "timestamp": "2025-08-19T01:29:06.549Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "GET",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "path": "/conversations",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "authorization": "Bearer ***",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946548.683,
    "timestamp": "2025-08-19T01:29:06.548Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.548Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946306.7344,
    "timestamp": "2025-08-19T01:29:06.306Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "✅ Petición HTTP completada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:06.306Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_SUCCESS",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/login",
      "statusCode": 200,
      "statusMessage": "OK",
      "duration": "629ms",
      "responseSize": "1902 bytes",
      "origin": "http://localhost:5173",
      "userEmail": "undefined...",
      "headers": {
        "content-type": "application/json; charset=utf-8",
        "x-request-id": "561db2c2-2737-44f9-9a36-29f596c04795"
      },
      "performance": {
        "duration": 629,
        "responseSize": 1902,
        "isSlow": false,
        "isLarge": false
      },
      "level": "info",
      "message": "✅ Petición HTTP completada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946299.4548,
    "timestamp": "2025-08-19T01:29:06.299Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:06.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_success",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "department": "admin",
      "deviceId": "77b2b868-e526-411e-8253-eee7b1c49a19",
      "level": "info",
      "message": "[AUTH] login_success"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946299.4536,
    "timestamp": "2025-08-19T01:29:06.299Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:06.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "77b2b868-e526-411e-8253-eee7b1c49a19",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946299.1912,
    "timestamp": "2025-08-19T01:29:06.299Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔄 Refresh token creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.299Z",
      "service": "utalk-backend",
      "environment": "production",
      "tokenId": "3240b7b6-4837-4fd8-8565-9ed6532d1ba9",
      "userEmail": "admin@company.com",
      "familyId": "eb803554-e970-44c9-8b3e-25fa180e8bfe",
      "deviceId": "77b2b868-e526-411e-8253-eee7b1c49a19",
      "level": "info",
      "message": "🔄 Refresh token creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946043.2427,
    "timestamp": "2025-08-19T01:29:06.043Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:06.043Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566946042.08,
    "timestamp": "2025-08-19T01:29:06.042Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:06.042Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "⚠️ No se encontró el documento de usuario para actualizar el último login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945951.0413,
    "timestamp": "2025-08-19T01:29:05.951Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:05.951Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945951.898,
    "timestamp": "2025-08-19T01:29:05.951Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contraseña válida (campo password)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.951Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contraseña válida (campo password)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945951.7449,
    "timestamp": "2025-08-19T01:29:05.951Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945804.072,
    "timestamp": "2025-08-19T01:29:05.804Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.804Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945804.5352,
    "timestamp": "2025-08-19T01:29:05.804Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔐 Validando contraseña para usuario (TEXTO PLANO)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945803.3154,
    "timestamp": "2025-08-19T01:29:05.803Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.803Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945683.9268,
    "timestamp": "2025-08-19T01:29:05.683Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🔍 Buscando usuario por email",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "🔍 Buscando usuario por email"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945683.475,
    "timestamp": "2025-08-19T01:29:05.683Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:05.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945683.3306,
    "timestamp": "2025-08-19T01:29:05.683Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:05.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945678.7197,
    "timestamp": "2025-08-19T01:29:05.678Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "📥 Petición HTTP iniciada",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "561db2c2-2737-44f9-9a36-29f596c04795",
      "timestamp": "2025-08-19T01:29:05.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/auth/login",
      "path": "/auth/login",
      "origin": "http://localhost:5173",
      "referer": "http://localhost:5173/",
      "contentType": "application/json",
      "contentLength": "51",
      "authorization": "none",
      "level": "info",
      "message": "📥 Petición HTTP iniciada"
    },
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
    "ip": "189.253.97.13",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566945662.2007,
    "timestamp": "2025-08-19T01:29:05.662Z",
    "level": "info",
    "category": "CORS_ALLOWED",
    "message": "✅ CORS permitido (estático)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:29:05.662Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_ALLOWED",
      "origin": "http://localhost:5173",
      "type": "static",
      "level": "info",
      "message": "✅ CORS permitido (estático)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566904388.4841,
    "timestamp": "2025-08-19T01:28:24.388Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO_START",
    "message": "Auto cleanup iniciado (optimizado)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:24.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO_START",
      "interval": "120s",
      "maxAge": "1800s",
      "maxCalls": 500,
      "memoryPressureThreshold": "80%",
      "level": "info",
      "message": "Auto cleanup iniciado (optimizado)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894590.4326,
    "timestamp": "2025-08-19T01:28:14.590Z",
    "level": "info",
    "category": "FIREBASE_CONNECTIVITY",
    "message": "FIREBASE - Test de conectividad Firestore exitoso",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.590Z",
      "service": "firestore",
      "environment": "production",
      "category": "FIREBASE_CONNECTIVITY",
      "testSuccessful": true,
      "level": "info",
      "message": "FIREBASE - Test de conectividad Firestore exitoso"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894445.8958,
    "timestamp": "2025-08-19T01:28:14.445Z",
    "level": "info",
    "category": "HEALTH_MONITORING_SUCCESS",
    "message": "✅ Monitoreo de salud enterprise iniciado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.445Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_SUCCESS",
      "level": "info",
      "message": "✅ Monitoreo de salud enterprise iniciado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894445.752,
    "timestamp": "2025-08-19T01:28:14.445Z",
    "level": "info",
    "category": "HEALTH_MONITORING_START",
    "message": "🏥 Iniciando monitoreo de salud enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.445Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_MONITORING_START",
      "level": "info",
      "message": "🏥 Iniciando monitoreo de salud enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894445.372,
    "timestamp": "2025-08-19T01:28:14.445Z",
    "level": "info",
    "category": "SERVER_STARTED",
    "message": "🎉 Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.445Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVER_STARTED",
      "port": 3001,
      "host": "0.0.0.0",
      "startupTime": "284ms",
      "memoryUsage": {
        "rss": 152064000,
        "heapTotal": 87367680,
        "heapUsed": 59026608,
        "external": 3709983,
        "arrayBuffers": 904897
      },
      "pid": 1,
      "address": {
        "address": "0.0.0.0",
        "family": "IPv4",
        "port": 3001
      },
      "railwayReady": true,
      "level": "info",
      "message": "🎉 Servidor HTTP iniciado en 0.0.0.0 - RAILWAY READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894428.0107,
    "timestamp": "2025-08-19T01:28:14.428Z",
    "level": "info",
    "category": "SERVICE_INIT",
    "message": "Todos los servicios inicializados correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.428Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT",
      "status": "success",
      "level": "info",
      "message": "Todos los servicios inicializados correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894428.8682,
    "timestamp": "2025-08-19T01:28:14.428Z",
    "level": "info",
    "category": "HEALTH_SUCCESS",
    "message": "✅ Health Check Service marcado como saludable (desactivado).",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.428Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_SUCCESS",
      "level": "info",
      "message": "✅ Health Check Service marcado como saludable (desactivado)."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894428.9673,
    "timestamp": "2025-08-19T01:28:14.428Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "🏥 Health Check Service DESACTIVADO temporalmente para permitir despliegue...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.428Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "🏥 Health Check Service DESACTIVADO temporalmente para permitir despliegue..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894427.9792,
    "timestamp": "2025-08-19T01:28:14.427Z",
    "level": "info",
    "category": "HEALTH_INIT",
    "message": "🏥 Inicializando health checks con Circuit Breaker...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.427Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HEALTH_INIT",
      "level": "info",
      "message": "🏥 Inicializando health checks con Circuit Breaker..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894387.1975,
    "timestamp": "2025-08-19T01:28:14.387Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "SOCKETS:READY",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasServer": true,
      "hasManager": true,
      "category": "SOCKET_SUCCESS",
      "memoryManaged": true,
      "maxConnections": 50000,
      "level": "info",
      "message": "SOCKETS:READY"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894387.0608,
    "timestamp": "2025-08-19T01:28:14.387Z",
    "level": "info",
    "category": "SOCKET_SUCCESS",
    "message": "✅ Enterprise Socket.IO Manager initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SUCCESS",
      "features": {
        "authenticationMiddleware": true,
        "memoryManagement": true,
        "rateLimiting": true,
        "presenceTracking": true,
        "stateSync": true,
        "errorHandling": true,
        "monitoring": true,
        "gracefulShutdown": true
      },
      "level": "info",
      "message": "✅ Enterprise Socket.IO Manager initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894387.5908,
    "timestamp": "2025-08-19T01:28:14.387Z",
    "level": "info",
    "category": "SOCKET_SHUTDOWN_SETUP",
    "message": "✅ Socket.IO graceful shutdown configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SHUTDOWN_SETUP",
      "level": "info",
      "message": "✅ Socket.IO graceful shutdown configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894387.555,
    "timestamp": "2025-08-19T01:28:14.387Z",
    "level": "info",
    "category": "SOCKET_MONITORING_SUCCESS",
    "message": "✅ Socket.IO monitoring configured",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MONITORING_SUCCESS",
      "intervals": {
        "metrics": "60s",
        "memoryCleanup": "2min",
        "memoryLeakDetection": "5min",
        "rateLimitCleanup": "30s",
        "listenerVerification": "10s"
      },
      "level": "info",
      "message": "✅ Socket.IO monitoring configured"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894386.7332,
    "timestamp": "2025-08-19T01:28:14.386Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SUCCESS",
    "message": "✅ Event handlers configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SUCCESS",
      "level": "info",
      "message": "✅ Event handlers configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894386.4744,
    "timestamp": "2025-08-19T01:28:14.386Z",
    "level": "info",
    "category": "SOCKET_EVENTS_SETUP",
    "message": "📡 Setting up event handlers...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_EVENTS_SETUP",
      "level": "info",
      "message": "📡 Setting up event handlers..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894386.1147,
    "timestamp": "2025-08-19T01:28:14.386Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "✅ Authentication middleware configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "level": "info",
      "message": "✅ Authentication middleware configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894386.2856,
    "timestamp": "2025-08-19T01:28:14.386Z",
    "level": "info",
    "category": "SOCKET_AUTH_SETUP",
    "message": "🔐 Setting up authentication middleware...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SETUP",
      "level": "info",
      "message": "🔐 Setting up authentication middleware..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894386.1765,
    "timestamp": "2025-08-19T01:28:14.386Z",
    "level": "info",
    "category": "SOCKET_CONFIG_SUCCESS",
    "message": "✅ Socket.IO server configured successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG_SUCCESS",
      "corsConfig": "unified",
      "level": "info",
      "message": "✅ Socket.IO server configured successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.0828,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SOCKET_CONFIG",
    "message": "🔧 Configuring Socket.IO server...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONFIG",
      "level": "info",
      "message": "🔧 Configuring Socket.IO server..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.143,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SOCKET_MEMORY_SUCCESS",
    "message": "✅ Managed memory maps initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_SUCCESS",
      "mapsCount": 9,
      "totalMaxEntries": 1460000,
      "level": "info",
      "message": "✅ Managed memory maps initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.8093,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_eventListeners' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 28800000,
      "totalMaps": 7,
      "level": "info",
      "message": "ManagedMap 'socket_eventListeners' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.074,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_typingUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 10000,
      "defaultTTL": 30000,
      "totalMaps": 6,
      "level": "info",
      "message": "ManagedMap 'socket_typingUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.8342,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_rateLimits' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 1000000,
      "defaultTTL": 1800000,
      "totalMaps": 5,
      "level": "info",
      "message": "ManagedMap 'socket_rateLimits' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.5427,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_userRoles' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 200000,
      "defaultTTL": 21600000,
      "totalMaps": 4,
      "level": "info",
      "message": "ManagedMap 'socket_userRoles' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.7837,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_conversationUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 50000,
      "defaultTTL": 7200000,
      "totalMaps": 3,
      "level": "info",
      "message": "ManagedMap 'socket_conversationUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894383.3003,
    "timestamp": "2025-08-19T01:28:14.383Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_userConversations' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.383Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 7200000,
      "totalMaps": 2,
      "level": "info",
      "message": "ManagedMap 'socket_userConversations' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894382.5415,
    "timestamp": "2025-08-19T01:28:14.382Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "ManagedMap 'socket_connectedUsers' creado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.382Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxEntries": 100000,
      "defaultTTL": 14400000,
      "totalMaps": 1,
      "level": "info",
      "message": "ManagedMap 'socket_connectedUsers' creado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894382.3684,
    "timestamp": "2025-08-19T01:28:14.382Z",
    "level": "info",
    "category": "SOCKET_MEMORY_INIT",
    "message": "🧠 Initializing managed memory maps...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.382Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_INIT",
      "level": "info",
      "message": "🧠 Initializing managed memory maps..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894382.7458,
    "timestamp": "2025-08-19T01:28:14.382Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "🚀 Initializing Enterprise Socket.IO Manager...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.382Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "nodeEnv": "production",
      "level": "info",
      "message": "🚀 Initializing Enterprise Socket.IO Manager..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894381.448,
    "timestamp": "2025-08-19T01:28:14.381Z",
    "level": "info",
    "category": "SOCKET_DEPS_INJECTION",
    "message": "Socket.IO: Dependencies injected",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.381Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_DEPS_INJECTION",
      "userModelAvailable": true,
      "conversationModelAvailable": true,
      "messageModelAvailable": true,
      "userModelType": "Function",
      "level": "info",
      "message": "Socket.IO: Dependencies injected"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894324.3406,
    "timestamp": "2025-08-19T01:28:14.324Z",
    "level": "info",
    "category": "SOCKET_INIT",
    "message": "🔌 Inicializando Socket.IO enterprise...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.324Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INIT",
      "level": "info",
      "message": "🔌 Inicializando Socket.IO enterprise..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894324.396,
    "timestamp": "2025-08-19T01:28:14.324Z",
    "level": "info",
    "category": "QUEUE_SERVICE_INIT",
    "message": "Servicios de colas inicializados correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.324Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "QUEUE_SERVICE_INIT",
      "level": "info",
      "message": "Servicios de colas inicializados correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894323.774,
    "timestamp": "2025-08-19T01:28:14.323Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "✅ Campaign Queue Service inicializado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.323Z",
      "service": "utalk-backend",
      "environment": "production",
      "redisConnected": true,
      "queuesCreated": [
        "campaign-processing",
        "message-processing"
      ],
      "twilioLimits": {
        "messagesPerSecond": 10,
        "messagesPerMinute": 600,
        "messagesPerHour": 36000,
        "maxConcurrent": 50
      },
      "level": "info",
      "message": "✅ Campaign Queue Service inicializado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894175.4998,
    "timestamp": "2025-08-19T01:28:14.175Z",
    "level": "info",
    "category": "SERVICE_INIT",
    "message": "Inicializando servicios del servidor",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SERVICE_INIT",
      "level": "info",
      "message": "Inicializando servicios del servidor"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894174.3274,
    "timestamp": "2025-08-19T01:28:14.174Z",
    "level": "info",
    "category": "ERROR_HANDLING_SETUP_SUCCESS",
    "message": "✅ Manejo de errores mejorado configurado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ERROR_HANDLING_SETUP_SUCCESS",
      "level": "info",
      "message": "✅ Manejo de errores mejorado configurado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894174.74,
    "timestamp": "2025-08-19T01:28:14.174Z",
    "level": "info",
    "category": "ROUTES_SUCCESS",
    "message": "✅ Rutas configuradas exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.174Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SUCCESS",
      "totalRoutes": 50,
      "level": "info",
      "message": "✅ Rutas configuradas exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894171.3887,
    "timestamp": "2025-08-19T01:28:14.171Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/team",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894171.1094,
    "timestamp": "2025-08-19T01:28:14.171Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/campaigns",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894171.0427,
    "timestamp": "2025-08-19T01:28:14.171Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/messages",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894171.4558,
    "timestamp": "2025-08-19T01:28:14.171Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/conversations",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894171.556,
    "timestamp": "2025-08-19T01:28:14.171Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.171Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/contacts",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894170.508,
    "timestamp": "2025-08-19T01:28:14.170Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "pipelines.ok",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.170Z",
      "service": "utalk-backend",
      "environment": "production",
      "routes": {
        "list_conversations": [
          "correlationMiddleware",
          "loggingMiddleware(/api)",
          "authMiddleware",
          "requireReadAccess",
          "conversationValidators.validateList",
          "ConversationController.listConversations"
        ],
        "webhook_inbound": [
          "correlationMiddleware",
          "loggingMiddleware(/api)",
          "messageValidators.validateWebhook",
          "MessageController.handleWebhookSafe"
        ]
      },
      "level": "info",
      "message": "pipelines.ok"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894170.6467,
    "timestamp": "2025-08-19T01:28:14.170Z",
    "level": "info",
    "category": "ROUTE_SETUP",
    "message": "Ruta configurada exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.170Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTE_SETUP",
      "route": "/api/auth",
      "level": "info",
      "message": "Ruta configurada exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894169.7048,
    "timestamp": "2025-08-19T01:28:14.169Z",
    "level": "info",
    "category": "ROUTES_CONFIG",
    "message": "Configurando rutas principales de la API",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.169Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_CONFIG",
      "level": "info",
      "message": "Configurando rutas principales de la API"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894168.6013,
    "timestamp": "2025-08-19T01:28:14.168Z",
    "level": "info",
    "category": "ROUTES_SETUP",
    "message": "🛣️ Configurando rutas de la aplicación...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.168Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ROUTES_SETUP",
      "level": "info",
      "message": "🛣️ Configurando rutas de la aplicación..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894167.5396,
    "timestamp": "2025-08-19T01:28:14.167Z",
    "level": "info",
    "category": "MIDDLEWARE_SUCCESS",
    "message": "✅ Middlewares básicos configurados",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.167Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SUCCESS",
      "trustProxy": true,
      "level": "info",
      "message": "✅ Middlewares básicos configurados"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894165.7908,
    "timestamp": "2025-08-19T01:28:14.165Z",
    "level": "info",
    "category": "CORS_SETUP_SUCCESS",
    "message": "✅ CORS configurado con Express CORS robusto",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.165Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CORS_SETUP_SUCCESS",
      "level": "info",
      "message": "✅ CORS configurado con Express CORS robusto"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894163.3298,
    "timestamp": "2025-08-19T01:28:14.163Z",
    "level": "info",
    "category": "MIDDLEWARE_SETUP",
    "message": "🛡️ Configurando middlewares básicos...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "MIDDLEWARE_SETUP",
      "level": "info",
      "message": "🛡️ Configurando middlewares básicos..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894162.5771,
    "timestamp": "2025-08-19T01:28:14.162Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Variables Railway requeridas validadas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "requiredVars": [
        "PORT",
        "NODE_ENV"
      ],
      "level": "info",
      "message": "Variables Railway requeridas validadas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894162.1262,
    "timestamp": "2025-08-19T01:28:14.162Z",
    "level": "info",
    "category": "ENV_VALIDATION",
    "message": "Validación de variables de entorno críticas",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.162Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ENV_VALIDATION",
      "criticalVars": {
        "PORT": "3001",
        "NODE_ENV": "production",
        "JWT_SECRET": "***SET***"
      },
      "level": "info",
      "message": "Validación de variables de entorno críticas"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894161.311,
    "timestamp": "2025-08-19T01:28:14.161Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Railway PORT configurado correctamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.161Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "level": "info",
      "message": "Railway PORT configurado correctamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894161.6548,
    "timestamp": "2025-08-19T01:28:14.161Z",
    "level": "info",
    "category": "RAILWAY_CONFIG",
    "message": "Verificando configuración de puerto Railway",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.161Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RAILWAY_CONFIG",
      "port": "3001",
      "portType": "string",
      "level": "info",
      "message": "Verificando configuración de puerto Railway"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894135.892,
    "timestamp": "2025-08-19T01:28:14.135Z",
    "level": "info",
    "category": "SHARDING_INIT_SUCCESS",
    "message": "✅ Enterprise Sharding Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.134Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT_SUCCESS",
      "level": "info",
      "message": "✅ Enterprise Sharding Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894134.188,
    "timestamp": "2025-08-19T01:28:14.134Z",
    "level": "info",
    "category": "SHARDING_INIT",
    "message": "🚀 Initializing Enterprise Sharding Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.134Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SHARDING_INIT",
      "collections": [
        "messages",
        "conversations",
        "logs",
        "analytics"
      ],
      "level": "info",
      "message": "🚀 Initializing Enterprise Sharding Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894132.7239,
    "timestamp": "2025-08-19T01:28:14.132Z",
    "level": "info",
    "category": "BATCH_INIT_SUCCESS",
    "message": "✅ Enterprise Batch Service initialized successfully",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.132Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT_SUCCESS",
      "level": "info",
      "message": "✅ Enterprise Batch Service initialized successfully"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566894132.5266,
    "timestamp": "2025-08-19T01:28:14.132Z",
    "level": "info",
    "category": "BATCH_INIT",
    "message": "🚀 Initializing Enterprise Batch Service...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:14.132Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "BATCH_INIT",
      "batchSize": 500,
      "maxConcurrentBatches": 10,
      "retryAttempts": 3,
      "level": "info",
      "message": "🚀 Initializing Enterprise Batch Service..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893962.0015,
    "timestamp": "2025-08-19T01:28:13.962Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.961Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893554.6763,
    "timestamp": "2025-08-19T01:28:13.554Z",
    "level": "info",
    "category": "CACHE_INIT",
    "message": "✅ CacheService inicializado",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.554Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_INIT",
      "level": "info",
      "message": "✅ CacheService inicializado"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893480.4922,
    "timestamp": "2025-08-19T01:28:13.480Z",
    "level": "info",
    "category": "FIREBASE_SUCCESS",
    "message": "🔥 FIREBASE - Admin SDK inicializado exitosamente",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.480Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_SUCCESS",
      "projectId": "utalk-a893a",
      "firestoreAvailable": true,
      "storageAvailable": true,
      "appName": "[DEFAULT]",
      "level": "info",
      "message": "🔥 FIREBASE - Admin SDK inicializado exitosamente"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893246.805,
    "timestamp": "2025-08-19T01:28:13.246Z",
    "level": "info",
    "category": "FIREBASE_INIT",
    "message": "🔥 FIREBASE - Iniciando configuración...",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.246Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "FIREBASE_INIT",
      "serviceAccountConfigured": true,
      "level": "info",
      "message": "🔥 FIREBASE - Iniciando configuración..."
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893228.493,
    "timestamp": "2025-08-19T01:28:13.228Z",
    "level": "warn",
    "category": "RATE_LIMIT_FALLBACK",
    "message": "⚠️ Rate Limiting usando memoria local (Redis no disponible)",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.228Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RATE_LIMIT_FALLBACK",
      "store": "memory",
      "reason": "Redis no configurado o deshabilitado",
      "level": "warn",
      "message": "⚠️ Rate Limiting usando memoria local (Redis no disponible)"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  },
  {
    "id": 1755566893160.7847,
    "timestamp": "2025-08-19T01:28:13.160Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "🧠 AdvancedMemoryManager inicializado con límites adaptativos",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-19T01:28:13.158Z",
      "service": "utalk-backend",
      "environment": "production",
      "maxMapsPerInstance": 7868,
      "maxEntriesPerMap": 107076,
      "defaultTTL": 1800000,
      "cleanupInterval": 300000,
      "hardware": {
        "totalMemory": "384.22 GB",
        "availableMemory": "104.57 GB",
        "memoryWarningThreshold": "268.95 GB",
        "memoryCriticalThreshold": "345.80 GB"
      },
      "adaptiveLimits": {
        "maxMapsPerInstance": 7868,
        "maxEntriesPerMap": 107076,
        "memoryWarningThreshold": "268.95 GB",
        "memoryCriticalThreshold": "345.80 GB"
      },
      "level": "info",
      "message": "🧠 AdvancedMemoryManager inicializado con límites adaptativos"
    },
    "userAgent": "unknown",
    "ip": "unknown",
    "userId": "system",
    "endpoint": "unknown"
  }
]