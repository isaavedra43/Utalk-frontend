[
  {
    "timestamp": "2025-08-21T20:02:47.536Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:02:47.536Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 0,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:02:47.536Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:02:47.536Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 0,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  },
  {
    "timestamp": "2025-08-21T20:02:48.181Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:02:48.181Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:18.175Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:03:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:03:18.177Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:03:18.181Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:18.181Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.573Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:03:22.573Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "06872fc7-6675-4592-be7a-3086bf0989ab",
      "timestamp": "2025-08-21T20:03:22.573Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.575Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "06872fc7-6675-4592-be7a-3086bf0989ab",
      "timestamp": "2025-08-21T20:03:22.575Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.575Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "06872fc7-6675-4592-be7a-3086bf0989ab",
      "timestamp": "2025-08-21T20:03:22.575Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.575Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:22.575Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.677Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:22.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.677Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "06872fc7-6675-4592-be7a-3086bf0989ab",
      "timestamp": "2025-08-21T20:03:22.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.677Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "06872fc7-6675-4592-be7a-3086bf0989ab",
      "timestamp": "2025-08-21T20:03:22.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "104ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.677Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7e58c097-828a-4a53-8356-0fc9cf5f4b42",
      "timestamp": "2025-08-21T20:03:22.677Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "7e58c097-828a-4a53-8356-0fc9cf5f4b42",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:22.677Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:03:22.678Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:03:23.683Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:23.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 50,
      "activeListeners": 50,
      "memoryPressure": "94.17%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:03:48.180Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:03:48.180Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.556Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:04:13.556Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "6b3340f7-56ae-4f62-913b-40ffa045deaa",
      "timestamp": "2025-08-21T20:04:13.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.558Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6b3340f7-56ae-4f62-913b-40ffa045deaa",
      "timestamp": "2025-08-21T20:04:13.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.558Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6b3340f7-56ae-4f62-913b-40ffa045deaa",
      "timestamp": "2025-08-21T20:04:13.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.558Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:13.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.727Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:13.727Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.728Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "6b3340f7-56ae-4f62-913b-40ffa045deaa",
      "timestamp": "2025-08-21T20:04:13.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.728Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "6b3340f7-56ae-4f62-913b-40ffa045deaa",
      "timestamp": "2025-08-21T20:04:13.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "172ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.728Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3181b100-6b32-4a62-a4a7-2da21c30609f",
      "timestamp": "2025-08-21T20:04:13.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "3181b100-6b32-4a62-a4a7-2da21c30609f",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:13.728Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:04:13.729Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:04:18.175Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:04:18.180Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:18.180Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:48.181Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:48.181Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.556Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:04:55.556Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "45773d55-76b2-4946-9a5c-ea00d9355f4e",
      "timestamp": "2025-08-21T20:04:55.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.557Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "45773d55-76b2-4946-9a5c-ea00d9355f4e",
      "timestamp": "2025-08-21T20:04:55.557Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.557Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "45773d55-76b2-4946-9a5c-ea00d9355f4e",
      "timestamp": "2025-08-21T20:04:55.557Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.558Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.661Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.661Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "45773d55-76b2-4946-9a5c-ea00d9355f4e",
      "timestamp": "2025-08-21T20:04:55.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.661Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "45773d55-76b2-4946-9a5c-ea00d9355f4e",
      "timestamp": "2025-08-21T20:04:55.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "105ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.661Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "80858231-803d-4b97-93d9-6dc713062e94",
      "timestamp": "2025-08-21T20:04:55.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "80858231-803d-4b97-93d9-6dc713062e94",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.662Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.662Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.662Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"45773d55-76b2-4946-9a5c-ea00d9355f4e\",\"traceId\":\"80858231-803d-4b97-93d9-6dc713062e94\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:04:55.744Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "conversations_repo:root_empty_fallback",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.744Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversations_repo:root_empty_fallback",
      "collectionPath": "conversations",
      "fallback": "contacts/*/conversations",
      "note": "Leyendo desde contacts/{contactId}/conversations",
      "level": "warn",
      "message": "conversations_repo:root_empty_fallback"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.852Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.852Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 0,
      "filters": {
        "participants": "admin@company.com",
        "limit": 20,
        "sortBy": "lastMessageAt",
        "sortOrder": "desc"
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.852Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:04:55.852Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:04:55.852Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-21T20:04:55.854Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:05:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:05:18.176Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:05:18.176Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:05:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:23.683Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:23.683Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 50,
      "activeListeners": 50,
      "memoryPressure": "97.15%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.555Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:05:27.555Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "f76ec0cd-0706-4a4d-b7be-bc55b51dfded",
      "timestamp": "2025-08-21T20:05:27.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.558Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "f76ec0cd-0706-4a4d-b7be-bc55b51dfded",
      "timestamp": "2025-08-21T20:05:27.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.558Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "f76ec0cd-0706-4a4d-b7be-bc55b51dfded",
      "timestamp": "2025-08-21T20:05:27.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.558Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:27.558Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.728Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:27.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.728Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "f76ec0cd-0706-4a4d-b7be-bc55b51dfded",
      "timestamp": "2025-08-21T20:05:27.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.728Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "f76ec0cd-0706-4a4d-b7be-bc55b51dfded",
      "timestamp": "2025-08-21T20:05:27.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "173ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.728Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "34744cae-f782-4789-9202-7f18de3db15e",
      "timestamp": "2025-08-21T20:05:27.728Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "34744cae-f782-4789-9202-7f18de3db15e",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:05:27.728Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:05:27.729Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:05:48.182Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:05:48.182Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:18.083Z",
    "level": "info",
    "category": "BATCH_METRICS",
    "message": "Batch Service Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:06:18.176Z",
    "level": "warn",
    "category": "SOCKET_HIGH_MEMORY_PER_CONNECTION",
    "message": "High memory usage per connection detected",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:18.176Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HIGH_MEMORY_PER_CONNECTION",
      "memoryPerConnectionMB": 48,
      "totalConnections": 1,
      "totalMemoryMB": 48,
      "level": "warn",
      "message": "High memory usage per connection detected"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:18.177Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:06:18.182Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:18.182Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.550Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:06:20.550Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "d5efa75b-96c3-4cea-ab31-454b0b86e055",
      "timestamp": "2025-08-21T20:06:20.550Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.551Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d5efa75b-96c3-4cea-ab31-454b0b86e055",
      "timestamp": "2025-08-21T20:06:20.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.551Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d5efa75b-96c3-4cea-ab31-454b0b86e055",
      "timestamp": "2025-08-21T20:06:20.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.551Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:20.551Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.644Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:20.644Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.644Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "d5efa75b-96c3-4cea-ab31-454b0b86e055",
      "timestamp": "2025-08-21T20:06:20.644Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.644Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "d5efa75b-96c3-4cea-ab31-454b0b86e055",
      "timestamp": "2025-08-21T20:06:20.644Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "94ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.644Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "587cb60f-bad5-4bc8-8a06-055bad6b3bf5",
      "timestamp": "2025-08-21T20:06:20.644Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "587cb60f-bad5-4bc8-8a06-055bad6b3bf5",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:20.645Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:06:20.645Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:06:48.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:48.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.553Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:06:51.553Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "50df8c1b-7237-4d15-85e1-f29270d60904",
      "timestamp": "2025-08-21T20:06:51.553Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.555Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "50df8c1b-7237-4d15-85e1-f29270d60904",
      "timestamp": "2025-08-21T20:06:51.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.555Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "50df8c1b-7237-4d15-85e1-f29270d60904",
      "timestamp": "2025-08-21T20:06:51.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.555Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:51.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.634Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:06:51.634Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.634Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "50df8c1b-7237-4d15-85e1-f29270d60904",
      "timestamp": "2025-08-21T20:06:51.634Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.634Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "50df8c1b-7237-4d15-85e1-f29270d60904",
      "timestamp": "2025-08-21T20:06:51.634Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "81ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.634Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "3f314adf-c648-4dcc-8d42-2e8736f70d34",
      "timestamp": "2025-08-21T20:06:51.634Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "3f314adf-c648-4dcc-8d42-2e8736f70d34",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:06:51.634Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:06:51.635Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:07:02.538Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:DISCONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:02.538Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "3SCiwtwW...",
      "email": "admin@company.com...",
      "reason": "client namespace disconnect",
      "level": "info",
      "message": "RT:DISCONNECT"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:17.482Z",
    "level": "info",
    "category": "CACHE_GLOBAL_CLEANUP",
    "message": "Limpieza global completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:17.482Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_GLOBAL_CLEANUP",
      "totalCleaned": 2,
      "duration": 0,
      "totalMaps": 7,
      "simpleCacheSize": 0,
      "level": "info",
      "message": "Limpieza global completada"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:07:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:07:18.177Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:07:18.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:18.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:23.685Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:23.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 25,
      "totalListeners": 50,
      "activeListeners": 25,
      "memoryPressure": "96.11%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.607Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:07:31.607Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "211a3c00-06a8-428a-8472-b84b3f8abc73",
      "timestamp": "2025-08-21T20:07:31.607Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.610Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "211a3c00-06a8-428a-8472-b84b3f8abc73",
      "timestamp": "2025-08-21T20:07:31.610Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.610Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "211a3c00-06a8-428a-8472-b84b3f8abc73",
      "timestamp": "2025-08-21T20:07:31.610Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.610Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.610Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "211a3c00-06a8-428a-8472-b84b3f8abc73",
      "timestamp": "2025-08-21T20:07:31.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "211a3c00-06a8-428a-8472-b84b3f8abc73",
      "timestamp": "2025-08-21T20:07:31.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "78ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "f3945a91-319c-4510-a832-77116d650e5a",
      "timestamp": "2025-08-21T20:07:31.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "f3945a91-319c-4510-a832-77116d650e5a",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.685Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"211a3c00-06a8-428a-8472-b84b3f8abc73\",\"traceId\":\"f3945a91-319c-4510-a832-77116d650e5a\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:07:31.815Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "conversations_repo:root_empty_fallback",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.815Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversations_repo:root_empty_fallback",
      "collectionPath": "conversations",
      "fallback": "contacts/*/conversations",
      "note": "Leyendo desde contacts/{contactId}/conversations",
      "level": "warn",
      "message": "conversations_repo:root_empty_fallback"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.882Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.882Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 0,
      "filters": {
        "participants": "admin@company.com",
        "limit": 20,
        "sortBy": "lastMessageAt",
        "sortOrder": "desc"
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.882Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:07:31.882Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:31.882Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-21T20:07:31.883Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:07:48.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:07:48.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.555Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:08:09.555Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "fb189945-070a-4d1f-a247-82696643df5a",
      "timestamp": "2025-08-21T20:08:09.555Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.556Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fb189945-070a-4d1f-a247-82696643df5a",
      "timestamp": "2025-08-21T20:08:09.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755807228,
      "iat": 1755806328,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.556Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fb189945-070a-4d1f-a247-82696643df5a",
      "timestamp": "2025-08-21T20:08:09.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.556Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:08:09.556Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.622Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:08:09.622Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.623Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "fb189945-070a-4d1f-a247-82696643df5a",
      "timestamp": "2025-08-21T20:08:09.623Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.623Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "fb189945-070a-4d1f-a247-82696643df5a",
      "timestamp": "2025-08-21T20:08:09.623Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "68ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.623Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "68e35765-0a7e-4a5e-96ab-d2c9abf4a7ac",
      "timestamp": "2025-08-21T20:08:09.623Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "68e35765-0a7e-4a5e-96ab-d2c9abf4a7ac",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:09.623Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:08:09.623Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:08:18.177Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:08:18.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:08:18.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:08:48.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:08:48.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:09:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:09:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:09:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:09:18.177Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:09:18.182Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:09:18.182Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:09:23.684Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:09:23.684Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "96.71%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:09:48.183Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:09:48.183Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:10:18.183Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:10:18.184Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:10:18.184Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:10:48.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:10:48.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:11:17.484Z",
    "level": "info",
    "category": "CACHE_GLOBAL_CLEANUP",
    "message": "Limpieza global completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:11:17.484Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_GLOBAL_CLEANUP",
      "totalCleaned": 2,
      "duration": 0,
      "totalMaps": 7,
      "simpleCacheSize": 0,
      "level": "info",
      "message": "Limpieza global completada"
    }
  },
  {
    "timestamp": "2025-08-21T20:11:18.082Z",
    "level": "info",
    "category": "BATCH_METRICS",
    "message": "Batch Service Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:11:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:11:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:11:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:11:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:11:18.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:11:18.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:11:23.685Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:11:23.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "93.29%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:11:48.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:11:48.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:12:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:12:18.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:12:18.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:12:48.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:12:48.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:13:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:13:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:13:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:13:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:13:18.185Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:13:18.185Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:13:23.685Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:13:23.685Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "95.79%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:13:48.186Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:13:48.186Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:14:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:14:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:14:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:14:48.186Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:14:48.186Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:15:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:15:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:15:18.176Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:15:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:15:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:15:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:15:23.686Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:15:23.686Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 0,
      "totalListeners": 25,
      "activeListeners": 25,
      "memoryPressure": "96.33%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:15:48.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:15:48.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:15:59.894Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:DISCONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:15:59.894Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "py2thKZM...",
      "email": "admin@company.com...",
      "reason": "transport close",
      "level": "info",
      "message": "RT:DISCONNECT"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.495Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:01.495Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "7b1d20af-93d5-4286-a7f4-82cbcb265cad",
      "timestamp": "2025-08-21T20:16:01.495Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/auth/profile",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.497Z",
    "level": "warn",
    "category": "AUTH_VERIFY_ACCESS_FAIL",
    "message": "AuthService.verifyAccessToken: invalid token",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:01.497Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_VERIFY_ACCESS_FAIL",
      "error": "jwt expired",
      "level": "warn",
      "message": "AuthService.verifyAccessToken: invalid token"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.497Z",
    "level": "warn",
    "category": "AUTH_TOKEN_EXPIRED",
    "message": "Token expirado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "7b1d20af-93d5-4286-a7f4-82cbcb265cad",
      "timestamp": "2025-08-21T20:16:01.497Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_TOKEN_EXPIRED",
      "exp": "2025-08-21T20:13:48.000Z",
      "currentTime": "2025-08-21T20:16:01.497Z",
      "level": "warn",
      "message": "Token expirado"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.497Z",
    "level": "warn",
    "category": "AUTH_JWT_FAILURE",
    "message": "Autenticaci√≥n fallida por JWT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "7b1d20af-93d5-4286-a7f4-82cbcb265cad",
      "timestamp": "2025-08-21T20:16:01.497Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_FAILURE",
      "error": "jwt expired",
      "name": "TokenExpiredError",
      "level": "warn",
      "message": "Autenticaci√≥n fallida por JWT"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.498Z",
    "level": "warn",
    "category": "HTTP_CLIENT_ERROR",
    "message": "‚ö†Ô∏è Petici√≥n HTTP con advertencia",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:01.756Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] refresh_attempt",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "a8d92a38-e7bc-459b-9d32-604fbb6bdf4d",
      "timestamp": "2025-08-21T20:16:01.756Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "refresh_attempt",
      "refreshTokenPreview": "eyJhbGciOiJIUzI1NiIs...",
      "level": "info",
      "message": "[AUTH] refresh_attempt"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:01.987Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:01.987Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:02.177Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:02.177Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:02.275Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] refresh_success",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "a8d92a38-e7bc-459b-9d32-604fbb6bdf4d",
      "timestamp": "2025-08-21T20:16:02.275Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "refresh_success",
      "userEmail": "admin@company.com",
      "oldTokenId": "36e43e03-c5a4-4231-b4d9-a5bddca8c54f",
      "usedCount": 2,
      "level": "info",
      "message": "[AUTH] refresh_success"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:02.281Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:03.317Z",
    "level": "info",
    "category": "AUTH_LOGIN_START",
    "message": "Iniciando proceso de login",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.317Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_START",
      "hasReqLogger": true,
      "hasAuthLogger": true,
      "level": "info",
      "message": "Iniciando proceso de login"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.317Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_attempt",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "1d42fcdb-1738-4379-a60c-aa209955f0c2",
      "timestamp": "2025-08-21T20:16:03.317Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "login_attempt",
      "email": "admin@company.com",
      "level": "info",
      "message": "[AUTH] login_attempt"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.317Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] query_started",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "1d42fcdb-1738-4379-a60c-aa209955f0c2",
      "timestamp": "2025-08-21T20:16:03.317Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_validation",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] query_started"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.398Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.398Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîê Validando contrase√±a para usuario (TEXTO PLANO)"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.525Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Contrase√±a v√°lida (campo password)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.525Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "Contrase√±a v√°lida (campo password)"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.525Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_read",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "1d42fcdb-1738-4379-a60c-aa209955f0c2",
      "timestamp": "2025-08-21T20:16:03.525Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "user_by_email",
      "email": "admin@company.com",
      "found": true,
      "level": "info",
      "message": "[DATABASE] document_read"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.695Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto.",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "docId": "admin@company_com",
      "level": "warn",
      "message": "‚ö†Ô∏è No se encontr√≥ el documento de usuario para actualizar el √∫ltimo login. Puede que el usuario haya sido eliminado o el email sea incorrecto."
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.695Z",
    "level": "info",
    "category": "DATABASE_OPERATION",
    "message": "[DATABASE] document_updated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "1d42fcdb-1738-4379-a60c-aa209955f0c2",
      "timestamp": "2025-08-21T20:16:03.695Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "DATABASE_OPERATION",
      "operation": "last_login_update",
      "email": "admin@company.com",
      "level": "info",
      "message": "[DATABASE] document_updated"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.814Z",
    "level": "info",
    "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
    "message": "Guardado en Firestore exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.814Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_FIRESTORE_SUCCESS",
      "level": "info",
      "message": "Guardado en Firestore exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.938Z",
    "level": "info",
    "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
    "message": "√çndices creados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_INDEXES_SUCCESS",
      "level": "info",
      "message": "√çndices creados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.938Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATED",
    "message": "Refresh token creado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATED",
      "tokenId": "34e5f8e5-c49d-42f0-a0d8-0f0020092edd",
      "userEmail": "admin@company.com",
      "familyId": "9bae4842-80f8-4696-8e06-43bd4ba793e0",
      "deviceId": "1de7e621-f0c2-49ee-9304-0eb88c0683a8",
      "level": "info",
      "message": "Refresh token creado"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.938Z",
    "level": "info",
    "category": "REFRESH_TOKEN_CREATE_SUCCESS",
    "message": "Refresh token creado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_CREATE_SUCCESS",
      "tokenId": "34e5f8e5-c49d-42f0-a0d8-0f0020092edd",
      "level": "info",
      "message": "Refresh token creado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.938Z",
    "level": "info",
    "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
    "message": "Refresh token generado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.938Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "REFRESH_TOKEN_GENERATE_SUCCESS",
      "level": "info",
      "message": "Refresh token generado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.939Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] tokens_generated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "1d42fcdb-1738-4379-a60c-aa209955f0c2",
      "timestamp": "2025-08-21T20:16:03.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_OPERATION",
      "operation": "tokens_generated",
      "email": "admin@company.com",
      "role": "admin",
      "accessTokenExpiresIn": "15m",
      "refreshTokenExpiresIn": "7d",
      "deviceId": "1de7e621-f0c2-49ee-9304-0eb88c0683a8",
      "level": "info",
      "message": "[AUTH] tokens_generated"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:03.939Z",
    "level": "info",
    "category": "AUTH_OPERATION",
    "message": "[AUTH] login_success",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:03.939Z",
    "level": "info",
    "category": "AUTH_LOGIN_SUCCESS",
    "message": "Login completado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:03.939Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_LOGIN_SUCCESS",
      "email": "admin@comp...",
      "role": "admin",
      "deviceId": "1de7e621-f0c2-49ee-9304-0eb88c0683a8",
      "level": "info",
      "message": "Login completado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.370Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "05a5d6ed-a2c5-451d-b19a-8931fefbfd83",
      "timestamp": "2025-08-21T20:16:04.370Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755808263,
      "iat": 1755807363,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.370Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "05a5d6ed-a2c5-451d-b19a-8931fefbfd83",
      "timestamp": "2025-08-21T20:16:04.370Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.372Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.372Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "1Xv_93x3...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.373Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.373Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T20:16:04.373Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.374Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.374Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.448Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "05a5d6ed-a2c5-451d-b19a-8931fefbfd83",
      "timestamp": "2025-08-21T20:16:04.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.448Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "05a5d6ed-a2c5-451d-b19a-8931fefbfd83",
      "timestamp": "2025-08-21T20:16:04.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/conversations?page=1&limit=20&status=all",
      "duration": "79ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.448Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "c87f3092-5c42-4a21-9af8-236b3a19306b",
      "timestamp": "2025-08-21T20:16:04.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "c87f3092-5c42-4a21-9af8-236b3a19306b",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.448Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "logger.shape",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.448Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasInfo": true,
      "hasAuth": true,
      "hasDatabase": true,
      "hasChild": true,
      "level": "info",
      "message": "logger.shape"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.448Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "{\"event\":\"conversations_list_start\",\"requestId\":\"05a5d6ed-a2c5-451d-b19a-8931fefbfd83\",\"traceId\":\"c87f3092-5c42-4a21-9af8-236b3a19306b\",\"loggerShape\":{\"hasInfo\":true,\"hasAuth\":true,\"hasDatabase\":true,\"hasChild\":true},\"http\":{\"method\":\"GET\",\"path\":\"/\"},\"user\":null,\"filters\":{\"limit\":20,\"page\":1}}",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:04.474Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_CREATION",
    "message": "Creating new listenersMap for socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.474Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_CREATION",
      "userEmail": "admin@company.com...",
      "eventListenersSize": 1,
      "level": "info",
      "message": "Creating new listenersMap for socket"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "1Xv_93x3...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.475Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.475Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
      "level": "info"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.596Z",
    "level": "warn",
    "category": "SYSTEM",
    "message": "conversations_repo:root_empty_fallback",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.596Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "conversations_repo:root_empty_fallback",
      "collectionPath": "conversations",
      "fallback": "contacts/*/conversations",
      "note": "Leyendo desde contacts/{contactId}/conversations",
      "level": "warn",
      "message": "conversations_repo:root_empty_fallback"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.706Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.706Z",
      "service": "utalk-backend",
      "environment": "production",
      "totalConversations": 0,
      "filters": {
        "participants": "admin@company.com",
        "limit": 20,
        "sortBy": "lastMessageAt",
        "sortOrder": "desc"
      },
      "structure": "contacts/{contactId}/conversations",
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas de estructura contacts/{contactId}/conversations"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.706Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:04.706Z",
    "level": "info",
    "category": "CACHE_MISS",
    "message": "Conversaciones obtenidas de base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.706Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_MISS",
      "cacheKey": "conversations:admin@company.com:all::20:1...",
      "level": "info",
      "message": "Conversaciones obtenidas de base de datos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 0,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 0,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 0,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 0,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.738Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.738Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 0,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.740Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.740Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 0,
      "unreadCountsKeys": 0,
      "onlineUsersKeys": 0,
      "socketId": "1Xv_93x3...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:04.740Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:04.740Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:05.458Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:05.458Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "1Xv_93x3UR0Pkp2GAAAH",
      "level": "info",
      "message": "User requesting state sync"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:08.196Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:08.196Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:08.196Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "1Xv_93x3...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:08.196Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 1,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.883Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "34.207.70.229",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "34.207.70.229",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "e2d23e92-1d0f-433d-b439-a71785135df0",
      "timestamp": "2025-08-21T20:16:16.883Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "HTTP_REQUEST_START",
      "method": "POST",
      "url": "/api/messages/webhook",
      "path": "/messages/webhook",
      "contentType": "application/x-www-form-urlencoded",
      "contentLength": "608",
      "authorization": "none",
      "level": "info",
      "message": "üì• Petici√≥n HTTP iniciada"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.885Z",
    "level": "info",
    "category": "WEBHOOK_EMERGENCY",
    "message": "Emergency webhook received",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.885Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîó WEBHOOK INICIADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "34.207.70.229",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "34.207.70.229",
      "userAgent": "TwilioProxy/1.1",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.885Z",
      "service": "utalk-backend",
      "environment": "production",
      "method": "POST",
      "path": "/webhook",
      "headers": {
        "content-type": "application/x-www-form-urlencoded",
        "x-forwarded-for": "34.207.70.229",
        "x-real-ip": "34.207.70.229"
      },
      "level": "info",
      "message": "üîó WEBHOOK INICIADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.885Z",
    "level": "info",
    "category": "EMERGENCY_WEBHOOK_DATA_EXTRACT",
    "message": "EMERGENCY WEBHOOK DATA EXTRACTED:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.885Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì• PAYLOAD WEBHOOK RECIBIDO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.885Z",
    "level": "info",
    "category": "EMERGENCY_BEFORE_VALIDATION_",
    "message": "EMERGENCY BEFORE VALIDATION:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.885Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EMERGENCY_BEFORE_VALIDATION_",
      "hasFrom": true,
      "hasContent": true,
      "hasMedia": false,
      "numMedia": 0,
      "step": "before_validation",
      "level": "info",
      "message": "EMERGENCY BEFORE VALIDATION:"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "EMERGENCY_VALIDATION_PASSED_",
    "message": "EMERGENCY VALIDATION PASSED:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "fromPhone": "whatsapp:+5214773790184",
      "twilioPhone": "whatsapp:+5214793176502",
      "messageSid": "SMf608724dbcae7e2f22271e71de75a80c",
      "hasContent": true,
      "level": "info",
      "message": "‚úÖ WEBHOOK VALIDACI√ìN B√ÅSICA PASADA"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì± TEL√âFONOS PROCESADOS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalFrom": "whatsapp:+5214773790184",
      "normalizedFrom": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "messageSid": "SMf608724dbcae7e2f22271e71de75a80c",
      "level": "info",
      "message": "üì± TEL√âFONOS PROCESADOS"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "SMf608724dbcae7e2f22271e71de75a80c",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": true,
      "hasMedia": false,
      "step": "before_twilio_service",
      "level": "info",
      "message": "üîÑ INICIANDO PROCESAMIENTO CON MESSAGESERVICE"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üö® MESSAGECONTROLLER - ANTES DE LLAMAR MESSAGESERVICE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "EMERGENCY_BEFORE_MESSAGESERVIC",
    "message": "EMERGENCY BEFORE MESSAGESERVICE:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:16.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EMERGENCY_BEFORE_MESSAGESERVIC",
      "messageSid": "SMf608724dbcae7e2f22271e71de75a80c",
      "fromPhone": "whatsapp:+5214773790184",
      "hasContent": true,
      "hasMedia": false,
      "step": "before_twilio_service_call",
      "level": "info",
      "message": "EMERGENCY BEFORE MESSAGESERVICE:"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.886Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "TWILIO:BOOT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:16.886Z",
      "service": "utalk-backend",
      "environment": "production",
      "hasSid": true,
      "sidLast4": "250c",
      "hasToken": true,
      "from": "whatsapp:+5214793176502",
      "level": "info",
      "message": "TWILIO:BOOT"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.887Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755807376887_6xj3dxe17",
      "timestamp": "2025-08-21T20:16:16.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageSid": "SMf608724dbcae7e2f22271e71de75a80c",
      "from": "whatsapp:+5214773790184",
      "to": "whatsapp:+5214793176502",
      "hasBody": true,
      "hasProfileName": true,
      "hasWaId": true,
      "step": "twilio_process_start",
      "level": "info",
      "message": "üîÑ MESSAGESERVICE - INICIANDO PROCESAMIENTO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:16.887Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã MESSAGESERVICE - DATOS EXTRA√çDOS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:16.887Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Intentando obtener foto de perfil",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:16.887Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "level": "info",
      "message": "üîç Intentando obtener foto de perfil"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.097Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Nuevo contacto creado en base de datos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.097Z",
      "service": "utalk-backend",
      "environment": "production",
      "phoneNumber": "+5214773790184",
      "profileName": "Isra",
      "waId": "5214773790184",
      "hasProfilePhoto": false,
      "level": "info",
      "message": "‚úÖ Nuevo contacto creado en base de datos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.097Z",
    "level": "info",
    "category": "ID_DE_CONVERSACI_N_GENERADO_CO",
    "message": "ID de conversaci√≥n generado correctamente:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.097Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "ID_DE_CONVERSACI_N_GENERADO_CO",
      "ourNumber": "+5214773790184",
      "customerPhone": "+5214793176502",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "hasDoublePlus": false,
      "level": "info",
      "message": "ID de conversaci√≥n generado correctamente:"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.098Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìù MESSAGESERVICE - DATOS DEL MENSAJE PREPARADOS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:17.585Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üÜï Creando nueva conversaci√≥n con informaci√≥n de contacto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.585Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "customerPhone": "+5214773790184",
      "agentPhone": "+5214793176502",
      "hasContactInfo": true,
      "level": "info",
      "message": "üÜï Creando nueva conversaci√≥n con informaci√≥n de contacto"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.690Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç No se encontr√≥ agente espec√≠fico, buscando agentes disponibles",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.690Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üîç No se encontr√≥ agente espec√≠fico, buscando agentes disponibles",
      "level": "info"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.762Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üë§ Agente asignado autom√°ticamente (primer disponible)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.762Z",
      "service": "utalk-backend",
      "environment": "production",
      "assignedToId": "admin@company.com",
      "assignedToName": "Administrador del Sistema",
      "totalAvailableAgents": 1,
      "level": "info",
      "message": "üë§ Agente asignado autom√°ticamente (primer disponible)"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.762Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ Procesando contacto del cliente con informaci√≥n avanzada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.762Z",
      "service": "utalk-backend",
      "environment": "production",
      "customerPhone": "+5214773790184",
      "hasProfileName": true,
      "hasWaId": true,
      "hasProfilePhoto": false,
      "level": "info",
      "message": "üîÑ Procesando contacto del cliente con informaci√≥n avanzada"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.762Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ Iniciando creaci√≥n/actualizaci√≥n de contacto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.762Z",
      "service": "utalk-backend",
      "environment": "production",
      "originalPhone": "+5214773790184",
      "direction": "inbound",
      "messageTimestamp": "2025-08-21T20:16:17.762Z",
      "processId": "1ca08a8c",
      "level": "info",
      "message": "üîÑ Iniciando creaci√≥n/actualizaci√≥n de contacto"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.950Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìã Acci√≥n determinada para contacto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "phone": "+5214773790184",
      "action": "update",
      "contactExists": true,
      "contactActive": true,
      "level": "info",
      "message": "üìã Acci√≥n determinada para contacto"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:17.950Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìù Actualizando contacto existente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:17.950Z",
      "service": "utalk-backend",
      "environment": "production",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "phone": "+5214773790184",
      "totalMessagesBefore": 0,
      "level": "info",
      "message": "üìù Actualizando contacto existente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.082Z",
    "level": "info",
    "category": "BATCH_METRICS",
    "message": "Batch Service Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:18.149Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Contacto actualizado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "phone": "+5214773790184",
      "lastContactAt": "2025-08-21T20:16:17.762Z",
      "totalMessages": {
        "operand": 1
      },
      "level": "info",
      "message": "‚úÖ Contacto actualizado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.149Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Contacto procesado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "phone": "+5214773790184",
      "action": "update",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "contactName": "Isra",
      "isActive": true,
      "lastContactAt": "2025-08-21T20:16:17.762Z",
      "processTime": "387ms",
      "level": "info",
      "message": "‚úÖ Contacto procesado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.149Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Contacto del cliente procesado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.149Z",
      "service": "utalk-backend",
      "environment": "production",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "customerPhone": "+5214773790184",
      "profileName": "Isra",
      "waId": "5214773790184",
      "level": "info",
      "message": "‚úÖ Contacto del cliente procesado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.175Z",
    "level": "warn",
    "category": "SOCKET_HIGH_MEMORY_PER_CONNECTION",
    "message": "High memory usage per connection detected",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_HIGH_MEMORY_PER_CONNECTION",
      "memoryPerConnectionMB": 52,
      "totalConnections": 1,
      "totalMemoryMB": 52,
      "level": "warn",
      "message": "High memory usage per connection detected"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.712Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n creada usando ConversationsRepository",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.712Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "participantsCount": 2,
      "participants": [
        "+5214773790184",
        "admin@company.com"
      ],
      "level": "info",
      "message": "‚úÖ Conversaci√≥n creada usando ConversationsRepository"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.712Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Nueva conversaci√≥n creada exitosamente usando repositorio",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.712Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "customerPhone": "+5214773790184",
      "agentPhone": "+5214793176502",
      "assignedToId": "admin@company.com",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "hasContactInfo": true,
      "participantsCount": 2,
      "level": "info",
      "message": "‚úÖ Nueva conversaci√≥n creada exitosamente usando repositorio"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:18.713Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:18.713Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "üíæ Guardando mensaje en Firestore con metadatos avanzados"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.247Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:19.247Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "direction": "inbound",
      "type": "text",
      "hasContactInfo": true,
      "hasTwilioMetadata": true,
      "level": "info",
      "message": "‚úÖ Mensaje guardado exitosamente con metadatos avanzados"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.641Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:19.641Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "lastMessageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "level": "info",
      "message": "‚úÖ Conversaci√≥n actualizada con √∫ltimo mensaje"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.641Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîÑ Iniciando sincronizaci√≥n conversaci√≥n-contacto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:19.641Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "customerPhone": "+5214773790184",
      "level": "info",
      "message": "üîÑ Iniciando sincronizaci√≥n conversaci√≥n-contacto"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.899Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚ÑπÔ∏è Conversaci√≥n ya existe en contacto",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:19.899Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "contactId": "GKOtiyMN94YGIVaWYLII",
      "customerPhone": "+5214773790184",
      "level": "info",
      "message": "‚ÑπÔ∏è Conversaci√≥n ya existe en contacto"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.899Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755807379899_71be1op3b",
      "timestamp": "2025-08-21T20:16:19.899Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "direction": "inbound",
      "type": "text",
      "step": "realtime_emit_start",
      "level": "info",
      "message": "üì° EMITREALTIMEEVENT - INICIANDO EMISI√ìN"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.900Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:BROADCAST new-message",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:19.900Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "new-message",
      "conversationId": "conv_+5214793176502_...",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "correlationId": "realtime_1755807379899_71be1op3b",
      "workspaceRoom": "ws:default_workspace:ten:default_tenant:workspace",
      "level": "info",
      "message": "RT:BROADCAST new-message"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.901Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "realtime_1755807379899_71be1op3b",
      "timestamp": "2025-08-21T20:16:19.901Z",
      "service": "utalk-backend",
      "environment": "production",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "step": "realtime_emit_complete",
      "level": "info",
      "message": "‚úÖ EMITREALTIMEEVENT - PROCESO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.901Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "twilio_1755807376887_6xj3dxe17",
      "timestamp": "2025-08-21T20:16:19.901Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "type": "text",
      "direction": "inbound",
      "hasMedia": false,
      "step": "process_complete",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE - PROCESAMIENTO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.901Z",
    "level": "info",
    "category": "EMERGENCY_AFTER_MESSAGESERVICE",
    "message": "EMERGENCY AFTER MESSAGESERVICE:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:19.901Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EMERGENCY_AFTER_MESSAGESERVICE",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "success": true,
      "step": "after_twilio_service",
      "level": "info",
      "message": "EMERGENCY AFTER MESSAGESERVICE:"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.901Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:19.901Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "contactUpdated": true,
      "processTime": 3016,
      "step": "twilio_service_completed",
      "level": "info",
      "message": "‚úÖ MESSAGESERVICE PROCESAMIENTO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.901Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "webhook_1755807376885_04acw9fut",
      "timestamp": "2025-08-21T20:16:19.901Z",
      "service": "utalk-backend",
      "environment": "production",
      "messageId": "SMf608724dbcae7e2f22271e71de75a80c",
      "conversationId": "conv_+5214793176502_+5214773790184",
      "processTime": 3016,
      "step": "sending_success_response",
      "level": "info",
      "message": "üì§ ENVIANDO RESPUESTA EXITOSA A TWILIO"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:19.902Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "34.207.70.229"
  },
  {
    "timestamp": "2025-08-21T20:16:30.117Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:30.117Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:30.117Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "b9675722-b365-415f-a43c-0378d3390360",
      "timestamp": "2025-08-21T20:16:30.117Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "b9675722-b365-415f-a43c-0378d3390360",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:30.117Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:30.224Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:30.232Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:16:30.315Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:30.315Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-21T20:16:30.316Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:30.316Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:30.316Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-21T20:16:30.316Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:30.317Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:16:30.406Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:30.406Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 294,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:30.406Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:30.406Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  },
  {
    "timestamp": "2025-08-21T20:16:48.188Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:16:48.188Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.590Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:17:01.590Z",
    "level": "info",
    "category": "AUTH_START",
    "message": "üîê Iniciando autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.",
      "requestId": "27483064-0c08-4bbf-8839-e27866eaf449",
      "timestamp": "2025-08-21T20:17:01.590Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_START",
      "url": "/api/auth/profile",
      "method": "GET",
      "level": "info",
      "message": "üîê Iniciando autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.591Z",
    "level": "info",
    "category": "AUTH_JWT_SUCCESS",
    "message": "‚úÖ Token JWT verificado exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "27483064-0c08-4bbf-8839-e27866eaf449",
      "timestamp": "2025-08-21T20:17:01.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_JWT_SUCCESS",
      "email": "admin@company.com",
      "role": "admin",
      "exp": 1755808263,
      "iat": 1755807363,
      "level": "info",
      "message": "‚úÖ Token JWT verificado exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.591Z",
    "level": "info",
    "category": "AUTH_USER_LOOKUP",
    "message": "üîç Buscando usuario en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "27483064-0c08-4bbf-8839-e27866eaf449",
      "timestamp": "2025-08-21T20:17:01.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_LOOKUP",
      "email": "admin@company.com...",
      "role": "admin",
      "level": "info",
      "message": "üîç Buscando usuario en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.591Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üîç Buscando usuario por email",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:01.591Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üîç Buscando usuario por email"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.661Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Usuario encontrado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:01.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "role": "admin",
      "name": "Administrador del Sistema",
      "level": "info",
      "message": "Usuario encontrado"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.661Z",
    "level": "info",
    "category": "AUTH_USER_FOUND",
    "message": "‚úÖ Usuario encontrado en Firestore",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "27483064-0c08-4bbf-8839-e27866eaf449",
      "timestamp": "2025-08-21T20:17:01.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_USER_FOUND",
      "email": "admin@company.com...",
      "hasUser": true,
      "userRole": "admin",
      "isActive": true,
      "level": "info",
      "message": "‚úÖ Usuario encontrado en Firestore"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.661Z",
    "level": "info",
    "category": "AUTH_SUCCESS",
    "message": "‚úÖ Usuario autenticado correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "requestId": "27483064-0c08-4bbf-8839-e27866eaf449",
      "timestamp": "2025-08-21T20:17:01.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "AUTH_SUCCESS",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "url": "/api/auth/profile",
      "duration": "71ms",
      "level": "info",
      "message": "‚úÖ Usuario autenticado correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.661Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üë§ Obteniendo perfil de usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:01.661Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "level": "info",
      "message": "üë§ Obteniendo perfil de usuario"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.797Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Perfil obtenido correctamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:01.797Z",
      "service": "utalk-backend",
      "environment": "production",
      "email": "admin@company.com",
      "name": "Administrador del Sistema",
      "role": "admin",
      "level": "info",
      "message": "Perfil obtenido correctamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:01.799Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:17:02.386Z",
    "level": "info",
    "category": "SOCKET_AUTH_JWT_CONFIG",
    "message": "Socket.IO: JWT configuration validated",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.386Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_JWT_CONFIG",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "hasSecret": true,
      "issuer": "utalk-backend",
      "audience": "utalk-api",
      "level": "info",
      "message": "Socket.IO: JWT configuration validated"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.387Z",
    "level": "info",
    "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
    "message": "Socket.IO: JWT claims extracted successfully",
    "userId": "admin@company.com",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "admin@company.com",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_CLAIMS_EXTRACTED",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "email": "admin@company.com...",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: JWT claims extracted successfully"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.387Z",
    "level": "info",
    "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
    "message": "Socket.IO: Firebase disponible para autenticaci√≥n",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_FIREBASE_AVAILABLE",
      "email": "admin@company.com...",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "level": "info",
      "message": "Socket.IO: Firebase disponible para autenticaci√≥n"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.387Z",
    "level": "warn",
    "category": "SOCKET_AUTH_DB_ERROR",
    "message": "Socket.IO: Database error during auth, using default role",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.387Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_DB_ERROR",
      "error": "firestoreInstance is not defined",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "email": "admin@company.com...",
      "level": "warn",
      "message": "Socket.IO: Database error during auth, using default role"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.388Z",
    "level": "info",
    "category": "SOCKET_AUTH_SUCCESS",
    "message": "Socket.IO: Authentication successful with workspaceId",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_SUCCESS",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "Socket.IO: Authentication successful with workspaceId"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.388Z",
    "level": "info",
    "category": "SOCKET_AUTH_WORKSPACE_TEST",
    "message": "Socket.IO: WorkspaceId extraction test",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_AUTH_WORKSPACE_TEST",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "testPassed": false,
      "workspaceId": "default_workspace",
      "level": "info",
      "message": "Socket.IO: WorkspaceId extraction test"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.388Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "RT:CONNECT",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "socketId": "zu1DyXAX...",
      "email": "admin@company.com...",
      "role": "agent",
      "level": "info",
      "message": "RT:CONNECT"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.388Z",
    "level": "info",
    "category": "SOCKET_USER_CONNECTED",
    "message": "New user connected via Socket.IO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_USER_CONNECTED",
      "email": "admin@company.com...",
      "role": "agent",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "totalConnected": 1,
      "connectedAt": "2025-08-21T20:17:02.388Z",
      "level": "info",
      "message": "New user connected via Socket.IO"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.388Z",
    "level": "info",
    "category": "SOCKET_WORKSPACE_JOIN",
    "message": "üîó Usuario unido al workspace room",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.388Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_WORKSPACE_JOIN",
      "userEmail": "admin@company.com...",
      "workspaceRoomId": "ws:default_workspace:ten:default_tenant:workspace",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "workspaceId": "default_workspace",
      "tenantId": "default_tenant",
      "level": "info",
      "message": "üîó Usuario unido al workspace room"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.464Z",
    "level": "info",
    "category": "CONVERSATIONS_API",
    "message": "CONVERSATIONS_REQUEST",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "requestId": "4f5fe514-b97c-45bb-a113-87ec5f5bda47",
      "timestamp": "2025-08-21T20:17:02.464Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "4f5fe514-b97c-45bb-a113-87ec5f5bda47",
      "userCtx": null,
      "category": "CONVERSATIONS_API",
      "user": "admin@company.com",
      "method": "GET",
      "path": "/",
      "query": {
        "page": "1",
        "limit": "20",
        "status": "all"
      },
      "level": "info",
      "message": "CONVERSATIONS_REQUEST"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.464Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:17:02.464Z",
    "level": "info",
    "category": "HTTP_REDIRECT",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Socket event listeners configurados con cleanup autom√°tico",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "userEmail": "admin@company.com...",
      "totalEvents": 23,
      "level": "info",
      "message": "Socket event listeners configurados con cleanup autom√°tico"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
    "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE",
      "userEmail": "admin@company.com...",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "socketConnected": true,
      "level": "info",
      "message": "üöÄ ENVIANDO SYNC INICIAL INMEDIATO"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_START",
    "message": "üöÄ INICIANDO sendInitialStateSync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_START",
      "socketId": "zu1DyXAX...",
      "socketConnected": true,
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üöÄ INICIANDO sendInitialStateSync"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
    "message": "üìã Obteniendo conversaciones del usuario",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS",
      "userEmail": "admin@company.com...",
      "level": "info",
      "message": "üìã Obteniendo conversaciones del usuario"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL",
    "message": "üîç Llamando Conversation.list",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL",
      "userEmail": "admin@company.com...",
      "hasConversationModel": true,
      "level": "info",
      "message": "üîç Llamando Conversation.list"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.489Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.489Z",
      "service": "utalk-backend",
      "environment": "production",
      "message": "üöÄ Ejecutando consulta espec√≠fica (no combinada)",
      "level": "info"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.601Z",
    "level": "info",
    "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
    "message": "üìã Conversation.list completado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.601Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_CONVERSATIONS_CALL_SUCCESS",
      "userEmail": "admin@company.com...",
      "resultType": "object",
      "isArray": false,
      "hasConversations": true,
      "resultKeys": [
        "conversations",
        "pagination"
      ],
      "level": "info",
      "message": "üìã Conversation.list completado"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.601Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
    "message": "‚úÖ Conversaciones obtenidas",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.601Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_CONVERSATIONS_SUCCESS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "‚úÖ Conversaciones obtenidas"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.602Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD",
    "message": "üìä Obteniendo conteos de mensajes no le√≠dos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.602Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "üìä Obteniendo conteos de mensajes no le√≠dos"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.716Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
    "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.716Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_UNREAD_SUCCESS",
      "userEmail": "admin@company.com...",
      "unreadCountsKeys": 1,
      "level": "info",
      "message": "‚úÖ Conteos de mensajes no le√≠dos obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.716Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
    "message": "üë• Obteniendo usuarios en l√≠nea",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.716Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "level": "info",
      "message": "üë• Obteniendo usuarios en l√≠nea"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.716Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
    "message": "‚úÖ Usuarios en l√≠nea obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.716Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_ONLINE_USERS_SUCCESS",
      "userEmail": "admin@company.com...",
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "‚úÖ Usuarios en l√≠nea obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.716Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_SEND",
    "message": "üì§ Enviando estado inicial al frontend",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.716Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_SEND",
      "userEmail": "admin@company.com...",
      "conversationsCount": 1,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "level": "info",
      "message": "üì§ Enviando estado inicial al frontend"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.716Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_COMPLETE",
    "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.716Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_COMPLETE",
      "email": "admin@company.com...",
      "conversationsCount": 1,
      "unreadCountsKeys": 1,
      "onlineUsersKeys": 0,
      "socketId": "zu1DyXAX...",
      "level": "info",
      "message": "üéâ SYNC INICIAL COMPLETADO EXITOSAMENTE"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:02.717Z",
    "level": "info",
    "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
    "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:02.717Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_INITIAL_SYNC_IMMEDIATE_SUCCESS",
      "userEmail": "admin@company.com...",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "level": "info",
      "message": "‚úÖ SYNC INICIAL INMEDIATO COMPLETADO"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:03.606Z",
    "level": "info",
    "category": "SOCKET_SYNC_STATE",
    "message": "User requesting state sync",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:03.606Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_SYNC_STATE",
      "email": "admin@company.com...",
      "socketId": "zu1DyXAXpwbFUU14AAAK",
      "level": "info",
      "message": "User requesting state sync"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:08.196Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Re-registrando listener faltante",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "event": "file-received",
      "emitter": "Socket",
      "level": "info",
      "message": "Re-registrando listener faltante"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:08.196Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "Listeners re-registrados exitosamente",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "count": 2,
      "emitter": "Socket",
      "level": "info",
      "message": "Listeners re-registrados exitosamente"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:08.196Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_RE_REGISTERED",
    "message": "Listeners re-registrados para socket",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_RE_REGISTERED",
      "socketId": "zu1DyXAX...",
      "userEmail": "admin@company.com...",
      "reRegisteredCount": 2,
      "level": "info",
      "message": "Listeners re-registrados para socket"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:08.196Z",
    "level": "info",
    "category": "SOCKET_LISTENERS_VERIFICATION",
    "message": "Verificaci√≥n de listeners completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:08.196Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_LISTENERS_VERIFICATION",
      "totalVerified": 2,
      "totalReRegistered": 2,
      "level": "info",
      "message": "Verificaci√≥n de listeners completada"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:18.176Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:18.176Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:17:18.177Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:17:18.184Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:17:18.188Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:18.188Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:23.690Z",
    "level": "info",
    "category": "EVENT_CLEANUP_AUTO",
    "message": "Auto cleanup ejecutado",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:23.690Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "EVENT_CLEANUP_AUTO",
      "cleanedCount": 25,
      "totalListeners": 75,
      "activeListeners": 50,
      "memoryPressure": "90.92%",
      "cleanupMode": "aggressive",
      "effectiveMaxAge": "900s",
      "effectiveMaxCalls": 250,
      "level": "info",
      "message": "Auto cleanup ejecutado"
    }
  },
  {
    "timestamp": "2025-08-21T20:17:48.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:17:48.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:18.185Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:18:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.123Z",
    "level": "info",
    "category": "_DASHBOARD_HTML_SOLICITADO_DES",
    "message": "üìä Dashboard HTML solicitado desde:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:24.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_DASHBOARD_HTML_SOLICITADO_DES",
      "level": "info",
      "message": "üìä Dashboard HTML solicitado desde:"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.123Z",
    "level": "info",
    "category": "DASHBOARD_SECURITY",
    "message": "DASHBOARD_ACCESS",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "189.253.97.13",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap",
      "requestId": "1de77fa0-1869-4358-be3f-abdac9b35313",
      "timestamp": "2025-08-21T20:18:24.123Z",
      "service": "utalk-backend",
      "environment": "production",
      "traceId": "1de77fa0-1869-4358-be3f-abdac9b35313",
      "userCtx": null,
      "category": "DASHBOARD_SECURITY",
      "user": "anonymous",
      "level": "info",
      "message": "DASHBOARD_ACCESS"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.123Z",
    "level": "info",
    "category": "SYSTEM",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:18:24.367Z",
    "level": "info",
    "category": "HTTP_REQUEST_START",
    "message": "üì• Petici√≥n HTTP iniciada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:18:24.369Z",
    "level": "info",
    "category": "HTTP_SUCCESS",
    "message": "‚úÖ Petici√≥n HTTP completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "189.253.97.13"
  },
  {
    "timestamp": "2025-08-21T20:18:24.452Z",
    "level": "info",
    "category": "_OBTENIENDO_STATS_",
    "message": "üìä Obteniendo stats...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:24.452Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_STATS_",
      "level": "info",
      "message": "üìä Obteniendo stats..."
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.453Z",
    "level": "info",
    "category": "_STATS_OBTENIDOS_",
    "message": "üìä Stats obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:18:24.453Z",
    "level": "info",
    "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
    "message": "üìà Obteniendo rate limit metrics...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:24.453Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "_OBTENIENDO_RATE_LIMIT_METRICS",
      "level": "info",
      "message": "üìà Obteniendo rate limit metrics..."
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.453Z",
    "level": "info",
    "category": "_RATE_LIMIT_METRICS_OBTENIDOS_",
    "message": "üìà Rate limit metrics obtenidos:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:18:24.453Z",
    "level": "info",
    "category": "ENVIANDO_RESPUESTA_",
    "message": "Enviando respuesta:",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:18:24.542Z",
    "level": "info",
    "category": "LOGS_OBTENIDOS",
    "message": "üìã Logs obtenidos",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:24.542Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_OBTENIDOS",
      "count": 358,
      "level": "info",
      "message": "üìã Logs obtenidos"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:24.542Z",
    "level": "info",
    "category": "RESPUESTA_GETLOGS",
    "message": "Enviando respuesta getLogs",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:24.542Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "RESPUESTA_GETLOGS",
      "count": 100,
      "level": "info",
      "message": "Enviando respuesta getLogs"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:26.971Z",
    "level": "info",
    "category": "LOGS_EXPORT_OPTIMIZED",
    "message": "üì§ Logs exportados optimizados",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:26.971Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_EXPORT_OPTIMIZED",
      "originalCount": 360,
      "simplifiedCount": 360,
      "format": "json",
      "filename": "logs-2025-08-21-optimized.json",
      "dataSize": 224205,
      "level": "info",
      "message": "üì§ Logs exportados optimizados"
    }
  },
  {
    "timestamp": "2025-08-21T20:18:48.188Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:18:48.188Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:19:17.488Z",
    "level": "info",
    "category": "CACHE_GLOBAL_CLEANUP",
    "message": "Limpieza global completada",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:19:17.488Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "CACHE_GLOBAL_CLEANUP",
      "totalCleaned": 2,
      "duration": 0,
      "totalMaps": 7,
      "simpleCacheSize": 0,
      "level": "info",
      "message": "Limpieza global completada"
    }
  },
  {
    "timestamp": "2025-08-21T20:19:18.175Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP",
    "message": "Performing Socket.IO memory cleanup...",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:19:18.175Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "SOCKET_MEMORY_CLEANUP",
      "level": "info",
      "message": "Performing Socket.IO memory cleanup..."
    }
  },
  {
    "timestamp": "2025-08-21T20:19:18.176Z",
    "level": "info",
    "category": "SOCKET_MEMORY_CLEANUP_COMPLETE",
    "message": "Socket.IO memory cleanup completed",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:19:18.185Z",
    "level": "info",
    "category": "SOCKET_METRICS",
    "message": "Socket.IO Performance Metrics",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown"
  },
  {
    "timestamp": "2025-08-21T20:19:18.187Z",
    "level": "info",
    "category": "SYSTEM",
    "message": "üìä M√©tricas de cola de campa√±as",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:19:18.187Z",
      "service": "utalk-backend",
      "environment": "production",
      "campaignsProcessed": 0,
      "messagesSent": 0,
      "messagesFailed": 0,
      "averageProcessingTime": 0,
      "activeWorkers": 0,
      "queueMetrics": {
        "waiting": 0,
        "active": 0,
        "completed": 0,
        "failed": 0,
        "delayed": 0,
        "paused": 0
      },
      "level": "info",
      "message": "üìä M√©tricas de cola de campa√±as"
    }
  },
  {
    "timestamp": "2025-08-21T20:19:20.231Z",
    "level": "info",
    "category": "LOGS_EXPORT_OPTIMIZED",
    "message": "üì§ Logs exportados optimizados",
    "userId": "system",
    "endpoint": "unknown",
    "ip": "unknown",
    "data": {
      "userId": "system",
      "endpoint": "unknown",
      "ip": "unknown",
      "userAgent": "unknown",
      "timestamp": "2025-08-21T20:19:20.231Z",
      "service": "utalk-backend",
      "environment": "production",
      "category": "LOGS_EXPORT_OPTIMIZED",
      "originalCount": 367,
      "simplifiedCount": 367,
      "format": "json",
      "filename": "logs-2025-08-21-optimized.json",
      "dataSize": 228429,
      "level": "info",
      "message": "üì§ Logs exportados optimizados"
    }
  }
]